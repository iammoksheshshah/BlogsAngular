import{a as er,b as co,c as uo,d as Ns,e as Rs,f as Fs,g as yi,h as tr}from"./chunk-VMRDKZBY.js";import{A as Qn,B as Jn,C as Xn,E as Re,F as Yt,H as so,I as Zn,J as lo,K as Ts,a as Xe,b as ro,c as vi,e as Ds,h as Ht,i as ue,m as oo,n as Ms,o as Ss,r as Is,s as Es,t as As,u as Os,v as jt,y as pe,z as ao}from"./chunk-CT5G5MLU.js";import{a as Ct,b as ys,c as Xr,d as ws,e as it,f as en,g as Zr,h as eo,i as to,j as Cs,k as Bt,m as io,n as tn,q as no,w as ks}from"./chunk-3R5LOSW2.js";import{e as Xi,f as zt,h as Je,i as Zi,j as Jr,k as Lt}from"./chunk-HI5UVXXW.js";import{$ as E,$a as P,Aa as je,Ab as _s,B as zn,Ba as ps,Ca as A,Cb as Wn,Da as R,Ea as b,Eb as qe,F as ns,Fa as hi,Fb as Pt,Ga as H,Gb as Ae,H as Ln,Hb as Kn,I as wt,Ia as Ie,Ib as Un,Ja as v,Jb as xi,Ka as y,Kb as Gn,L as tt,La as O,Lb as Vt,M as Me,Ma as fi,N as U,Na as gi,Nb as xs,O as le,Oa as ms,P as Ft,Pa as X,Pb as ce,Q as Be,Qa as bi,R as rs,Ra as hs,S as as,Sa as M,T as Se,Ta as fs,U as z,Ua as C,V as G,Va as Ne,W as Z,Wa as Q,X as ss,Ya as Ye,Yb as vs,Z as He,Za as $,_ as I,_a as F,a as re,aa as Bn,ab as pt,b as ut,ba as ls,bb as j,ca as Hn,cb as ie,da as Ki,db as Ee,ea as Ui,eb as jn,fb as Yn,ga as W,gb as qn,h as Le,ha as T,hb as oe,i as es,j as J,ja as Gi,kb as Qr,l as ts,lb as $n,ma as mi,mb as _i,n as Rt,na as ds,oa as Qi,ob as L,p as is,pa as g,pb as B,qa as _,ra as Ji,sb as gs,ub as bs,w as pi,wa as cs,wb as de,x as Vn,xa as te,ya as us}from"./chunk-DWQQEXDO.js";var Ps=n=>typeof n>"u"||n===null,uu=n=>n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),pu=n=>{let t={};return Object.keys(n).forEach(e=>{n[e]&&(t[e]=n[e])}),t},ir=n=>{let t=pu(n);return Object.entries(t).map(([e,i])=>`${uu(e)}:${i}`).join(";")},wi=class extends Error{constructor(t){super(t),this.name=this.constructor.name}},po=()=>{let n=Date.now().toString(36),t=Math.random().toString(36).substring(2,7);return`${n}${t}`},Vs=(n,t,e)=>Math.min(Math.max(n,t),e);function be(n){this.content=n}be.prototype={constructor:be,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,e){var i=e&&e!=n?this.remove(e):this,r=i.find(n),o=i.content.slice();return r==-1?o.push(e||n,t):(o[r+1]=t,e&&(o[r]=e)),new be(o)},remove:function(n){var t=this.find(n);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new be(e)},addToStart:function(n,t){return new be([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new be(e)},addBefore:function(n,t,e){var i=this.remove(t),r=i.content.slice(),o=i.find(n);return r.splice(o==-1?r.length:o,0,t,e),new be(r)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=be.from(n),n.size?new be(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=be.from(n),n.size?new be(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=be.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},toObject:function(){var n={};return this.forEach(function(t,e){n[t]=e}),n},get size(){return this.content.length>>1}};be.from=function(n){if(n instanceof be)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new be(t)};var mo=be;function Ks(n,t,e){for(let i=0;;i++){if(i==n.childCount||i==t.childCount)return n.childCount==t.childCount?null:e;let r=n.child(i),o=t.child(i);if(r==o){e+=r.nodeSize;continue}if(!r.sameMarkup(o))return e;if(r.isText&&r.text!=o.text){for(let a=0;r.text[a]==o.text[a];a++)e++;return e}if(r.content.size||o.content.size){let a=Ks(r.content,o.content,e+1);if(a!=null)return a}e+=r.nodeSize}}function Us(n,t,e,i){for(let r=n.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:e,b:i};let a=n.child(--r),s=t.child(--o),l=a.nodeSize;if(a==s){e-=l,i-=l;continue}if(!a.sameMarkup(s))return{a:e,b:i};if(a.isText&&a.text!=s.text){let d=0,c=Math.min(a.text.length,s.text.length);for(;d<c&&a.text[a.text.length-d-1]==s.text[s.text.length-d-1];)d++,e--,i--;return{a:e,b:i}}if(a.content.size||s.content.size){let d=Us(a.content,s.content,e-1,i-1);if(d)return d}e-=l,i-=l}}var w=class n{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,e,i,r=0,o){for(let a=0,s=0;s<e;a++){let l=this.content[a],d=s+l.nodeSize;if(d>t&&i(l,r+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,e-c),i,r+c)}s=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,i,r){let o="",a=!0;return this.nodesBetween(t,e,(s,l)=>{let d=s.isText?s.text.slice(Math.max(t,l)-l,e-l):s.isLeaf?r?typeof r=="function"?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&d||s.isTextblock)&&i&&(a?a=!1:o+=i),o+=d},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,i=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(i)&&(r[r.length-1]=e.withText(e.text+i.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new n(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let i=[],r=0;if(e>t)for(let o=0,a=0;a<e;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>e)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,e-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,e-a-1))),i.push(s),r+=s.nodeSize),a=l}return new n(i,r)}cutByIndex(t,e){return t==e?n.empty:t==0&&e==this.content.length?this:new n(this.content.slice(t,e))}replaceChild(t,e){let i=this.content[t];if(i==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-i.nodeSize;return r[t]=e,new n(r,o)}addToStart(t){return new n([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new n(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,i=0;e<this.content.length;e++){let r=this.content[e];t(r,i,e),i+=r.nodeSize}}findDiffStart(t,e=0){return Ks(this,t,e)}findDiffEnd(t,e=this.size,i=t.size){return Us(this,t,e,i)}findIndex(t){if(t==0)return nr(0,t);if(t==this.size)return nr(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let e=0,i=0;;e++){let r=this.child(e),o=i+r.nodeSize;if(o>=t)return o==t?nr(e+1,o):nr(e,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return n.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new n(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return n.empty;let e,i=0;for(let r=0;r<t.length;r++){let o=t[r];i+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new n(e||t,i)}static from(t){if(!t)return n.empty;if(t instanceof n)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new n([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};w.empty=new w([],0);var ho={index:0,offset:0};function nr(n,t){return ho.index=n,ho.offset=t,ho}function or(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!or(n[i],t[i]))return!1}else{for(let i in n)if(!(i in t)||!or(n[i],t[i]))return!1;for(let i in t)if(!(i in n))return!1}return!0}var q=(()=>{class n{constructor(e,i){this.type=e,this.attrs=i}addToSet(e){let i,r=!1;for(let o=0;o<e.length;o++){let a=e[o];if(this.eq(a))return e;if(this.type.excludes(a.type))i||(i=e.slice(0,o));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(i||(i=e.slice(0,o)),i.push(this),r=!0),i&&i.push(a)}}return i||(i=e.slice()),r||i.push(this),i}removeFromSet(e){for(let i=0;i<e.length;i++)if(this.eq(e[i]))return e.slice(0,i).concat(e.slice(i+1));return e}isInSet(e){for(let i=0;i<e.length;i++)if(this.eq(e[i]))return!0;return!1}eq(e){return this==e||this.type==e.type&&or(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let i in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[i.type];if(!r)throw new RangeError(`There is no mark type ${i.type} in this schema`);let o=r.create(i.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,i){if(e==i)return!0;if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(i[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return n.none;if(e instanceof n)return[e];let i=e.slice();return i.sort((r,o)=>r.type.rank-o.type.rank),i}}return n.none=[],n})(),Wt=class extends Error{},k=class n{constructor(t,e,i){this.content=t,this.openStart=e,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let i=Qs(this.content,t+this.openStart,e);return i&&new n(i,this.openStart,this.openEnd)}removeBetween(t,e){return new n(Gs(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return n.empty;let i=e.openStart||0,r=e.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new n(w.fromJSON(t,e.content),i,r)}static maxOpen(t,e=!0){let i=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new n(t,i,r)}};k.empty=new k(w.empty,0,0);function Gs(n,t,e){let{index:i,offset:r}=n.findIndex(t),o=n.maybeChild(i),{index:a,offset:s}=n.findIndex(e);if(r==t||o.isText){if(s!=e&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(i!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(i,o.copy(Gs(o.content,t-r-1,e-r-1)))}function Qs(n,t,e,i){let{index:r,offset:o}=n.findIndex(t),a=n.maybeChild(r);if(o==t||a.isText)return i&&!i.canReplace(r,r,e)?null:n.cut(0,t).append(e).append(n.cut(t));let s=Qs(a.content,t-o-1,e);return s&&n.replaceChild(r,a.copy(s))}function mu(n,t,e){if(e.openStart>n.depth)throw new Wt("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new Wt("Inconsistent open depths");return Js(n,t,e,0)}function Js(n,t,e,i){let r=n.index(i),o=n.node(i);if(r==t.index(i)&&i<n.depth-e.openStart){let a=Js(n,t,e,i+1);return o.copy(o.content.replaceChild(r,a))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&n.depth==i&&t.depth==i){let a=n.parent,s=a.content;return $t(a,s.cut(0,n.parentOffset).append(e.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=hu(e,n);return $t(o,Zs(n,a,s,t,i))}else return $t(o,ar(n,t,i))}function Xs(n,t){if(!t.type.compatibleContent(n.type))throw new Wt("Cannot join "+t.type.name+" onto "+n.type.name)}function go(n,t,e){let i=n.node(e);return Xs(i,t.node(e)),i}function qt(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function nn(n,t,e,i){let r=(t||n).node(e),o=0,a=t?t.index(e):r.childCount;n&&(o=n.index(e),n.depth>e?o++:n.textOffset&&(qt(n.nodeAfter,i),o++));for(let s=o;s<a;s++)qt(r.child(s),i);t&&t.depth==e&&t.textOffset&&qt(t.nodeBefore,i)}function $t(n,t){return n.type.checkContent(t),n.copy(t)}function Zs(n,t,e,i,r){let o=n.depth>r&&go(n,t,r+1),a=i.depth>r&&go(e,i,r+1),s=[];return nn(null,n,r,s),o&&a&&t.index(r)==e.index(r)?(Xs(o,a),qt($t(o,Zs(n,t,e,i,r+1)),s)):(o&&qt($t(o,ar(n,t,r+1)),s),nn(t,e,r,s),a&&qt($t(a,ar(e,i,r+1)),s)),nn(i,null,r,s),new w(s)}function ar(n,t,e){let i=[];if(nn(null,n,e,i),n.depth>e){let r=go(n,t,e+1);qt($t(r,ar(n,t,e+1)),i)}return nn(t,null,e,i),new w(i)}function hu(n,t){let e=t.depth-n.openStart,r=t.node(e).copy(n.content);for(let o=e-1;o>=0;o--)r=t.node(o).copy(w.from(r));return{start:r.resolveNoCache(n.openStart+e),end:r.resolveNoCache(r.content.size-n.openEnd-e)}}var sr=class n{constructor(t,e,i){this.pos=t,this.path=e,this.parentOffset=i,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=t.child(e);return i?t.child(e).cut(i):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let i=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let o=0;o<t;o++)r+=i.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return q.none;if(this.textOffset)return t.child(e).marks;let i=t.maybeChild(e-1),r=t.maybeChild(e);if(!i){let s=i;i=r,r=s}let o=i.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!r||!o[a].isInSet(r.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let i=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!e||e(this.node(i))))return new Kt(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let i=[],r=0,o=e;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),d=o-l;if(i.push(a,s,r+l),!d||(a=a.child(s),a.isText))break;o=d-1,r+=l+1}return new n(e,i,o)}static resolveCached(t,e){let i=zs.get(t);if(i)for(let o=0;o<i.elts.length;o++){let a=i.elts[o];if(a.pos==e)return a}else zs.set(t,i=new bo);let r=i.elts[i.i]=n.resolve(t,e);return i.i=(i.i+1)%fu,r}},bo=class{constructor(){this.elts=[],this.i=0}},fu=12,zs=new WeakMap,Kt=class{constructor(t,e,i){this.$from=t,this.$to=e,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},gu=Object.create(null),nt=class n{constructor(t,e,i,r=q.none){this.type=t,this.attrs=e,this.marks=r,this.content=i||w.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,i,r=0){this.content.nodesBetween(t,e,i,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,i,r){return this.content.textBetween(t,e,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,i){return this.type==t&&or(this.attrs,e||t.defaultAttrs||gu)&&q.sameSet(this.marks,i||q.none)}copy(t=null){return t==this.content?this:new n(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new n(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,i=!1){if(t==e)return k.empty;let r=this.resolve(t),o=this.resolve(e),a=i?0:r.sharedDepth(e),s=r.start(a),d=r.node(a).content.cut(r.pos-s,o.pos-s);return new k(d,r.depth-a,o.depth-a)}replace(t,e,i){return mu(this.resolve(t),this.resolve(e),i)}nodeAt(t){for(let e=this;;){let{index:i,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(i),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(e),index:e,offset:i};let r=this.content.child(e-1);return{node:r,index:e-1,offset:i-r.nodeSize}}resolve(t){return sr.resolveCached(this,t)}resolveNoCache(t){return sr.resolve(this,t)}rangeHasMark(t,e,i){let r=!1;return e>t&&this.nodesBetween(t,e,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),el(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,i=w.empty,r=0,o=i.childCount){let a=this.contentMatchAt(t).matchFragment(i,r,o),s=a&&a.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(t,e,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(i),a=o&&o.matchFragment(this.content,e);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=q.none;for(let e=0;e<this.marks.length;e++){let i=this.marks[e];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!q.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let i;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,i)}let r=w.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,i);return o.type.checkAttrs(o.attrs),o}};nt.prototype.text=void 0;var _o=class n extends nt{constructor(t,e,i,r){if(super(t,e,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):el(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new n(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new n(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function el(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}var Ut=class n{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let i=new xo(t,e);if(i.next==null)return n.empty;let r=tl(i);i.next&&i.err("Unexpected trailing text");let o=Cu(wu(r));return ku(o,i),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,i=t.childCount){let r=this;for(let o=e;r&&o<i;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let i=0;i<t.next.length;i++)if(this.next[e].type==t.next[i].type)return!0;return!1}fillBefore(t,e=!1,i=0){let r=[this];function o(a,s){let l=a.matchFragment(t,i);if(l&&(!e||l.validEnd))return w.from(s.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:c,next:u}=a.next[d];if(!(c.isText||c.hasRequiredAttrs())&&r.indexOf(u)==-1){r.push(u);let p=o(u,s.concat(c));if(p)return p}}return null}return o(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(t)){let a=[];for(let s=r;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in e)&&(!r.type||l.validEnd)&&(i.push({match:s.contentMatch,type:s,via:r}),e[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(i){t.push(i);for(let r=0;r<i.next.length;r++)t.indexOf(i.next[r].next)==-1&&e(i.next[r].next)}return e(this),t.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let a=0;a<i.next.length;a++)o+=(a?", ":"")+i.next[a].type.name+"->"+t.indexOf(i.next[a].next);return o}).join(`
`)}};Ut.empty=new Ut(!0);var xo=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function tl(n){let t=[];do t.push(bu(n));while(n.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function bu(n){let t=[];do t.push(_u(n));while(n.next&&n.next!=")"&&n.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function _u(n){let t=yu(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else if(n.eat("{"))t=xu(n,t);else break;return t}function Ls(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function xu(n,t){let e=Ls(n),i=e;return n.eat(",")&&(n.next!="}"?i=Ls(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:i,expr:t}}function vu(n,t){let e=n.nodeTypes,i=e[t];if(i)return[i];let r=[];for(let o in e){let a=e[o];a.isInGroup(t)&&r.push(a)}return r.length==0&&n.err("No node type or group '"+t+"' found"),r}function yu(n){if(n.eat("(")){let t=tl(n);return n.eat(")")||n.err("Missing closing paren"),t}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let t=vu(n,n.next).map(e=>(n.inline==null?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function wu(n){let t=[[]];return r(o(n,0),e()),t;function e(){return t.push([])-1}function i(a,s,l){let d={term:l,to:s};return t[a].push(d),d}function r(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,d)=>l.concat(o(d,s)),[]);if(a.type=="seq")for(let l=0;;l++){let d=o(a.exprs[l],s);if(l==a.exprs.length-1)return d;r(d,s=e())}else if(a.type=="star"){let l=e();return i(s,l),r(o(a.expr,l),l),[i(l)]}else if(a.type=="plus"){let l=e();return r(o(a.expr,s),l),r(o(a.expr,l),l),[i(l)]}else{if(a.type=="opt")return[i(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let d=0;d<a.min;d++){let c=e();r(o(a.expr,l),c),l=c}if(a.max==-1)r(o(a.expr,l),l);else for(let d=a.min;d<a.max;d++){let c=e();i(l,c),r(o(a.expr,l),c),l=c}return[i(l)]}else{if(a.type=="name")return[i(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function il(n,t){return t-n}function Bs(n,t){let e=[];return i(t),e.sort(il);function i(r){let o=n[r];if(o.length==1&&!o[0].term)return i(o[0].to);e.push(r);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&e.indexOf(l)==-1&&i(l)}}}function Cu(n){let t=Object.create(null);return e(Bs(n,0));function e(i){let r=[];i.forEach(a=>{n[a].forEach(({term:s,to:l})=>{if(!s)return;let d;for(let c=0;c<r.length;c++)r[c][0]==s&&(d=r[c][1]);Bs(n,l).forEach(c=>{d||r.push([s,d=[]]),d.indexOf(c)==-1&&d.push(c)})})});let o=t[i.join(",")]=new Ut(i.indexOf(n.length-1)>-1);for(let a=0;a<r.length;a++){let s=r[a][1].sort(il);o.next.push({type:r[a][0],next:t[s.join(",")]||e(s)})}return o}}function ku(n,t){for(let e=0,i=[n];e<i.length;e++){let r=i[e],o=!r.validEnd,a=[];for(let s=0;s<r.next.length;s++){let{type:l,next:d}=r.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),i.indexOf(d)==-1&&i.push(d)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function nl(n){let t=Object.create(null);for(let e in n){let i=n[e];if(!i.hasDefault)return null;t[e]=i.default}return t}function rl(n,t){let e=Object.create(null);for(let i in n){let r=t&&t[i];if(r===void 0){let o=n[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}e[i]=r}return e}function ol(n,t,e,i){for(let r in t)if(!(r in n))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in n){let o=n[r];o.validate&&o.validate(t[r])}}function al(n,t){let e=Object.create(null);if(t)for(let i in t)e[i]=new vo(n,i,t[i]);return e}var lr=class n{constructor(t,e,i){this.name=t,this.schema=e,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=al(t,i.attrs),this.defaultAttrs=nl(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ut.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:rl(this.attrs,t)}create(t=null,e,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new nt(this,this.computeAttrs(t),w.from(e),q.setFrom(i))}createChecked(t=null,e,i){return e=w.from(e),this.checkContent(e),new nt(this,this.computeAttrs(t),e,q.setFrom(i))}createAndFill(t=null,e,i){if(t=this.computeAttrs(t),e=w.from(e),e.size){let a=this.contentMatch.fillBefore(e);if(!a)return null;e=a.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore(w.empty,!0);return o?new nt(this,t,e.append(o),q.setFrom(i)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){ol(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?e&&e.push(t[i]):e||(e=t.slice(0,i));return e?e.length?e:q.none:t}static compile(t,e){let i=Object.create(null);t.forEach((o,a)=>i[o]=new n(o,e,a));let r=e.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function Du(n,t,e){let i=e.split("|");return r=>{let o=r===null?"null":typeof r;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${n}, got ${o}`)}}var vo=class{constructor(t,e,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?Du(t,e,i.validate):i.validate}get isRequired(){return!this.hasDefault}},on=class n{constructor(t,e,i,r){this.name=t,this.rank=e,this.schema=i,this.spec=r,this.attrs=al(t,r.attrs),this.excluded=null;let o=nl(this.attrs);this.instance=o?new q(this,o):null}create(t=null){return!t&&this.instance?this.instance:new q(this,rl(this.attrs,t))}static compile(t,e){let i=Object.create(null),r=0;return t.forEach((o,a)=>i[o]=new n(o,r++,e,a)),i}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){ol(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},dr=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=mo.from(t.nodes),e.marks=mo.from(t.marks||{}),this.nodes=lr.compile(this.spec.nodes,this),this.marks=on.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=i[a]||(i[a]=Ut.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?Hs(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:Hs(this,a.split(" "))}this.nodeFromJSON=r=>nt.fromJSON(this,r),this.markFromJSON=r=>q.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,i,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof lr){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,i,r)}text(t,e){let i=this.nodes.text;return new _o(i,i.defaultAttrs,t,q.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function Hs(n,t){let e=[];for(let i=0;i<t.length;i++){let r=t[i],o=n.marks[r],a=o;if(o)e.push(o);else for(let s in n.marks){let l=n.marks[s];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return e}function Mu(n){return n.tag!=null}function Su(n){return n.style!=null}var kt=class n{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let i=this.matchedStyles=[];e.forEach(r=>{if(Mu(r))this.tags.push(r);else if(Su(r)){let o=/[^=]*/.exec(r.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let i=new cr(this,e,!1);return i.addAll(t,q.none,e.from,e.to),i.finish()}parseSlice(t,e={}){let i=new cr(this,e,!0);return i.addAll(t,q.none,e.from,e.to),k.maxOpen(i.finish())}matchTag(t,e,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(Au(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,e,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!i.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=e))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let e=[];function i(r){let o=r.priority==null?50:r.priority,a=0;for(;a<e.length;a++){let s=e[a];if((s.priority==null?50:s.priority)<o)break}e.splice(a,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(a=>{i(a=Ys(a)),a.mark||a.ignore||a.clearMark||(a.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(a=>{i(a=Ys(a)),a.node||a.ignore||a.mark||(a.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new n(t,n.schemaRules(t)))}},sl={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Iu={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ll={ol:!0,ul:!0},an=1,yo=2,rn=4;function js(n,t,e){return t!=null?(t?an:0)|(t==="full"?yo:0):n&&n.whitespace=="pre"?an|yo:e&~rn}var Ci=class{constructor(t,e,i,r,o,a){this.type=t,this.attrs=e,this.marks=i,this.solid=r,this.options=a,this.content=[],this.activeMarks=q.none,this.match=o||(a&rn?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(w.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(t.type))?(this.match=i,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&an)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let e=w.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(w.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!sl.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},cr=class{constructor(t,e,i){this.parser=t,this.options=e,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=e.topNode,o,a=js(null,e.preserveWhitespace,0)|(i?rn:0);r?o=new Ci(r.type,r.attrs,q.none,!0,e.topMatch||r.type.contentMatch,a):i?o=new Ci(null,null,q.none,!0,null,a):o=new Ci(t.schema.topNodeType,null,q.none,!0,null,a),this.nodes=[o],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let i=t.nodeValue,r=this.top,o=r.options&yo?"full":this.localPreserveWS||(r.options&an)>0;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(o)o!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),e,!/\S/.test(i)),this.findInText(t)}else this.findInside(t)}addElement(t,e,i){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;ll.hasOwnProperty(a)&&this.parser.normalizeLists&&Eu(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,i));e:if(l?l.ignore:Iu.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let d,c=this.needsBlock;if(sl.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),d=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let u=l&&l.skip?e:this.readStyles(t,e);u&&this.addAll(t,u),d&&this.sync(o),this.needsBlock=c}else{let d=this.readStyles(t,e);d&&this.addElementByRule(t,l,d,l.consuming===!1?s:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let i=t.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],a=i.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(d=>!l.clearMark(d)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return e}addElementByRule(t,e,i,r){let o,a;if(e.node)if(a=this.parser.schema.nodes[e.node],a.isLeaf)this.insertNode(a.create(e.attrs),i,t.nodeName=="BR")||this.leafFallback(t,i);else{let l=this.enter(a,e.attrs||null,i,e.preserveWhitespace);l&&(o=!0,i=l)}else{let l=this.parser.schema.marks[e.mark];i=i.concat(l.create(e.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(r)this.addElement(t,i,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,i,!1));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,i),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,e,i,r){let o=i||0;for(let a=i?t.childNodes[i]:t.firstChild,s=r==null?null:t.childNodes[r];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,e);this.findAtPoint(t,o)}findPlace(t,e,i){let r,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],d=l.findWrapping(t);if(d&&(!r||r.length>d.length+s)&&(r=d,o=l,!d.length))break;if(l.solid){if(i)break;s+=2}}if(!r)return null;this.sync(o);for(let a=0;a<r.length;a++)e=this.enterInner(r[a],null,e,!1);return e}insertNode(t,e,i){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(e=this.enterInner(o,null,e))}let r=this.findPlace(t,e,i);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=q.none;for(let s of r.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):qs(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,e,i,r){let o=this.findPlace(t.create(e),i,!1);return o&&(o=this.enterInner(t,e,i,!0,r)),o}enterInner(t,e,i,r=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=js(t,o,a.options);a.options&rn&&a.content.length==0&&(s|=rn);let l=q.none;return i=i.filter(d=>(a.type?a.type.allowsMarkType(d.type):qs(d.type,t))?(l=d.addToSet(l),!1):!0),this.nodes.push(new Ci(t,e,l,r,null,s)),this.open++,i}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=an)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let i=this.nodes[e].content;for(let r=i.length-1;r>=0;r--)t+=i[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==e&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,i){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),a=(s,l)=>{for(;s>=0;s--){let d=e[s];if(d==""){if(s==e.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&r?this.nodes[l].type:i&&l>=o?i.node(l-o).type:null;if(!c||c.name!=d&&!c.isInGroup(d))return!1;l--}}return!0};return a(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let i=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let e in this.parser.schema.nodes){let i=this.parser.schema.nodes[e];if(i.isTextblock&&i.defaultAttrs)return i}}};function Eu(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&ll.hasOwnProperty(i)&&e?(e.appendChild(t),t=e):i=="li"?e=t:i&&(e=null)}}function Au(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function Ys(n){let t={};for(let e in n)t[e]=n[e];return t}function qs(n,t){let e=t.schema.nodes;for(let i in e){let r=e[i];if(!r.allowsMarkType(n))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:d,next:c}=s.edge(l);if(d==t||o.indexOf(c)<0&&a(c))return!0}};if(a(r.contentMatch))return!0}}var mt=class n{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},i){i||(i=fo(e).createDocumentFragment());let r=i,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let d=a.marks[l];if(!this.marks[d.type.name]){l++;continue}if(!d.eq(o[s][0])||d.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)r=o.pop()[1];for(;l<a.marks.length;){let d=a.marks[l++],c=this.serializeMark(d,a.isInline,e);c&&(o.push([d,r]),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(this.serializeNodeInner(a,e))}),i}serializeNodeInner(t,e){let{dom:i,contentDOM:r}=rr(fo(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return i}serializeNode(t,e={}){let i=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(t,e,i={}){let r=this.marks[t.type.name];return r&&rr(fo(i),r(t,e),null,t.attrs)}static renderSpec(t,e,i=null,r){return rr(t,e,i,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new n(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=$s(t.nodes);return e.text||(e.text=i=>i.text),e}static marksFromSchema(t){return $s(t.marks)}};function $s(n){let t={};for(let e in n){let i=n[e].spec.toDOM;i&&(t[e]=i)}return t}function fo(n){return n.document||window.document}var Ws=new WeakMap;function Ou(n){let t=Ws.get(n);return t===void 0&&Ws.set(n,t=Tu(n)),t}function Tu(n){let t=null;function e(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let r=0;r<i.length;r++)e(i[r]);else for(let r in i)e(i[r])}return e(n),t}function rr(n,t,e,i){if(typeof t=="string")return{dom:n.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=Ou(i))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=r.indexOf(" ");a>0&&(e=r.slice(0,a),r=r.slice(a+1));let s,l=e?n.createElementNS(e,r):n.createElement(r),d=t[1],c=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){c=2;for(let u in d)if(d[u]!=null){let p=u.indexOf(" ");p>0?l.setAttributeNS(u.slice(0,p),u.slice(p+1),d[u]):u=="style"&&l.style?l.style.cssText=d[u]:l.setAttribute(u,d[u])}}for(let u=c;u<t.length;u++){let p=t[u];if(p===0){if(u<t.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:m}=rr(n,p,e,i);if(l.appendChild(h),m){if(s)throw new RangeError("Multiple content holes");s=m}}}return{dom:l,contentDOM:s}}var ul=65535,pl=Math.pow(2,16);function Nu(n,t){return n+t*pl}function dl(n){return n&ul}function Ru(n){return(n-(n&ul))/pl}var ml=1,hl=2,ur=4,fl=8,dn=class{constructor(t,e,i){this.pos=t,this.delInfo=e,this.recover=i}get deleted(){return(this.delInfo&fl)>0}get deletedBefore(){return(this.delInfo&(ml|ur))>0}get deletedAfter(){return(this.delInfo&(hl|ur))>0}get deletedAcross(){return(this.delInfo&ur)>0}},ht=class n{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&n.empty)return n.empty}recover(t){let e=0,i=dl(t);if(!this.inverted)for(let r=0;r<i;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+e+Ru(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,i){let r=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let d=this.ranges[s+o],c=this.ranges[s+a],u=l+d;if(t<=u){let p=d?t==l?-1:t==u?1:e:e,h=l+r+(p<0?0:c);if(i)return h;let m=t==(e<0?l:u)?null:Nu(s/3,t-l),f=t==l?hl:t==u?ml:ur;return(e<0?t!=l:t!=u)&&(f|=fl),new dn(h,f,m)}r+=c-d}return i?t+r:new dn(t+r,0,null)}touches(t,e){let i=0,r=dl(e),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let d=this.ranges[s+o],c=l+d;if(t<=c&&s==r*3)return!0;i+=this.ranges[s+a]-d}return!1}forEach(t){let e=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let a=this.ranges[r],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),d=this.ranges[r+e],c=this.ranges[r+i];t(s,s+d,l,l+c),o+=c-d}}invert(){return new n(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?n.empty:new n(t<0?[0,-t,0]:[0,0,t])}};ht.empty=new ht([]);var cn=class n{constructor(t,e,i=0,r=t?t.length:0){this.mirror=e,this.from=i,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new n(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,i=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],r!=null&&r<e?i+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,i=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),r!=null&&r>e?i-r-1:void 0)}}invert(){let t=new n;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let i=this.from;i<this.to;i++)t=this._maps[i].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,i){let r=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,e);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}r|=s.delInfo,t=s.pos}return i?t:new dn(t,r,null)}},wo=Object.create(null),ae=class{getMap(){return ht.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=wo[e.stepType];if(!i)throw new RangeError(`No step type ${e.stepType} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in wo)throw new RangeError("Duplicate use of step JSON ID "+t);return wo[t]=e,e.prototype.jsonID=t,e}},me=class n{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new n(t,null)}static fail(t){return new n(null,t)}static fromReplace(t,e,i,r){try{return n.ok(t.replace(e,i,r))}catch(o){if(o instanceof Wt)return n.fail(o.message);throw o}}};function So(n,t,e){let i=[];for(let r=0;r<n.childCount;r++){let o=n.child(r);o.content.size&&(o=o.copy(So(o.content,t,o))),o.isInline&&(o=t(o,e,r)),i.push(o)}return w.fromArray(i)}var un=class n extends ae{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=t.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new k(So(e.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),r),e.openStart,e.openEnd);return me.fromReplace(t,this.from,this.to,o)}invert(){return new Gt(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new n(e.pos,i.pos,this.mark)}merge(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}};ae.jsonID("addMark",un);var Gt=class n extends ae{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=new k(So(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return me.fromReplace(t,this.from,this.to,i)}invert(){return new un(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new n(e.pos,i.pos,this.mark)}merge(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}};ae.jsonID("removeMark",Gt);var pn=class n extends ae{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return me.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return me.fromReplace(t,this.pos,this.pos+1,new k(w.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let i=this.mark.addToSet(e.marks);if(i.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(i))return new n(this.pos,e.marks[r]);return new n(this.pos,this.mark)}}return new ki(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new n(e.pos,t.markFromJSON(e.mark))}};ae.jsonID("addNodeMark",pn);var ki=class n extends ae{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return me.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return me.fromReplace(t,this.pos,this.pos+1,new k(w.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new pn(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new n(e.pos,t.markFromJSON(e.mark))}};ae.jsonID("removeNodeMark",ki);var Fe=class n extends ae{constructor(t,e,i,r=!1){super(),this.from=t,this.to=e,this.slice=i,this.structure=r}apply(t){return this.structure&&Do(t,this.from,this.to)?me.fail("Structure replace would overwrite content"):me.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ht([this.from,this.to-this.from,this.slice.size])}invert(t){return new n(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deletedAcross&&i.deletedAcross?null:new n(e.pos,Math.max(e.pos,i.pos),this.slice,this.structure)}merge(t){if(!(t instanceof n)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?k.empty:new k(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new n(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?k.empty:new k(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new n(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(e.from,e.to,k.fromJSON(t,e.slice),!!e.structure)}};ae.jsonID("replace",Fe);var se=class n extends ae{constructor(t,e,i,r,o,a,s=!1){super(),this.from=t,this.to=e,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(Do(t,this.from,this.gapFrom)||Do(t,this.gapTo,this.to)))return me.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return me.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,e.content);return i?me.fromReplace(t,this.from,this.to,i):me.fail("Content does not fit in gap")}getMap(){return new ht([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return e.deletedAcross&&i.deletedAcross||r<e.pos||o>i.pos?null:new n(e.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(e.from,e.to,e.gapFrom,e.gapTo,k.fromJSON(t,e.slice),e.insert,!!e.structure)}};ae.jsonID("replaceAround",se);function Do(n,t,e){let i=n.resolve(t),r=e-t,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let a=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function Fu(n,t,e,i){let r=[],o=[],a,s;n.doc.nodesBetween(t,e,(l,d,c)=>{if(!l.isInline)return;let u=l.marks;if(!i.isInSet(u)&&c.type.allowsMarkType(i.type)){let p=Math.max(d,t),h=Math.min(d+l.nodeSize,e),m=i.addToSet(u);for(let f=0;f<u.length;f++)u[f].isInSet(m)||(a&&a.to==p&&a.mark.eq(u[f])?a.to=h:r.push(a=new Gt(p,h,u[f])));s&&s.to==p?s.to=h:o.push(s=new un(p,h,i))}}),r.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function Pu(n,t,e,i){let r=[],o=0;n.doc.nodesBetween(t,e,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(i instanceof on){let d=a.marks,c;for(;c=i.isInSet(d);)(l||(l=[])).push(c),d=c.removeFromSet(d)}else i?i.isInSet(a.marks)&&(l=[i]):l=a.marks;if(l&&l.length){let d=Math.min(s+a.nodeSize,e);for(let c=0;c<l.length;c++){let u=l[c],p;for(let h=0;h<r.length;h++){let m=r[h];m.step==o-1&&u.eq(r[h].style)&&(p=m)}p?(p.to=d,p.step=o):r.push({style:u,from:Math.max(s,t),to:d,step:o})}}}),r.forEach(a=>n.step(new Gt(a.from,a.to,a.style)))}function Io(n,t,e,i=e.contentMatch,r=!0){let o=n.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let d=o.child(l),c=s+d.nodeSize,u=i.matchType(d.type);if(!u)a.push(new Fe(s,c,k.empty));else{i=u;for(let p=0;p<d.marks.length;p++)e.allowsMarkType(d.marks[p].type)||n.step(new Gt(s,c,d.marks[p]));if(r&&d.isText&&e.whitespace!="pre"){let p,h=/\r?\n|\r/g,m;for(;p=h.exec(d.text);)m||(m=new k(w.from(e.schema.text(" ",e.allowedMarks(d.marks))),0,0)),a.push(new Fe(s+p.index,s+p.index+p[0].length,m))}}s=c}if(!i.validEnd){let l=i.fillBefore(w.empty,!0);n.replace(s,s,new k(l,0,0))}for(let l=a.length-1;l>=0;l--)n.step(a[l])}function Vu(n,t,e){return(t==0||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function Qt(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth;;--i){let r=n.$from.node(i),o=n.$from.index(i),a=n.$to.indexAfter(i);if(i<n.depth&&r.canReplace(o,a,e))return i;if(i==0||r.type.spec.isolating||!Vu(r,o,a))break}return null}function zu(n,t,e){let{$from:i,$to:r,depth:o}=t,a=i.before(o+1),s=r.after(o+1),l=a,d=s,c=w.empty,u=0;for(let m=o,f=!1;m>e;m--)f||i.index(m)>0?(f=!0,c=w.from(i.node(m).copy(c)),u++):l--;let p=w.empty,h=0;for(let m=o,f=!1;m>e;m--)f||r.after(m+1)<r.end(m)?(f=!0,p=w.from(r.node(m).copy(p)),h++):d++;n.step(new se(l,d,a,s,new k(c.append(p),u,h),c.size-u,!0))}function Mi(n,t,e=null,i=n){let r=Lu(n,t),o=r&&Bu(i,t);return o?r.map(cl).concat({type:t,attrs:e}).concat(o.map(cl)):null}function cl(n){return{type:n,attrs:null}}function Lu(n,t){let{parent:e,startIndex:i,endIndex:r}=n,o=e.contentMatchAt(i).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return e.canReplaceWith(i,r,a)?o:null}function Bu(n,t){let{parent:e,startIndex:i,endIndex:r}=n,o=e.child(i),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let d=i;l&&d<r;d++)l=l.matchType(e.child(d).type);return!l||!l.validEnd?null:a}function Hu(n,t,e){let i=w.empty;for(let a=e.length-1;a>=0;a--){if(i.size){let s=e[a].type.contentMatch.matchFragment(i);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=w.from(e[a].type.create(e[a].attrs,i))}let r=t.start,o=t.end;n.step(new se(r,o,r,o,new k(i,0,0),e.length,!0))}function ju(n,t,e,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(t,e,(a,s)=>{let l=typeof r=="function"?r(a):r;if(a.isTextblock&&!a.hasMarkup(i,l)&&Yu(n.doc,n.mapping.slice(o).map(s),i)){let d=null;if(i.schema.linebreakReplacement){let h=i.whitespace=="pre",m=!!i.contentMatch.matchType(i.schema.linebreakReplacement);h&&!m?d=!1:!h&&m&&(d=!0)}d===!1&&bl(n,a,s,o),Io(n,n.mapping.slice(o).map(s,1),i,void 0,d===null);let c=n.mapping.slice(o),u=c.map(s,1),p=c.map(s+a.nodeSize,1);return n.step(new se(u,p,u+1,p-1,new k(w.from(i.create(l,null,a.marks)),0,0),1,!0)),d===!0&&gl(n,a,s,o),!1}})}function gl(n,t,e,i){t.forEach((r,o)=>{if(r.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(r.text);){let l=n.mapping.slice(i).map(e+1+o+a.index);n.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function bl(n,t,e,i){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let a=n.mapping.slice(i).map(e+1+o);n.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function Yu(n,t,e){let i=n.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,e)}function qu(n,t,e,i,r){let o=n.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);let a=e.create(i,null,r||o.marks);if(o.isLeaf)return n.replaceWith(t,t+o.nodeSize,a);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new se(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new k(w.from(a),0,0),1,!0))}function Dt(n,t,e=1,i){let r=n.resolve(t),o=r.depth-e,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,c=e-2;d>o;d--,c--){let u=r.node(d),p=r.index(d);if(u.type.spec.isolating)return!1;let h=u.content.cutByIndex(p,u.childCount),m=i&&i[c+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let f=i&&i[c]||u;if(!u.canReplace(p+1,u.childCount)||!f.type.validContent(h))return!1}let s=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(s,s,l?l.type:r.node(o+1).type)}function $u(n,t,e=1,i){let r=n.doc.resolve(t),o=w.empty,a=w.empty;for(let s=r.depth,l=r.depth-e,d=e-1;s>l;s--,d--){o=w.from(r.node(s).copy(o));let c=i&&i[d];a=w.from(c?c.type.create(c.attrs,a):r.node(s).copy(a))}n.step(new Fe(t,t,new k(o.append(a),e,e),!0))}function Jt(n,t){let e=n.resolve(t),i=e.index();return Ku(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(i,i+1)}function Wu(n,t){t.content.size||n.type.compatibleContent(t.type);let e=n.contentMatchAt(n.childCount),{linebreakReplacement:i}=n.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),a=o.type==i?n.type.schema.nodes.text:o.type;if(e=e.matchType(a),!e||!n.type.allowsMarks(o.marks))return!1}return e.validEnd}function Ku(n,t){return!!(n&&t&&!n.isLeaf&&Wu(n,t))}function Uu(n,t,e){let i=null,{linebreakReplacement:r}=n.doc.type.schema,o=n.doc.resolve(t-e),a=o.node().type;if(r&&a.inlineContent){let c=a.whitespace=="pre",u=!!a.contentMatch.matchType(r);c&&!u?i=!1:!c&&u&&(i=!0)}let s=n.steps.length;if(i===!1){let c=n.doc.resolve(t+e);bl(n,c.node(),c.before(),s)}a.inlineContent&&Io(n,t+e-1,a,o.node().contentMatchAt(o.index()),i==null);let l=n.mapping.slice(s),d=l.map(t-e);if(n.step(new Fe(d,l.map(t+e,-1),k.empty,!0)),i===!0){let c=n.doc.resolve(d);gl(n,c.node(),c.before(),n.steps.length)}return n}function Gu(n,t,e){let i=n.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),e))return t;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,e))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,e))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function _l(n,t,e){let i=n.resolve(t);if(!e.content.size)return t;let r=e.content;for(let o=0;o<e.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(e.openStart==0&&e.size?2:1);o++)for(let a=i.depth;a>=0;a--){let s=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,l=i.index(a)+(s>0?1:0),d=i.node(a),c=!1;if(o==1)c=d.canReplace(l,l,r);else{let u=d.contentMatchAt(l).findWrapping(r.firstChild.type);c=u&&d.canReplaceWith(l,l,u[0])}if(c)return s==0?i.pos:s<0?i.before(a+1):i.after(a+1)}return null}function fr(n,t,e=t,i=k.empty){if(t==e&&!i.size)return null;let r=n.resolve(t),o=n.resolve(e);return xl(r,o,i)?new Fe(t,e,i):new Mo(r,o,i).fit()}function xl(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}var Mo=class{constructor(t,e,i){this.$from=t,this.$to=e,this.unplaced=i,this.frontier=[],this.placed=w.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=w.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(t<0?this.$to:i.doc.resolve(t));if(!r)return null;let o=this.placed,a=i.depth,s=r.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new k(o,a,s);return t>-1?new se(i.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||i.pos!=this.$to.pos?new Fe(i.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<t;i++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){t=i;break}e=o.content}for(let e=1;e<=2;e++)for(let i=e==1?t:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=Co(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let a=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:d}=this.frontier[s],c,u=null;if(e==1&&(a?d.matchType(a.type)||(u=d.fillBefore(w.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:s,parent:o,inject:u};if(e==2&&a&&(c=d.findWrapping(a.type)))return{sliceDepth:i,frontierDepth:s,parent:o,wrap:c};if(o&&d.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:i}=this.unplaced,r=Co(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new k(t,e+1,Math.max(i,r.size+e>=t.size-i?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:i}=this.unplaced,r=Co(t,e);if(r.childCount<=1&&e>0){let o=t.size-e<=e+r.size;this.unplaced=new k(sn(t,e-1,1),e-1,o?e-1:i)}else this.unplaced=new k(sn(t,e,1),e,i)}placeNodes({sliceDepth:t,frontierDepth:e,parent:i,inject:r,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let f=0;f<o.length;f++)this.openFrontierNode(o[f]);let a=this.unplaced,s=i?i.content:a.content,l=a.openStart-t,d=0,c=[],{match:u,type:p}=this.frontier[e];if(r){for(let f=0;f<r.childCount;f++)c.push(r.child(f));u=u.matchFragment(r)}let h=s.size+t-(a.content.size-a.openEnd);for(;d<s.childCount;){let f=s.child(d),x=u.matchType(f.type);if(!x)break;d++,(d>1||l==0||f.content.size)&&(u=x,c.push(vl(f.mark(p.allowedMarks(f.marks)),d==1?l:0,d==s.childCount?h:-1)))}let m=d==s.childCount;m||(h=-1),this.placed=ln(this.placed,e,w.from(c)),this.frontier[e].match=u,m&&h<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let f=0,x=s;f<h;f++){let D=x.lastChild;this.frontier.push({type:D.type,match:D.contentMatchAt(D.childCount)}),x=D.content}this.unplaced=m?t==0?k.empty:new k(sn(a.content,t-1,1),t-1,h<0?a.openEnd:t-1):new k(sn(a.content,t,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!ko(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:i,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=ko(t,e,r,i,o);if(a){for(let s=e-1;s>=0;s--){let{match:l,type:d}=this.frontier[s],c=ko(t,s,d,l,!0);if(!c||c.childCount)continue e}return{depth:e,fit:a,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=ln(this.placed,e.depth,e.fit)),t=e.move;for(let i=e.depth+1;i<=t.depth;i++){let r=t.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(i));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,e=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=ln(this.placed,this.depth,w.from(t.create(e,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(w.empty,!0);e.childCount&&(this.placed=ln(this.placed,this.frontier.length,e))}};function sn(n,t,e){return t==0?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(sn(n.firstChild.content,t-1,e)))}function ln(n,t,e){return t==0?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(ln(n.lastChild.content,t-1,e)))}function Co(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function vl(n,t,e){if(t<=0)return n;let i=n.content;return t>1&&(i=i.replaceChild(0,vl(i.firstChild,t-1,i.childCount==1?e-1:0))),t>0&&(i=n.type.contentMatch.fillBefore(i).append(i),e<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore(w.empty,!0)))),n.copy(i)}function ko(n,t,e,i,r){let o=n.node(t),a=r?n.indexAfter(t):n.index(t);if(a==o.childCount&&!e.compatibleContent(o.type))return null;let s=i.fillBefore(o.content,!0,a);return s&&!Qu(e,o.content,a)?s:null}function Qu(n,t,e){for(let i=e;i<t.childCount;i++)if(!n.allowsMarks(t.child(i).marks))return!0;return!1}function Ju(n){return n.spec.defining||n.spec.definingForContent}function Xu(n,t,e,i){if(!i.size)return n.deleteRange(t,e);let r=n.doc.resolve(t),o=n.doc.resolve(e);if(xl(r,o,i))return n.step(new Fe(t,e,i));let a=wl(r,n.doc.resolve(e));a[a.length-1]==0&&a.pop();let s=-(r.depth+1);a.unshift(s);for(let p=r.depth,h=r.pos-1;p>0;p--,h--){let m=r.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(p)>-1?s=p:r.before(p)==h&&a.splice(1,0,-p)}let l=a.indexOf(s),d=[],c=i.openStart;for(let p=i.content,h=0;;h++){let m=p.firstChild;if(d.push(m),h==i.openStart)break;p=m.content}for(let p=c-1;p>=0;p--){let h=d[p],m=Ju(h.type);if(m&&!h.sameMarkup(r.node(Math.abs(s)-1)))c=p;else if(m||!h.type.isTextblock)break}for(let p=i.openStart;p>=0;p--){let h=(p+c+1)%(i.openStart+1),m=d[h];if(m)for(let f=0;f<a.length;f++){let x=a[(f+l)%a.length],D=!0;x<0&&(D=!1,x=-x);let K=r.node(x-1),ge=r.index(x-1);if(K.canReplaceWith(ge,ge,m.type,m.marks))return n.replace(r.before(x),D?o.after(x):e,new k(yl(i.content,0,i.openStart,h),h,i.openEnd))}}let u=n.steps.length;for(let p=a.length-1;p>=0&&(n.replace(t,e,i),!(n.steps.length>u));p--){let h=a[p];h<0||(t=r.before(h),e=o.after(h))}}function yl(n,t,e,i,r){if(t<e){let o=n.firstChild;n=n.replaceChild(0,o.copy(yl(o.content,t+1,e,i,o)))}if(t>i){let o=r.contentMatchAt(0),a=o.fillBefore(n).append(n);n=a.append(o.matchFragment(a).fillBefore(w.empty,!0))}return n}function Zu(n,t,e,i){if(!i.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let r=Gu(n.doc,t,i.type);r!=null&&(t=e=r)}n.replaceRange(t,e,new k(w.from(i),0,0))}function ep(n,t,e){let i=n.doc.resolve(t),r=n.doc.resolve(e),o=wl(i,r);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||i.node(s).type.contentMatch.validEnd)return n.delete(i.start(s),r.end(s));if(s>0&&(l||i.node(s-1).canReplace(i.index(s-1),r.indexAfter(s-1))))return n.delete(i.before(s),r.after(s))}for(let a=1;a<=i.depth&&a<=r.depth;a++)if(t-i.start(a)==i.depth-a&&e>i.end(a)&&r.end(a)-e!=r.depth-a&&i.start(a-1)==r.start(a-1)&&i.node(a-1).canReplace(i.index(a-1),r.index(a-1)))return n.delete(i.before(a),e);n.delete(t,e)}function wl(n,t){let e=[],i=Math.min(n.depth,t.depth);for(let r=i;r>=0;r--){let o=n.start(r);if(o<n.pos-(n.depth-r)||t.end(r)>t.pos+(t.depth-r)||n.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==n.depth&&r==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&e.push(r)}return e}var pr=class n extends ae{constructor(t,e,i){super(),this.pos=t,this.attr=e,this.value=i}apply(t){let e=t.nodeAt(this.pos);if(!e)return me.fail("No node at attribute step's position");let i=Object.create(null);for(let o in e.attrs)i[o]=e.attrs[o];i[this.attr]=this.value;let r=e.type.create(i,null,e.marks);return me.fromReplace(t,this.pos,this.pos+1,new k(w.from(r),0,e.isLeaf?0:1))}getMap(){return ht.empty}invert(t){return new n(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new n(e.pos,e.attr,e.value)}};ae.jsonID("attr",pr);var mr=class n extends ae{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let i=t.type.create(e,t.content,t.marks);return me.ok(i)}getMap(){return ht.empty}invert(t){return new n(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new n(e.attr,e.value)}};ae.jsonID("docAttr",mr);var Di=class extends Error{};Di=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e};Di.prototype=Object.create(Error.prototype);Di.prototype.constructor=Di;Di.prototype.name="TransformError";var hr=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new cn}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new Di(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,i=k.empty){let r=fr(this.doc,t,e,i);return r&&this.step(r),this}replaceWith(t,e,i){return this.replace(t,e,new k(w.from(i),0,0))}delete(t,e){return this.replace(t,e,k.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,i){return Xu(this,t,e,i),this}replaceRangeWith(t,e,i){return Zu(this,t,e,i),this}deleteRange(t,e){return ep(this,t,e),this}lift(t,e){return zu(this,t,e),this}join(t,e=1){return Uu(this,t,e),this}wrap(t,e){return Hu(this,t,e),this}setBlockType(t,e=t,i,r=null){return ju(this,t,e,i,r),this}setNodeMarkup(t,e,i=null,r){return qu(this,t,e,i,r),this}setNodeAttribute(t,e,i){return this.step(new pr(t,e,i)),this}setDocAttribute(t,e){return this.step(new mr(t,e)),this}addNodeMark(t,e){return this.step(new pn(t,e)),this}removeNodeMark(t,e){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(e instanceof q)e.isInSet(i.marks)&&this.step(new ki(t,e));else{let r=i.marks,o,a=[];for(;o=e.isInSet(r);)a.push(new ki(t,o)),r=o.removeFromSet(r);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,e=1,i){return $u(this,t,e,i),this}addMark(t,e,i){return Fu(this,t,e,i),this}removeMark(t,e,i){return Pu(this,t,e,i),this}clearIncompatible(t,e,i){return Io(this,t,e,i),this}};var Eo=Object.create(null),N=class{constructor(t,e,i){this.$anchor=t,this.$head=e,this.ranges=i||[new Ii(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=k.empty){let i=e.content.lastChild,r=null;for(let s=0;s<e.openEnd;s++)r=i,i=i.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:d}=a[s],c=t.mapping.slice(o);t.replaceRange(c.map(l.pos),c.map(d.pos),s?k.empty:e),s==0&&Dl(t,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let i=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:a,$to:s}=r[o],l=t.mapping.slice(i),d=l.map(a.pos),c=l.map(s.pos);o?t.deleteRange(d,c):(t.replaceRangeWith(d,c,e),Dl(t,i,e.isInline?-1:1))}}static findFrom(t,e,i=!1){let r=t.parent.inlineContent?new Y(t):Si(t.node(0),t.parent,t.pos,t.index(),e,i);if(r)return r;for(let o=t.depth-1;o>=0;o--){let a=e<0?Si(t.node(0),t.node(o),t.before(o+1),t.index(o),e,i):Si(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,i);if(a)return a}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Pe(t.node(0))}static atStart(t){return Si(t,t,0,0,1)||new Pe(t)}static atEnd(t){return Si(t,t,t.content.size,t.childCount,-1)||new Pe(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Eo[e.type];if(!i)throw new RangeError(`No selection type ${e.type} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in Eo)throw new RangeError("Duplicate use of selection JSON ID "+t);return Eo[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Y.between(this.$anchor,this.$head).getBookmark()}};N.prototype.visible=!0;var Ii=class{constructor(t,e){this.$from=t,this.$to=e}},Cl=!1;function kl(n){!Cl&&!n.parent.inlineContent&&(Cl=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}var Y=class n extends N{constructor(t,e=t){kl(t),kl(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let i=t.resolve(e.map(this.head));if(!i.parent.inlineContent)return N.near(i);let r=t.resolve(e.map(this.anchor));return new n(r.parent.inlineContent?r:i,i)}replace(t,e=k.empty){if(super.replace(t,e),e==k.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof n&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new br(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,i=e){let r=t.resolve(e);return new this(r,i==e?r:t.resolve(i))}static between(t,e,i){let r=t.pos-e.pos;if((!i||r)&&(i=r>=0?1:-1),!e.parent.inlineContent){let o=N.findFrom(e,i,!0)||N.findFrom(e,-i,!0);if(o)e=o.$head;else return N.near(e,i)}return t.parent.inlineContent||(r==0?t=e:(t=(N.findFrom(t,-i,!0)||N.findFrom(t,i,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new n(t,e)}};N.jsonID("text",Y);var br=class n{constructor(t,e){this.anchor=t,this.head=e}map(t){return new n(t.map(this.anchor),t.map(this.head))}resolve(t){return Y.between(t.resolve(this.anchor),t.resolve(this.head))}},S=class n extends N{constructor(t){let e=t.nodeAfter,i=t.node(0).resolve(t.pos+e.nodeSize);super(t,i),this.node=e}map(t,e){let{deleted:i,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return i?N.near(o):new n(o)}content(){return new k(w.from(this.node),0,0)}eq(t){return t instanceof n&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Oo(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(t.resolve(e.anchor))}static create(t,e){return new n(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};S.prototype.visible=!1;N.jsonID("node",S);var Oo=class n{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:i}=t.mapResult(this.anchor);return e?new br(i,i):new n(i)}resolve(t){let e=t.resolve(this.anchor),i=e.nodeAfter;return i&&S.isSelectable(i)?new S(e):N.near(e)}},Pe=class n extends N{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=k.empty){if(e==k.empty){t.delete(0,t.doc.content.size);let i=N.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new n(t)}map(t){return new n(t)}eq(t){return t instanceof n}getBookmark(){return tp}};N.jsonID("all",Pe);var tp={map(){return this},resolve(n){return new Pe(n)}};function Si(n,t,e,i,r,o=!1){if(t.inlineContent)return Y.create(n,e);for(let a=i-(r>0?0:1);r>0?a<t.childCount:a>=0;a+=r){let s=t.child(a);if(s.isAtom){if(!o&&S.isSelectable(s))return S.create(n,e-(r<0?s.nodeSize:0))}else{let l=Si(n,s,e+r,r<0?s.childCount:0,r,o);if(l)return l}e+=s.nodeSize*r}return null}function Dl(n,t,e){let i=n.steps.length-1;if(i<t)return;let r=n.steps[i];if(!(r instanceof Fe||r instanceof se))return;let o=n.mapping.maps[i],a;o.forEach((s,l,d,c)=>{a==null&&(a=c)}),n.setSelection(N.near(n.doc.resolve(a),e))}var Ml=1,gr=2,Sl=4,To=class extends hr{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ml)&~gr,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ml)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=gr,this}ensureMarks(t){return q.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&gr)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~gr,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let i=this.selection;return e&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||q.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,i){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(i==null&&(i=e),i=i??e,!t)return this.deleteRange(e,i);let o=this.storedMarks;if(!o){let a=this.doc.resolve(e);o=i==e?a.marks():a.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(e,i,r.text(t,o)),this.selection.empty||this.setSelection(N.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Sl,this}get scrolledIntoView(){return(this.updated&Sl)>0}};function Il(n,t){return!t||!n?n:n.bind(t)}var Xt=class{constructor(t,e,i){this.name=t,this.init=Il(e.init,i),this.apply=Il(e.apply,i)}},ip=[new Xt("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Xt("selection",{init(n,t){return n.selection||N.atStart(t.doc)},apply(n){return n.selection}}),new Xt("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,e,i){return i.selection.$cursor?n.storedMarks:null}}),new Xt("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}})],mn=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ip.slice(),e&&e.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Xt(i.key,i.spec.state,i))})}},_r=class n{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=e){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],i=this.applyInner(t),r=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=r?r[a].n:0,d=r?r[a].state:this,c=l<e.length&&s.spec.appendTransaction.call(s,l?e.slice(l):e,d,i);if(c&&i.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(let u=0;u<this.config.plugins.length;u++)r.push(u<a?{state:i,n:e.length}:{state:this,n:0})}e.push(c),i=i.applyInner(c),o=!0}r&&(r[a]={state:i,n:e.length})}}if(!o)return{state:i,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new n(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new To(this)}static create(t){let e=new mn(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new n(e);for(let r=0;r<e.fields.length;r++)i[e.fields[r].name]=e.fields[r].init(t,i);return i}reconfigure(t){let e=new mn(this.schema,t.plugins),i=e.fields,r=new n(e);for(let o=0;o<i.length;o++){let a=i[o].name;r[a]=this.hasOwnProperty(a)?this[a]:i[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[i],o=r.spec.state;o&&o.toJSON&&(e[i]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,i){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new mn(t.schema,t.plugins),o=new n(r);return r.fields.forEach(a=>{if(a.name=="doc")o.doc=nt.fromJSON(t.schema,e.doc);else if(a.name=="selection")o.selection=N.fromJSON(o.doc,e.selection);else if(a.name=="storedMarks")e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let s in i){let l=i[s],d=l.spec.state;if(l.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(e,s)){o[a.name]=d.fromJSON.call(l,t,e[s],o);return}}o[a.name]=a.init(t,o)}}),o}};function El(n,t,e){for(let i in n){let r=n[i];r instanceof Function?r=r.bind(t):i=="handleDOMEvents"&&(r=El(r,t,{})),e[i]=r}return e}var _e=class{constructor(t){this.spec=t,this.props={},t.props&&El(t.props,this,this.props),this.key=t.key?t.key.key:Al("plugin")}getState(t){return t[this.key]}},Ao=Object.create(null);function Al(n){return n in Ao?n+"$"+ ++Ao[n]:(Ao[n]=0,n+"$")}var Ve=class{constructor(t="key"){this.key=Al(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var he=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},Ni=function(n){let t=n.assignedSlot||n.parentNode;return t&&t.nodeType==11?t.host:t},zo=null,gt=function(n,t,e){let i=zo||(zo=document.createRange());return i.setEnd(n,e??n.nodeValue.length),i.setStart(n,t||0),i},np=function(){zo=null},oi=function(n,t,e,i){return e&&(Ol(n,t,e,i,-1)||Ol(n,t,e,i,1))},rp=/^(img|br|input|textarea|hr)$/i;function Ol(n,t,e,i,r){for(var o;;){if(n==e&&t==i)return!0;if(t==(r<0?0:We(n))){let a=n.parentNode;if(!a||a.nodeType!=1||yn(n)||rp.test(n.nodeName)||n.contentEditable=="false")return!1;t=he(n)+(r<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[t+(r<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=r;else return!1;else n=a,t=r<0?We(n):0}else return!1}}function We(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function op(n,t){for(;;){if(n.nodeType==3&&t)return n;if(n.nodeType==1&&t>0){if(n.contentEditable=="false")return null;n=n.childNodes[t-1],t=We(n)}else if(n.parentNode&&!yn(n))t=he(n),n=n.parentNode;else return null}}function ap(n,t){for(;;){if(n.nodeType==3&&t<n.nodeValue.length)return n;if(n.nodeType==1&&t<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[t],t=0}else if(n.parentNode&&!yn(n))t=he(n)+1,n=n.parentNode;else return null}}function sp(n,t,e){for(let i=t==0,r=t==We(n);i||r;){if(n==e)return!0;let o=he(n);if(n=n.parentNode,!n)return!1;i=i&&o==0,r=r&&o==We(n)}}function yn(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}var Er=function(n){return n.focusNode&&oi(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Zt(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function lp(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function dp(n,t,e){if(n.caretPositionFromPoint)try{let i=n.caretPositionFromPoint(t,e);if(i)return{node:i.offsetNode,offset:Math.min(We(i.offsetNode),i.offset)}}catch{}if(n.caretRangeFromPoint){let i=n.caretRangeFromPoint(t,e);if(i)return{node:i.startContainer,offset:Math.min(We(i.startContainer),i.startOffset)}}}var rt=typeof navigator<"u"?navigator:null,Tl=typeof document<"u"?document:null,Ot=rt&&rt.userAgent||"",Lo=/Edge\/(\d+)/.exec(Ot),cd=/MSIE \d/.exec(Ot),Bo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ot),Oe=!!(cd||Bo||Lo),Et=cd?document.documentMode:Bo?+Bo[1]:Lo?+Lo[1]:0,Ze=!Oe&&/gecko\/(\d+)/i.test(Ot);Ze&&+(/Firefox\/(\d+)/.exec(Ot)||[0,0])[1];var Ho=!Oe&&/Chrome\/(\d+)/.exec(Ot),ve=!!Ho,ud=Ho?+Ho[1]:0,we=!Oe&&!!rt&&/Apple Computer/.test(rt.vendor),Ri=we&&(/Mobile\/\w+/.test(Ot)||!!rt&&rt.maxTouchPoints>2),$e=Ri||(rt?/Mac/.test(rt.platform):!1),cp=rt?/Win/.test(rt.platform):!1,bt=/Android \d/.test(Ot),wn=!!Tl&&"webkitFontSmoothing"in Tl.documentElement.style,up=wn?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pp(n){let t=n.defaultView&&n.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ft(n,t){return typeof n=="number"?n:n[t]}function mp(n){let t=n.getBoundingClientRect(),e=t.width/n.offsetWidth||1,i=t.height/n.offsetHeight||1;return{left:t.left,right:t.left+n.clientWidth*e,top:t.top,bottom:t.top+n.clientHeight*i}}function Nl(n,t,e){let i=n.someProp("scrollThreshold")||0,r=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let a=e||n.dom;a;){if(a.nodeType!=1){a=Ni(a);continue}let s=a,l=s==o.body,d=l?pp(o):mp(s),c=0,u=0;if(t.top<d.top+ft(i,"top")?u=-(d.top-t.top+ft(r,"top")):t.bottom>d.bottom-ft(i,"bottom")&&(u=t.bottom-t.top>d.bottom-d.top?t.top+ft(r,"top")-d.top:t.bottom-d.bottom+ft(r,"bottom")),t.left<d.left+ft(i,"left")?c=-(d.left-t.left+ft(r,"left")):t.right>d.right-ft(i,"right")&&(c=t.right-d.right+ft(r,"right")),c||u)if(l)o.defaultView.scrollBy(c,u);else{let h=s.scrollLeft,m=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);let f=s.scrollLeft-h,x=s.scrollTop-m;t={left:t.left-f,top:t.top-x,right:t.right-f,bottom:t.bottom-x}}let p=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:Ni(a)}}function hp(n){let t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top),i,r;for(let o=(t.left+t.right)/2,a=e+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=n.root.elementFromPoint(o,a);if(!s||s==n.dom||!n.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=e-20){i=s,r=l.top;break}}return{refDOM:i,refTop:r,stack:pd(n.dom)}}function pd(n){let t=[],e=n.ownerDocument;for(let i=n;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=e);i=Ni(i));return t}function fp({refDOM:n,refTop:t,stack:e}){let i=n?n.getBoundingClientRect().top:0;md(e,i==0?0:i-t)}function md(n,t){for(let e=0;e<n.length;e++){let{dom:i,top:r,left:o}=n[e];i.scrollTop!=r+t&&(i.scrollTop=r+t),i.scrollLeft!=o&&(i.scrollLeft=o)}}var Ei=null;function gp(n){if(n.setActive)return n.setActive();if(Ei)return n.focus(Ei);let t=pd(n);n.focus(Ei==null?{get preventScroll(){return Ei={preventScroll:!0},!0}}:void 0),Ei||(Ei=!1,md(t,0))}function hd(n,t){let e,i=2e8,r,o=0,a=t.top,s=t.top,l,d;for(let c=n.firstChild,u=0;c;c=c.nextSibling,u++){let p;if(c.nodeType==1)p=c.getClientRects();else if(c.nodeType==3)p=gt(c).getClientRects();else continue;for(let h=0;h<p.length;h++){let m=p[h];if(m.top<=a&&m.bottom>=s){a=Math.max(m.bottom,a),s=Math.min(m.top,s);let f=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(f<i){e=c,i=f,r=f&&e.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,c.nodeType==1&&f&&(o=u+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=c,d={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!e&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(o=u+1)}}return!e&&l&&(e=l,r=d,i=0),e&&e.nodeType==3?bp(e,r):!e||i&&e.nodeType==1?{node:n,offset:o}:hd(e,r)}function bp(n,t){let e=n.nodeValue.length,i=document.createRange();for(let r=0;r<e;r++){i.setEnd(n,r+1),i.setStart(n,r);let o=Mt(i,1);if(o.top!=o.bottom&&ia(t,o))return{node:n,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function ia(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function _p(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}function xp(n,t,e){let{node:i,offset:r}=hd(t,e),o=-1;if(i.nodeType==1&&!i.firstChild){let a=i.getBoundingClientRect();o=a.left!=a.right&&e.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(i,r,o)}function vp(n,t,e,i){let r=-1;for(let o=t,a=!1;o!=n.dom;){let s=n.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&(!a&&l.left>i.left||l.top>i.top?r=s.posBefore:(!a&&l.right<i.left||l.bottom<i.top)&&(r=s.posAfter),a=!0),!s.contentDOM&&r<0&&!s.node.isText))return(s.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return r>-1?r:n.docView.posFromDOM(t,e,-1)}function fd(n,t,e){let i=n.childNodes.length;if(i&&e.top<e.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-e.top)/(e.bottom-e.top))-2)),o=r;;){let a=n.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let d=s[l];if(ia(t,d))return fd(a,t,d)}}if((o=(o+1)%i)==r)break}return n}function yp(n,t){let e=n.dom.ownerDocument,i,r=0,o=dp(e,t.left,t.top);o&&({node:i,offset:r}=o);let a=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top),s;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=n.dom.getBoundingClientRect();if(!ia(t,d)||(a=fd(n.dom,t,d),!a))return null}if(we)for(let d=a;i&&d;d=Ni(d))d.draggable&&(i=void 0);if(a=_p(a,t),i){if(Ze&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let c=i.childNodes[r],u;c.nodeName=="IMG"&&(u=c.getBoundingClientRect()).right<=t.left&&u.bottom>t.top&&r++}let d;wn&&r&&i.nodeType==1&&(d=i.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=t.top&&r--,i==n.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?s=n.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(s=vp(n,i,r,t))}s==null&&(s=xp(n,a,t));let l=n.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Rl(n){return n.top<n.bottom||n.left<n.right}function Mt(n,t){let e=n.getClientRects();if(e.length){let i=e[t<0?0:e.length-1];if(Rl(i))return i}return Array.prototype.find.call(e,Rl)||n.getBoundingClientRect()}var wp=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function gd(n,t,e){let{node:i,offset:r,atom:o}=n.docView.domFromPos(t,e<0?-1:1),a=wn||Ze;if(i.nodeType==3)if(a&&(wp.test(i.nodeValue)||(e<0?!r:r==i.nodeValue.length))){let l=Mt(gt(i,r,r),e);if(Ze&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let d=Mt(gt(i,r-1,r-1),-1);if(d.top==l.top){let c=Mt(gt(i,r,r+1),-1);if(c.top!=l.top)return hn(c,c.left<d.left)}}return l}else{let l=r,d=r,c=e<0?1:-1;return e<0&&!r?(d++,c=-1):e>=0&&r==i.nodeValue.length?(l--,c=1):e<0?l--:d++,hn(Mt(gt(i,l,d),c),c<0)}if(!n.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(e<0||r==We(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return No(l.getBoundingClientRect(),!1)}if(o==null&&r<We(i)){let l=i.childNodes[r];if(l.nodeType==1)return No(l.getBoundingClientRect(),!0)}return No(i.getBoundingClientRect(),e>=0)}if(o==null&&r&&(e<0||r==We(i))){let l=i.childNodes[r-1],d=l.nodeType==3?gt(l,We(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(d)return hn(Mt(d,1),!1)}if(o==null&&r<We(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let d=l?l.nodeType==3?gt(l,0,a?0:1):l.nodeType==1?l:null:null;if(d)return hn(Mt(d,-1),!0)}return hn(Mt(i.nodeType==3?gt(i):i,-e),e>=0)}function hn(n,t){if(n.width==0)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function No(n,t){if(n.height==0)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function bd(n,t,e){let i=n.state,r=n.root.activeElement;i!=t&&n.updateState(t),r!=n.dom&&n.focus();try{return e()}finally{i!=t&&n.updateState(i),r!=n.dom&&r&&r.focus()}}function Cp(n,t,e){let i=t.selection,r=e=="up"?i.$from:i.$to;return bd(n,t,()=>{let{node:o}=n.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let s=n.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=gd(n,r.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=gt(s,0,s.nodeValue.length).getClientRects();else continue;for(let d=0;d<l.length;d++){let c=l[d];if(c.bottom>c.top+1&&(e=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}var kp=/[\u0590-\u08ac]/;function Dp(n,t,e){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,a=r==i.parent.content.size,s=n.domSelection();return s?!kp.test(i.parent.textContent)||!s.modify?e=="left"||e=="backward"?o:a:bd(n,t,()=>{let{focusNode:l,focusOffset:d,anchorNode:c,anchorOffset:u}=n.domSelectionRange(),p=s.caretBidiLevel;s.modify("move",e,"character");let h=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:m,focusOffset:f}=n.domSelectionRange(),x=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&d==f;try{s.collapse(c,u),l&&(l!=c||d!=u)&&s.extend&&s.extend(l,d)}catch{}return p!=null&&(s.caretBidiLevel=p),x}):i.pos==i.start()||i.pos==i.end()}var Fl=null,Pl=null,Vl=!1;function Mp(n,t,e){return Fl==t&&Pl==e?Vl:(Fl=t,Pl=e,Vl=e=="up"||e=="down"?Cp(n,t,e):Dp(n,t,e))}var Ke=0,zl=1,ei=2,ot=3,ai=class{constructor(t,e,i,r){this.parent=t,this.children=e,this.dom=i,this.contentDOM=r,this.dirty=Ke,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,i=this.posAtStart;;e++){let r=this.children[e];if(r==t)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let o,a;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>he(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let i=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),a;if(o&&(!e||o.node))if(i&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))i=!1;else return o}}getDesc(t){let e=t.pmViewDesc;for(let i=e;i;i=i.parent)if(i==this)return e}posFromDOM(t,e,i){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,i)}return-1}descAt(t){for(let e=0,i=0;e<this.children.length;e++){let r=this.children[e],o=i+r.size;if(i==t&&o!=i){for(;!r.border&&r.children.length;)for(let a=0;a<r.children.length;a++){let s=r.children[a];if(s.size){r=s;break}}return r}if(t<o)return r.descAt(t-i-r.border);i=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.size;if(s>t||a instanceof yr){r=t-o;break}o=s}if(r)return this.children[i].domFromPos(r-this.children[i].border,e);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof xr&&o.side>=0;i--);if(e<=0){let o,a=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,a=!1);return o&&e&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,e):{node:this.contentDOM,offset:o?he(o.dom)+1:0}}else{let o,a=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,e):{node:this.contentDOM,offset:o?he(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let a=i,s=0;;s++){let l=this.children[s],d=a+l.size;if(r==-1&&t<=d){let c=a+l.border;if(t>=c&&e<=d-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,c);t=a;for(let u=s;u>0;u--){let p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=he(p.dom)+1;break}t-=p.size}r==-1&&(r=0)}if(r>-1&&(d>e||s==this.children.length-1)){e=d;for(let c=s+1;c<this.children.length;c++){let u=this.children[c];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){o=he(u.dom);break}e+=u.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:i}=this.domFromPos(t,0);if(e.nodeType!=1||i==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[i]}setSelection(t,e,i,r=!1){let o=Math.min(t,e),a=Math.max(t,e);for(let h=0,m=0;h<this.children.length;h++){let f=this.children[h],x=m+f.size;if(o>m&&a<x)return f.setSelection(t-m-f.border,e-m-f.border,i,r);m=x}let s=this.domFromPos(t,t?-1:1),l=e==t?s:this.domFromPos(e,e?-1:1),d=i.root.getSelection(),c=i.domSelectionRange(),u=!1;if((Ze||we)&&t==e){let{node:h,offset:m}=s;if(h.nodeType==3){if(u=!!(m&&h.nodeValue[m-1]==`
`),u&&m==h.nodeValue.length)for(let f=h,x;f;f=f.parentNode){if(x=f.nextSibling){x.nodeName=="BR"&&(s=l={node:x.parentNode,offset:he(x)+1});break}let D=f.pmViewDesc;if(D&&D.node&&D.node.isBlock)break}}else{let f=h.childNodes[m-1];u=f&&(f.nodeName=="BR"||f.contentEditable=="false")}}if(Ze&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(r=!0)}if(!(r||u&&we)&&oi(s.node,s.offset,c.anchorNode,c.anchorOffset)&&oi(l.node,l.offset,c.focusNode,c.focusOffset))return;let p=!1;if((d.extend||t==e)&&!u){d.collapse(s.node,s.offset);try{t!=e&&d.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(t>e){let m=s;s=l,l=m}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(s.node,s.offset),d.removeAllRanges(),d.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(i==a?t<=a&&e>=i:t<a&&e>i){let s=i+o.border,l=a-o.border;if(t>=s&&e<=l){this.dirty=t==i||e==a?ei:zl,t==s&&e==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ot:o.markDirty(t-s,e-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ei:ot}i=a}this.dirty=ei}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let i=t==1?ei:zl;e.dirty<i&&(e.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}},xr=class extends ai{constructor(t,e,i,r){let o,a=e.type.toDOM;if(typeof a=="function"&&(a=a(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!e.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return this.dirty==Ke&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}},jo=class extends ai{constructor(t,e,i,r){super(t,[],e,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},Fi=class n extends ai{constructor(t,e,i,r,o){super(t,[],i,r),this.mark=e,this.spec=o}static create(t,e,i,r){let o=r.nodeViews[e.type.name],a=o&&o(e,r,i);return(!a||!a.dom)&&(a=mt.renderSpec(document,e.type.spec.toDOM(e,i),null,e.attrs)),new n(t,e,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ot||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=ot&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=Ke){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Ke}}slice(t,e,i){let r=n.create(this.parent,this.mark,!0,i),o=this.children,a=this.size;e<a&&(o=Wo(o,e,a,i)),t>0&&(o=Wo(o,0,t,i));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},At=class n extends ai{constructor(t,e,i,r,o,a,s,l,d){super(t,[],o,a),this.node=e,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=s}static create(t,e,i,r,o,a){let s=o.nodeViews[e.type.name],l,d=s&&s(e,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},i,r),c=d&&d.dom,u=d&&d.contentDOM;if(e.isText){if(!c)c=document.createTextNode(e.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:u}=mt.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!u&&!e.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),e.type.spec.draggable&&(c.draggable=!0));let p=c;return c=vd(c,i,e),d?l=new Yo(t,e,i,r,c,u||null,p,d,o,a+1):e.isText?new vr(t,e,i,r,c,p,o):new n(t,e,i,r,c,u||null,p,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let i=this.children[e];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>w.empty)}return t}matchesNode(t,e,i){return this.dirty==Ke&&t.eq(this.node)&&wr(e,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let i=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new $o(this,a&&a.node,t);Ap(this.node,this.innerDeco,(d,c,u)=>{d.spec.marks?l.syncToMarks(d.spec.marks,i,t):d.type.side>=0&&!u&&l.syncToMarks(c==this.node.childCount?q.none:this.node.child(c).marks,i,t),l.placeWidget(d,t,r)},(d,c,u,p)=>{l.syncToMarks(d.marks,i,t);let h;l.findNodeMatch(d,c,u,p)||s&&t.state.selection.from>r&&t.state.selection.to<r+d.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(d,c,u,h,t)||l.updateNextNode(d,c,u,t,p,r)||l.addNode(d,c,u,t,r),r+=d.nodeSize}),l.syncToMarks([],i,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ei)&&(a&&this.protectLocalComposition(t,a),_d(this.contentDOM,this.children,t),Ri&&Op(this.dom))}localCompositionInfo(t,e){let{from:i,to:r}=t.state.selection;if(!(t.state.selection instanceof Y)||i<e||r>e+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=Tp(this.node.content,a,i-e,r-e);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:i,text:r}){if(this.getDesc(e))return;let o=e;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new jo(this,o,e,r);t.input.compositionNodes.push(a),this.children=Wo(this.children,i,i+r.length,t,a)}update(t,e,i,r){return this.dirty==ot||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,i,r),!0)}updateInner(t,e,i,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Ke}updateOuterDeco(t){if(wr(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=xd(this.dom,this.nodeDOM,qo(this.outerDeco,this.node,e),qo(t,this.node,e)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function Ll(n,t,e,i,r){vd(i,t,n);let o=new At(void 0,n,t,e,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}var vr=class n extends At{constructor(t,e,i,r,o,a,s){super(t,e,i,r,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,i,r){return this.dirty==ot||this.dirty!=Ke&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=Ke||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Ke,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,i){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,i){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new n(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=ot)}get domAtom(){return!1}isText(t){return this.node.text==t}},yr=class extends ai{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ke&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Yo=class extends At{constructor(t,e,i,r,o,a,s,l,d,c){super(t,e,i,r,o,a,s,d,c),this.spec=l}update(t,e,i,r){if(this.dirty==ot)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,i);return o&&this.updateInner(t,e,i,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,i,r){this.spec.setSelection?this.spec.setSelection(t,e,i.root):super.setSelection(t,e,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function _d(n,t,e){let i=n.firstChild,r=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==n){for(;s!=i;)i=Bl(i),r=!0;i=i.nextSibling}else r=!0,n.insertBefore(s,i);if(a instanceof Fi){let l=i?i.previousSibling:n.lastChild;_d(a.contentDOM,a.children,e),i=l?l.nextSibling:n.firstChild}}for(;i;)i=Bl(i),r=!0;r&&e.trackWrites==n&&(e.trackWrites=null)}var fn=function(n){n&&(this.nodeName=n)};fn.prototype=Object.create(null);var ti=[new fn];function qo(n,t,e){if(n.length==0)return ti;let i=e?ti[0]:new fn,r=[i];for(let o=0;o<n.length;o++){let a=n[o].type.attrs;if(a){a.nodeName&&r.push(i=new fn(a.nodeName));for(let s in a){let l=a[s];l!=null&&(e&&r.length==1&&r.push(i=new fn(t.isInline?"span":"div")),s=="class"?i.class=(i.class?i.class+" ":"")+l:s=="style"?i.style=(i.style?i.style+";":"")+l:s!="nodeName"&&(i[s]=l))}}}return r}function xd(n,t,e,i){if(e==ti&&i==ti)return t;let r=t;for(let o=0;o<i.length;o++){let a=i[o],s=e[o];if(o){let l;s&&s.nodeName==a.nodeName&&r!=n&&(l=r.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(r),s=ti[0]),r=l}Sp(r,s||ti[0],a)}return r}function Sp(n,t,e){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in e)&&n.removeAttribute(i);for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&e[i]!=t[i]&&n.setAttribute(i,e[i]);if(t.class!=e.class){let i=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.add(r[o]);n.classList.length==0&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(t.style);)n.style.removeProperty(r[1])}e.style&&(n.style.cssText+=e.style)}}function vd(n,t,e){return xd(n,n,ti,qo(t,e,n.nodeType!=1))}function wr(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function Bl(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}var $o=class{constructor(t,e,i){this.lock=e,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Ip(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let i=t;i<e;i++)this.top.children[i].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,i){let r=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;r<a&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=Ke,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let d=this.top.children[l];if(d.matchesMark(t[o])&&!this.isLocked(d.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Fi.create(this.top,t[o],e,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,i,r){let o=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(t,e,i))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let d=this.top.children[s];if(d.matchesNode(t,e,i)&&!this.preMatch.matched.has(d)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,i,r,o){let a=this.top.children[r];return a.dirty==ot&&a.dom==a.contentDOM&&(a.dirty=ei),a.update(t,e,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}t=e}}updateNextNode(t,e,i,r,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof At){let d=this.preMatch.matched.get(l);if(d!=null&&d!=o)return!1;let c=l.dom,u,p=this.isLocked(c)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=ot&&wr(e,l.outerDeco));if(!p&&l.update(t,e,i,r))return this.destroyBetween(this.index,s),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!p&&(u=this.recreateWrapper(l,t,e,i,r,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=ei,u.updateChildren(r,a+1),u.dirty=Ke),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,i,r,o,a){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!wr(i,t.outerDeco)||!r.eq(t.innerDeco))return null;let s=At.create(this.top,e,i,r,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,e,i,r,o){let a=At.create(this.top,t,e,i,r,o);a.contentDOM&&a.updateChildren(r,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,e,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new xr(this.top,t,e,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Fi;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof vr)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((we||ve)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new yr(this.top,[],i,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function Ip(n,t){let e=t,i=e.children.length,r=n.childCount,o=new Map,a=[];e:for(;r>0;){let s;for(;;)if(i){let d=e.children[i-1];if(d instanceof Fi)e=d,i=d.children.length;else{s=d,i--;break}}else{if(e==t)break e;i=e.parent.children.indexOf(e),e=e.parent}let l=s.node;if(l){if(l!=n.child(r-1))break;--r,o.set(s,r),a.push(s)}}return{index:r,matched:o,matches:a.reverse()}}function Ep(n,t){return n.type.side-t.type.side}function Ap(n,t,e,i){let r=t.locals(n),o=0;if(r.length==0){for(let d=0;d<n.childCount;d++){let c=n.child(d);i(c,r,t.forChild(o,c),d),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let d=0;;){let c,u;for(;a<r.length&&r[a].to==o;){let x=r[a++];x.widget&&(c?(u||(u=[c])).push(x):c=x)}if(c)if(u){u.sort(Ep);for(let x=0;x<u.length;x++)e(u[x],d,!!l)}else e(c,d,!!l);let p,h;if(l)h=-1,p=l,l=null;else if(d<n.childCount)h=d,p=n.child(d++);else break;for(let x=0;x<s.length;x++)s[x].to<=o&&s.splice(x--,1);for(;a<r.length&&r[a].from<=o&&r[a].to>o;)s.push(r[a++]);let m=o+p.nodeSize;if(p.isText){let x=m;a<r.length&&r[a].from<x&&(x=r[a].from);for(let D=0;D<s.length;D++)s[D].to<x&&(x=s[D].to);x<m&&(l=p.cut(x-o),p=p.cut(0,x-o),m=x,h=-1)}else for(;a<r.length&&r[a].to<m;)a++;let f=p.isInline&&!p.isLeaf?s.filter(x=>!x.inline):s.slice();i(p,f,t.forChild(o,p),h),o=m}}function Op(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=t}}function Tp(n,t,e,i){for(let r=0,o=0;r<n.childCount&&o<=i;){let a=n.child(r++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;r<n.childCount;){let d=n.child(r++);if(o+=d.nodeSize,!d.isText)break;l+=d.text}if(o>=e){if(o>=i&&l.slice(i-t.length-s,i-s)==t)return i-t.length;let d=s<i?l.lastIndexOf(t,i-s-1):-1;if(d>=0&&d+t.length+s>=e)return s+d;if(e==i&&l.length>=i+t.length-s&&l.slice(i-s,i-s+t.length)==t)return i}}return-1}function Wo(n,t,e,i,r){let o=[];for(let a=0,s=0;a<n.length;a++){let l=n[a],d=s,c=s+=l.size;d>=e||c<=t?o.push(l):(d<t&&o.push(l.slice(0,t-d,i)),r&&(o.push(r),r=void 0),c>e&&o.push(l.slice(e-d,l.size,i)))}return o}function na(n,t=null){let e=n.domSelectionRange(),i=n.state.doc;if(!e.focusNode)return null;let r=n.docView.nearestDesc(e.focusNode),o=r&&r.size==0,a=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(a<0)return null;let s=i.resolve(a),l,d;if(Er(e)){for(l=a;r&&!r.node;)r=r.parent;let u=r.node;if(r&&u.isAtom&&S.isSelectable(u)&&r.parent&&!(u.isInline&&sp(e.focusNode,e.focusOffset,r.dom))){let p=r.posBefore;d=new S(a==p?s:i.resolve(p))}}else{if(e instanceof n.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let u=a,p=a;for(let h=0;h<e.rangeCount;h++){let m=e.getRangeAt(h);u=Math.min(u,n.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,n.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(u<0)return null;[l,a]=p==n.state.selection.anchor?[p,u]:[u,p],s=i.resolve(a)}else l=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let c=i.resolve(l);if(!d){let u=t=="pointer"||n.state.selection.head<s.pos&&!o?1:-1;d=ra(n,c,s,u)}return d}function yd(n){return n.editable?n.hasFocus():Cd(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function _t(n,t=!1){let e=n.state.selection;if(wd(n,e),!!yd(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ve){let i=n.domSelectionRange(),r=n.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&oi(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Rp(n);else{let{anchor:i,head:r}=e,o,a;Hl&&!(e instanceof Y)&&(e.$from.parent.inlineContent||(o=jl(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(a=jl(n,e.to))),n.docView.setSelection(i,r,n,t),Hl&&(o&&Yl(o),a&&Yl(a)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Np(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}var Hl=we||ve&&ud<63;function jl(n,t){let{node:e,offset:i}=n.docView.domFromPos(t,0),r=i<e.childNodes.length?e.childNodes[i]:null,o=i?e.childNodes[i-1]:null;if(we&&r&&r.contentEditable=="false")return Ro(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return Ro(r);if(o)return Ro(o)}}function Ro(n){return n.contentEditable="true",we&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Yl(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Np(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelectionRange(),i=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=i||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!yd(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Rp(n){let t=n.domSelection(),e=document.createRange();if(!t)return;let i=n.cursorWrapper.dom,r=i.nodeName=="IMG";r?e.setStart(i.parentNode,he(i)+1):e.setStart(i,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),!r&&!n.state.selection.visible&&Oe&&Et<=11&&(i.disabled=!0,i.disabled=!1)}function wd(n,t){if(t instanceof S){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(ql(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else ql(n)}function ql(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function ra(n,t,e,i){return n.someProp("createSelectionBetween",r=>r(n,t,e))||Y.between(t,e,i)}function $l(n){return n.editable&&!n.hasFocus()?!1:Cd(n)}function Cd(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Fp(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelectionRange();return oi(t.node,t.offset,e.anchorNode,e.anchorOffset)}function Ko(n,t){let{$anchor:e,$head:i}=n.selection,r=t>0?e.max(i):e.min(i),o=r.parent.inlineContent?r.depth?n.doc.resolve(t>0?r.after():r.before()):null:r;return o&&N.findFrom(o,t)}function St(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function Wl(n,t,e){let i=n.state.selection;if(i instanceof Y)if(e.indexOf("s")>-1){let{$head:r}=i,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=n.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return St(n,new Y(i.$anchor,a))}else if(i.empty){if(n.endOfTextblock(t>0?"forward":"backward")){let r=Ko(n.state,t);return r&&r instanceof S?St(n,r):!1}else if(!($e&&e.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(a=n.docView.descAt(s))&&!a.contentDOM?S.isSelectable(o)?St(n,new S(t<0?n.state.doc.resolve(r.pos-o.nodeSize):r)):wn?St(n,new Y(n.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof S&&i.node.isInline)return St(n,new Y(t>0?i.$to:i.$from));{let r=Ko(n.state,t);return r?St(n,r):!1}}}function Cr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function gn(n,t){let e=n.pmViewDesc;return e&&e.size==0&&(t<0||n.nextSibling||n.nodeName!="BR")}function Ai(n,t){return t<0?Pp(n):Vp(n)}function Pp(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let r,o,a=!1;for(Ze&&e.nodeType==1&&i<Cr(e)&&gn(e.childNodes[i],-1)&&(a=!0);;)if(i>0){if(e.nodeType!=1)break;{let s=e.childNodes[i-1];if(gn(s,-1))r=e,o=--i;else if(s.nodeType==3)e=s,i=e.nodeValue.length;else break}}else{if(kd(e))break;{let s=e.previousSibling;for(;s&&gn(s,-1);)r=e.parentNode,o=he(s),s=s.previousSibling;if(s)e=s,i=Cr(e);else{if(e=e.parentNode,e==n.dom)break;i=0}}}a?Uo(n,e,i):r&&Uo(n,r,o)}function Vp(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let r=Cr(e),o,a;for(;;)if(i<r){if(e.nodeType!=1)break;let s=e.childNodes[i];if(gn(s,1))o=e,a=++i;else break}else{if(kd(e))break;{let s=e.nextSibling;for(;s&&gn(s,1);)o=s.parentNode,a=he(s)+1,s=s.nextSibling;if(s)e=s,i=0,r=Cr(e);else{if(e=e.parentNode,e==n.dom)break;i=r=0}}}o&&Uo(n,o,a)}function kd(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function zp(n,t){for(;n&&t==n.childNodes.length&&!yn(n);)t=he(n)+1,n=n.parentNode;for(;n&&t<n.childNodes.length;){let e=n.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=0}}function Lp(n,t){for(;n&&!t&&!yn(n);)t=he(n),n=n.parentNode;for(;n&&t;){let e=n.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=n.childNodes.length}}function Uo(n,t,e){if(t.nodeType!=3){let o,a;(a=zp(t,e))?(t=a,e=0):(o=Lp(t,e))&&(t=o,e=o.nodeValue.length)}let i=n.domSelection();if(!i)return;if(Er(i)){let o=document.createRange();o.setEnd(t,e),o.setStart(t,e),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(t,e);n.domObserver.setCurSelection();let{state:r}=n;setTimeout(()=>{n.state==r&&_t(n)},50)}function Kl(n,t){let e=n.state.doc.resolve(t);if(!(ve||cp)&&e.parent.inlineContent){let r=n.coordsAtPos(t);if(t>e.start()){let o=n.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<e.end()){let o=n.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Ul(n,t,e){let i=n.state.selection;if(i instanceof Y&&!i.empty||e.indexOf("s")>-1||$e&&e.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let a=Ko(n.state,t);if(a&&a instanceof S)return St(n,a)}if(!r.parent.inlineContent){let a=t<0?r:o,s=i instanceof Pe?N.near(a,t):N.findFrom(a,t);return s?St(n,s):!1}return!1}function Gl(n,t){if(!(n.state.selection instanceof Y))return!0;let{$head:e,$anchor:i,empty:r}=n.state.selection;if(!e.sameParent(i))return!0;if(!r)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(o&&!o.isText){let a=n.state.tr;return t<0?a.delete(e.pos-o.nodeSize,e.pos):a.delete(e.pos,e.pos+o.nodeSize),n.dispatch(a),!0}return!1}function Ql(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function Bp(n){if(!we||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;Ql(n,i,"true"),setTimeout(()=>Ql(n,i,"false"),20)}return!1}function Hp(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function jp(n,t){let e=t.keyCode,i=Hp(t);if(e==8||$e&&e==72&&i=="c")return Gl(n,-1)||Ai(n,-1);if(e==46&&!t.shiftKey||$e&&e==68&&i=="c")return Gl(n,1)||Ai(n,1);if(e==13||e==27)return!0;if(e==37||$e&&e==66&&i=="c"){let r=e==37?Kl(n,n.state.selection.from)=="ltr"?-1:1:-1;return Wl(n,r,i)||Ai(n,r)}else if(e==39||$e&&e==70&&i=="c"){let r=e==39?Kl(n,n.state.selection.from)=="ltr"?1:-1:1;return Wl(n,r,i)||Ai(n,r)}else{if(e==38||$e&&e==80&&i=="c")return Ul(n,-1,i)||Ai(n,-1);if(e==40||$e&&e==78&&i=="c")return Bp(n)||Ul(n,1,i)||Ai(n,1);if(i==($e?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function oa(n,t){n.someProp("transformCopied",h=>{t=h(t,n)});let e=[],{content:i,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let h=i.firstChild;e.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),i=h.content}let a=n.someProp("clipboardSerializer")||mt.fromSchema(n.state.schema),s=Ad(),l=s.createElement("div");l.appendChild(a.serializeFragment(i,{document:s}));let d=l.firstChild,c,u=0;for(;d&&d.nodeType==1&&(c=Ed[d.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let m=s.createElement(c[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),u++}d=l.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${o}${u?` -${u}`:""} ${JSON.stringify(e)}`);let p=n.someProp("clipboardTextSerializer",h=>h(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:p,slice:t}}function Dd(n,t,e,i,r){let o=r.parent.type.spec.code,a,s;if(!e&&!t)return null;let l=t&&(i||o||!e);if(l){if(n.someProp("transformPastedText",p=>{t=p(t,o||i,n)}),o)return t?new k(w.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):k.empty;let u=n.someProp("clipboardTextParser",p=>p(t,r,i,n));if(u)s=u;else{let p=r.marks(),{schema:h}=n.state,m=mt.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(f=>{let x=a.appendChild(document.createElement("p"));f&&x.appendChild(m.serializeNode(h.text(f,p)))})}}else n.someProp("transformPastedHTML",u=>{e=u(e,n)}),a=Wp(e),wn&&Kp(a);let d=a&&a.querySelector("[data-pm-slice]"),c=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let u=+c[3];u>0;u--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(s||(s=(n.someProp("clipboardParser")||n.someProp("domParser")||kt.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:r,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Yp.test(p.parentNode.nodeName)?{ignore:!0}:null}})),c)s=Up(Jl(s,+c[1],+c[2]),c[4]);else if(s=k.maxOpen(qp(s.content,r),!0),s.openStart||s.openEnd){let u=0,p=0;for(let h=s.content.firstChild;u<s.openStart&&!h.type.spec.isolating;u++,h=h.firstChild);for(let h=s.content.lastChild;p<s.openEnd&&!h.type.spec.isolating;p++,h=h.lastChild);s=Jl(s,u,p)}return n.someProp("transformPasted",u=>{s=u(s,n)}),s}var Yp=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function qp(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),o,a=[];if(n.forEach(s=>{if(!a)return;let l=r.findWrapping(s.type),d;if(!l)return a=null;if(d=a.length&&o.length&&Sd(l,o,s,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=Id(a[a.length-1],o.length));let c=Md(s,l);a.push(c),r=r.matchType(c.type),o=l}}),a)return w.from(a)}return n}function Md(n,t,e=0){for(let i=t.length-1;i>=e;i--)n=t[i].create(null,w.from(n));return n}function Sd(n,t,e,i,r){if(r<n.length&&r<t.length&&n[r]==t[r]){let o=Sd(n,t,e,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==n.length-1?e.type:n[r+1]))return i.copy(i.content.append(w.from(Md(e,n,r+1))))}}function Id(n,t){if(t==0)return n;let e=n.content.replaceChild(n.childCount-1,Id(n.lastChild,t-1)),i=n.contentMatchAt(n.childCount).fillBefore(w.empty,!0);return n.copy(e.append(i))}function Go(n,t,e,i,r,o){let a=t<0?n.firstChild:n.lastChild,s=a.content;return n.childCount>1&&(o=0),r<i-1&&(s=Go(s,t,e,i,r+1,o)),r>=e&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=r).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(w.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,a.copy(s))}function Jl(n,t,e){return t<n.openStart&&(n=new k(Go(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new k(Go(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}var Ed={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Xl=null;function Ad(){return Xl||(Xl=document.implementation.createHTMLDocument("title"))}var Fo=null;function $p(n){let t=window.trustedTypes;return t?(Fo||(Fo=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),Fo.createHTML(n)):n}function Wp(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let e=Ad().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),r;if((r=i&&Ed[i[1].toLowerCase()])&&(n=r.map(o=>"<"+o+">").join("")+n+r.map(o=>"</"+o+">").reverse().join("")),e.innerHTML=$p(n),r)for(let o=0;o<r.length;o++)e=e.querySelector(r[o])||e;return e}function Kp(n){let t=n.querySelectorAll(ve?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let i=t[e];i.childNodes.length==1&&i.textContent=="\xA0"&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function Up(n,t){if(!n.size)return n;let e=n.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return n}let{content:r,openStart:o,openEnd:a}=n;for(let s=i.length-2;s>=0;s-=2){let l=e.nodes[i[s]];if(!l||l.hasRequiredAttrs())break;r=w.from(l.create(i[s+1],r)),o++,a++}return new k(r,o,a)}var Ce={},ke={},Gp={touchstart:!0,touchmove:!0},Qo=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function Qp(n){for(let t in Ce){let e=Ce[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>{Xp(n,i)&&!aa(n,i)&&(n.editable||!(i.type in ke))&&e(n,i)},Gp[t]?{passive:!0}:void 0)}we&&n.dom.addEventListener("input",()=>null),Jo(n)}function It(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function Jp(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Jo(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>aa(n,i))})}function aa(n,t){return n.someProp("handleDOMEvents",e=>{let i=e[t.type];return i?i(n,t)||t.defaultPrevented:!1})}function Xp(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function Zp(n,t){!aa(n,t)&&Ce[t.type]&&(n.editable||!(t.type in ke))&&Ce[t.type](n,t)}ke.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=e.keyCode==16||e.shiftKey,!Td(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!(bt&&ve&&e.keyCode==13)))if(e.keyCode!=229&&n.domObserver.forceFlush(),Ri&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",r=>r(n,Zt(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,e))||jp(n,e)?e.preventDefault():It(n,"key")};ke.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};ke.keypress=(n,t)=>{let e=t;if(Td(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||$e&&e.metaKey)return;if(n.someProp("handleKeyPress",r=>r(n,e))){e.preventDefault();return}let i=n.state.selection;if(!(i instanceof Y)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(e.charCode),o=()=>n.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!n.someProp("handleTextInput",a=>a(n,i.$from.pos,i.$to.pos,r,o))&&n.dispatch(o()),e.preventDefault()}};function Ar(n){return{left:n.clientX,top:n.clientY}}function em(n,t){let e=t.x-n.clientX,i=t.y-n.clientY;return e*e+i*i<100}function sa(n,t,e,i,r){if(i==-1)return!1;let o=n.state.doc.resolve(i);for(let a=o.depth+1;a>0;a--)if(n.someProp(t,s=>a>o.depth?s(n,e,o.nodeAfter,o.before(a),r,!0):s(n,e,o.node(a),o.before(a),r,!1)))return!0;return!1}function Ti(n,t,e){if(n.focused||n.focus(),n.state.selection.eq(t))return;let i=n.state.tr.setSelection(t);e=="pointer"&&i.setMeta("pointer",!0),n.dispatch(i)}function tm(n,t){if(t==-1)return!1;let e=n.state.doc.resolve(t),i=e.nodeAfter;return i&&i.isAtom&&S.isSelectable(i)?(Ti(n,new S(e),"pointer"),!0):!1}function im(n,t){if(t==-1)return!1;let e=n.state.selection,i,r;e instanceof S&&(i=e.node);let o=n.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(S.isSelectable(s)){i&&e.$from.depth>0&&a>=e.$from.depth&&o.before(e.$from.depth+1)==e.$from.pos?r=o.before(e.$from.depth):r=o.before(a);break}}return r!=null?(Ti(n,S.create(n.state.doc,r),"pointer"),!0):!1}function nm(n,t,e,i,r){return sa(n,"handleClickOn",t,e,i)||n.someProp("handleClick",o=>o(n,t,i))||(r?im(n,e):tm(n,e))}function rm(n,t,e,i){return sa(n,"handleDoubleClickOn",t,e,i)||n.someProp("handleDoubleClick",r=>r(n,t,i))}function om(n,t,e,i){return sa(n,"handleTripleClickOn",t,e,i)||n.someProp("handleTripleClick",r=>r(n,t,i))||am(n,e,i)}function am(n,t,e){if(e.button!=0)return!1;let i=n.state.doc;if(t==-1)return i.inlineContent?(Ti(n,Y.create(i,0,i.content.size),"pointer"),!0):!1;let r=i.resolve(t);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(a.inlineContent)Ti(n,Y.create(i,s+1,s+1+a.content.size),"pointer");else if(S.isSelectable(a))Ti(n,S.create(i,s),"pointer");else continue;return!0}}function la(n){return kr(n)}var Od=$e?"metaKey":"ctrlKey";Ce.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let i=la(n),r=Date.now(),o="singleClick";r-n.input.lastClick.time<500&&em(e,n.input.lastClick)&&!e[Od]&&n.input.lastClick.button==e.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o,button:e.button};let a=n.posAtCoords(Ar(e));a&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Xo(n,a,e,!!i)):(o=="doubleClick"?rm:om)(n,a.pos,a.inside,e)?e.preventDefault():It(n,"pointer"))};var Xo=class{constructor(t,e,i,r){this.view=t,this.pos=e,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[Od],this.allowDefault=i.shiftKey;let o,a;if(e.inside>-1)o=t.state.doc.nodeAt(e.inside),a=e.inside;else{let c=t.state.doc.resolve(e.pos);o=c.parent,a=c.depth?c.before():0}let s=r?null:i.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:d}=t.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||d instanceof S&&d.from<=a&&d.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ze&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),It(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_t(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ar(t))),this.updateAllowDefault(t),this.allowDefault||!e?It(this.view,"pointer"):nm(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||we&&this.mightDrag&&!this.mightDrag.node.isAtom||ve&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Ti(this.view,N.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):It(this.view,"pointer")}move(t){this.updateAllowDefault(t),It(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};Ce.touchstart=n=>{n.input.lastTouch=Date.now(),la(n),It(n,"pointer")};Ce.touchmove=n=>{n.input.lastTouch=Date.now(),It(n,"pointer")};Ce.contextmenu=n=>la(n);function Td(n,t){return n.composing?!0:we&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}var sm=bt?5e3:-1;ke.compositionstart=ke.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$to;if(t.selection instanceof Y&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||e.marks(),kr(n,!0),n.markCursor=null;else if(kr(n,!t.selection.empty),Ze&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let i=n.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let a=o<0?r.lastChild:r.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=n.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else r=a,o=-1}}n.input.composing=!0}Nd(n,sm)};ke.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Nd(n,20))};function Nd(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>kr(n),t))}function Rd(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=dm());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function lm(n){let t=n.domSelectionRange();if(!t.focusNode)return null;let e=op(t.focusNode,t.focusOffset),i=ap(t.focusNode,t.focusOffset);if(e&&i&&e!=i){let r=i.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(e==o||i==o)return o;if(!r||!r.isText(i.nodeValue))return i;if(n.input.compositionNode==i){let a=e.pmViewDesc;if(!(!a||!a.isText(e.nodeValue)))return i}}return e||i}function dm(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function kr(n,t=!1){if(!(bt&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Rd(n),t||n.docView&&n.docView.dirty){let e=na(n),i=n.state.selection;return e&&!e.eq(i)?n.dispatch(n.state.tr.setSelection(e)):(n.markCursor||t)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function cm(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(t),n.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}var bn=Oe&&Et<15||Ri&&up<604;Ce.copy=ke.cut=(n,t)=>{let e=t,i=n.state.selection,r=e.type=="cut";if(i.empty)return;let o=bn?null:e.clipboardData,a=i.content(),{dom:s,text:l}=oa(n,a);o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):cm(n,s),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function um(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function pm(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),e?_n(n,i.value,null,r,t):_n(n,i.textContent,i.innerHTML,r,t)},50)}function _n(n,t,e,i,r){let o=Dd(n,t,e,i,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,r,o||k.empty)))return!0;if(!o)return!1;let a=um(o),s=a?n.state.tr.replaceSelectionWith(a,i):n.state.tr.replaceSelection(o);return n.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Fd(n){let t=n.getData("text/plain")||n.getData("Text");if(t)return t;let e=n.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}ke.paste=(n,t)=>{let e=t;if(n.composing&&!bt)return;let i=bn?null:e.clipboardData,r=n.input.shiftKey&&n.input.lastKeyCode!=45;i&&_n(n,Fd(i),i.getData("text/html"),r,e)?e.preventDefault():pm(n,e)};var Dr=class{constructor(t,e,i){this.slice=t,this.move=e,this.node=i}},mm=$e?"altKey":"ctrlKey";function Pd(n,t){let e=n.someProp("dragCopies",i=>!i(t));return e??!t[mm]}Ce.dragstart=(n,t)=>{let e=t,i=n.input.mouseDown;if(i&&i.done(),!e.dataTransfer)return;let r=n.state.selection,o=r.empty?null:n.posAtCoords(Ar(e)),a;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof S?r.to-1:r.to))){if(i&&i.mightDrag)a=S.create(n.state.doc,i.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let u=n.docView.nearestDesc(e.target,!0);u&&u.node.type.spec.draggable&&u!=n.docView&&(a=S.create(n.state.doc,u.posBefore))}}let s=(a||n.state.selection).content(),{dom:l,text:d,slice:c}=oa(n,s);(!e.dataTransfer.files.length||!ve||ud>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(bn?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",bn||e.dataTransfer.setData("text/plain",d),n.dragging=new Dr(c,Pd(n,e),a)};Ce.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};ke.dragover=ke.dragenter=(n,t)=>t.preventDefault();ke.drop=(n,t)=>{let e=t,i=n.dragging;if(n.dragging=null,!e.dataTransfer)return;let r=n.posAtCoords(Ar(e));if(!r)return;let o=n.state.doc.resolve(r.pos),a=i&&i.slice;a?n.someProp("transformPasted",m=>{a=m(a,n)}):a=Dd(n,Fd(e.dataTransfer),bn?null:e.dataTransfer.getData("text/html"),!1,o);let s=!!(i&&Pd(n,e));if(n.someProp("handleDrop",m=>m(n,e,a||k.empty,s))){e.preventDefault();return}if(!a)return;e.preventDefault();let l=a?_l(n.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let d=n.state.tr;if(s){let{node:m}=i;m?m.replace(d):d.deleteSelection()}let c=d.mapping.map(l),u=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=d.doc;if(u?d.replaceRangeWith(c,c,a.content.firstChild):d.replaceRange(c,c,a),d.doc.eq(p))return;let h=d.doc.resolve(c);if(u&&S.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new S(h));else{let m=d.mapping.map(l);d.mapping.maps[d.mapping.maps.length-1].forEach((f,x,D,K)=>m=K),d.setSelection(ra(n,h,d.doc.resolve(m)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};Ce.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&_t(n)},20))};Ce.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Ce.beforeinput=(n,t)=>{if(ve&&bt&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Zt(8,"Backspace")))))return;let{$cursor:r}=n.state.selection;r&&r.pos>0&&n.dispatch(n.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let n in ke)Ce[n]=ke[n];function xn(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}var Mr=class n{constructor(t,e){this.toDOM=t,this.spec=e||ni,this.side=this.spec.side||0}map(t,e,i,r){let{pos:o,deleted:a}=t.mapResult(e.from+r,this.side<0?-1:1);return a?null:new at(o-i,o-i,this)}valid(){return!0}eq(t){return this==t||t instanceof n&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&xn(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},ii=class n{constructor(t,e){this.attrs=t,this.spec=e||ni}map(t,e,i,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-i,a=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=a?null:new at(o,a,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof n&&xn(this.attrs,t.attrs)&&xn(this.spec,t.spec)}static is(t){return t.type instanceof n}destroy(){}},Zo=class n{constructor(t,e){this.attrs=t,this.spec=e||ni}map(t,e,i,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let a=t.mapResult(e.to+r,-1);return a.deleted||a.pos<=o.pos?null:new at(o.pos-i,a.pos-i,this)}valid(t,e){let{index:i,offset:r}=t.content.findIndex(e.from),o;return r==e.from&&!(o=t.child(i)).isText&&r+o.nodeSize==e.to}eq(t){return this==t||t instanceof n&&xn(this.attrs,t.attrs)&&xn(this.spec,t.spec)}destroy(){}},at=class n{constructor(t,e,i){this.from=t,this.to=e,this.type=i}copy(t,e){return new n(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,i){return this.type.map(t,this,e,i)}static widget(t,e,i){return new n(t,t,new Mr(e,i))}static inline(t,e,i,r){return new n(t,e,new ii(i,r))}static node(t,e,i,r){return new n(t,e,new Zo(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ii}get widget(){return this.type instanceof Mr}},Oi=[],ni={},ye=class n{constructor(t,e){this.local=t.length?t:Oi,this.children=e.length?e:Oi}static create(t,e){return e.length?Ir(e,t,0,ni):xe}find(t,e,i){let r=[];return this.findInner(t??0,e??1e9,r,0,i),r}findInner(t,e,i,r,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&i.push(s.copy(s.from+r,s.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,e-s,i,r+s,o)}}map(t,e,i){return this==xe||t.maps.length==0?this:this.mapInner(t,e,0,0,i||ni)}mapInner(t,e,i,r,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,i,r);l&&l.type.valid(e,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?hm(this.children,a||[],t,e,i,r,o):a?new n(a.sort(ri),Oi):xe}add(t,e){return e.length?this==xe?n.create(t,e):this.addInner(t,e,0):this}addInner(t,e,i){let r,o=0;t.forEach((s,l)=>{let d=l+i,c;if(c=zd(e,s,d)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(s,c,d+1):r.splice(o,0,l,l+s.nodeSize,Ir(c,s,d+1,ni)),o+=3}});let a=Vd(o?Ld(e):e,-i);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new n(a.length?this.local.concat(a).sort(ri):this.local,r||this.children)}remove(t){return t.length==0||this==xe?this:this.removeInner(t,0)}removeInner(t,e){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let a,s=i[o]+e,l=i[o+1]+e;for(let c=0,u;c<t.length;c++)(u=t[c])&&u.from>s&&u.to<l&&(t[c]=null,(a||(a=[])).push(u));if(!a)continue;i==this.children&&(i=this.children.slice());let d=i[o+2].removeInner(a,s+1);d!=xe?i[o+2]=d:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<r.length;s++)r[s].eq(a,e)&&(r==this.local&&(r=this.local.slice()),r.splice(s--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new n(r,i):xe}forChild(t,e){if(this==xe)return this;if(e.isLeaf)return n.empty;let i,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(i=this.children[s+2]);break}let o=t+1,a=o+e.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof ii){let d=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;d<c&&(r||(r=[])).push(l.copy(d,c))}}if(r){let s=new n(r.sort(ri),Oi);return i?new Sr([s,i]):s}return i||xe}eq(t){if(this==t)return!0;if(!(t instanceof n)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return da(this.localsInner(t))}localsInner(t){if(this==xe)return Oi;if(t.inlineContent||!this.local.some(ii.is))return this.local;let e=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof ii||e.push(this.local[i]);return e}forEachSet(t){t(this)}};ye.empty=new ye([],[]);ye.removeOverlap=da;var xe=ye.empty,Sr=class n{constructor(t){this.members=t}map(t,e){let i=this.members.map(r=>r.map(t,e,ni));return n.from(i)}forChild(t,e){if(e.isLeaf)return ye.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=xe&&(o instanceof n?i=i.concat(o.members):i.push(o))}return n.from(i)}eq(t){if(!(t instanceof n)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!e)e=o;else{i&&(e=e.slice(),i=!1);for(let a=0;a<o.length;a++)e.push(o[a])}}return e?da(i?e:e.sort(ri)):Oi}static from(t){switch(t.length){case 0:return xe;case 1:return t[0];default:return new n(t.every(e=>e instanceof ye)?t:t.reduce((e,i)=>e.concat(i instanceof ye?i:i.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function hm(n,t,e,i,r,o,a){let s=n.slice();for(let d=0,c=o;d<e.maps.length;d++){let u=0;e.maps[d].forEach((p,h,m,f)=>{let x=f-m-(h-p);for(let D=0;D<s.length;D+=3){let K=s[D+1];if(K<0||p>K+c-u)continue;let ge=s[D]+c-u;h>=ge?s[D+1]=p<=ge?-2:-1:p>=c&&x&&(s[D]+=x,s[D+1]+=x)}u+=x}),c=e.maps[d].map(c,-1)}let l=!1;for(let d=0;d<s.length;d+=3)if(s[d+1]<0){if(s[d+1]==-2){l=!0,s[d+1]=-1;continue}let c=e.map(n[d]+o),u=c-r;if(u<0||u>=i.content.size){l=!0;continue}let p=e.map(n[d+1]+o,-1),h=p-r,{index:m,offset:f}=i.content.findIndex(u),x=i.maybeChild(m);if(x&&f==u&&f+x.nodeSize==h){let D=s[d+2].mapInner(e,x,c+1,n[d]+o+1,a);D!=xe?(s[d]=u,s[d+1]=h,s[d+2]=D):(s[d+1]=-2,l=!0)}else l=!0}if(l){let d=fm(s,n,t,e,r,o,a),c=Ir(d,i,0,a);t=c.local;for(let u=0;u<s.length;u+=3)s[u+1]<0&&(s.splice(u,3),u-=3);for(let u=0,p=0;u<c.children.length;u+=3){let h=c.children[u];for(;p<s.length&&s[p]<h;)p+=3;s.splice(p,0,c.children[u],c.children[u+1],c.children[u+2])}}return new ye(t.sort(ri),s)}function Vd(n,t){if(!t||!n.length)return n;let e=[];for(let i=0;i<n.length;i++){let r=n[i];e.push(new at(r.from+t,r.to+t,r.type))}return e}function fm(n,t,e,i,r,o,a){function s(l,d){for(let c=0;c<l.local.length;c++){let u=l.local[c].map(i,r,d);u?e.push(u):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+d+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&s(n[l+2],t[l]+o+1);return e}function zd(n,t,e){if(t.isLeaf)return null;let i=e+t.nodeSize,r=null;for(let o=0,a;o<n.length;o++)(a=n[o])&&a.from>e&&a.to<i&&((r||(r=[])).push(a),n[o]=null);return r}function Ld(n){let t=[];for(let e=0;e<n.length;e++)n[e]!=null&&t.push(n[e]);return t}function Ir(n,t,e,i){let r=[],o=!1;t.forEach((s,l)=>{let d=zd(n,s,l+e);if(d){o=!0;let c=Ir(d,s,e+l+1,i);c!=xe&&r.push(l,l+s.nodeSize,c)}});let a=Vd(o?Ld(n):n,-e).sort(ri);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(i.onRemove&&i.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new ye(a,r):xe}function ri(n,t){return n.from-t.from||n.to-t.to}function da(n){let t=n;for(let e=0;e<t.length-1;e++){let i=t[e];if(i.from!=i.to)for(let r=e+1;r<t.length;r++){let o=t[r];if(o.from==i.from){o.to!=i.to&&(t==n&&(t=n.slice()),t[r]=o.copy(o.from,i.to),Zl(t,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(t==n&&(t=n.slice()),t[e]=i.copy(i.from,o.from),Zl(t,r,i.copy(o.from,i.to)));break}}}return t}function Zl(n,t,e){for(;t<n.length&&ri(e,n[t])>0;)t++;n.splice(t,0,e)}function Po(n){let t=[];return n.someProp("decorations",e=>{let i=e(n.state);i&&i!=xe&&t.push(i)}),n.cursorWrapper&&t.push(ye.create(n.state.doc,[n.cursorWrapper.deco])),Sr.from(t)}var gm={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bm=Oe&&Et<=11,ea=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},ta=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ea,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Oe&&Et<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),bm&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,gm)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if($l(this.view)){if(this.suppressingSelectionUpdates)return _t(this.view);if(Oe&&Et<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&oi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,i;for(let o=t.focusNode;o;o=Ni(o))e.add(o);for(let o=t.anchorNode;o;o=Ni(o))if(e.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let i=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&$l(t)&&!this.ignoreSelectionChange(i),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let c=0;c<e.length;c++){let u=this.registerMutation(e[c],l);u&&(o=o<0?u.from:Math.min(u.from,o),a=a<0?u.to:Math.max(u.to,a),u.typeOver&&(s=!0))}if(Ze&&l.length){let c=l.filter(u=>u.nodeName=="BR");if(c.length==2){let[u,p]=c;u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let p of c){let h=p.parentNode;h&&h.nodeName=="LI"&&(!u||vm(t,u)!=h)&&p.remove()}}}let d=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Er(i)&&(d=na(t))&&d.eq(N.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,_t(t),this.currentSelection.set(i),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,a),_m(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||_t(t),this.currentSelection.set(i))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let u=t.addedNodes[c];e.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let r=t.previousSibling,o=t.nextSibling;if(Oe&&Et<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:u,nextSibling:p}=t.addedNodes[c];(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(r=u),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p)}let a=r&&r.parentNode==t.target?he(r)+1:0,s=i.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?he(o):t.target.childNodes.length,d=i.localPosFromDOM(t.target,l,1);return{from:s,to:d}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},ed=new WeakMap,td=!1;function _m(n){if(!ed.has(n)&&(ed.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Ze,td)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),td=!0}}function id(n,t){let e=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,a=n.domAtPos(n.state.selection.anchor);return oi(a.node,a.offset,r,o)&&([e,i,r,o]=[r,o,e,i]),{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:o}}function xm(n,t){if(t.getComposedRanges){let r=t.getComposedRanges(n.root)[0];if(r)return id(n,r)}let e;function i(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",i,!0),e?id(n,e):null}function vm(n,t){for(let e=t.parentNode;e&&e!=n.dom;e=e.parentNode){let i=n.docView.nearestDesc(e,!0);if(i&&i.node.isBlock)return e}return null}function ym(n,t,e){let{node:i,fromOffset:r,toOffset:o,from:a,to:s}=n.docView.parseRange(t,e),l=n.domSelectionRange(),d,c=l.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(d=[{node:c,offset:l.anchorOffset}],Er(l)||d.push({node:l.focusNode,offset:l.focusOffset})),ve&&n.input.lastKeyCode===8)for(let x=o;x>r;x--){let D=i.childNodes[x-1],K=D.pmViewDesc;if(D.nodeName=="BR"&&!K){o=x;break}if(!K||K.size)break}let u=n.state.doc,p=n.someProp("domParser")||kt.fromSchema(n.state.schema),h=u.resolve(a),m=null,f=p.parse(i,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:r,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:wm,context:h});if(d&&d[0].pos!=null){let x=d[0].pos,D=d[1]&&d[1].pos;D==null&&(D=x),m={anchor:x+a,head:D+a}}return{doc:f,sel:m,from:a,to:s}}function wm(n){let t=n.pmViewDesc;if(t)return t.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(we&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(n.parentNode.lastChild==n||we&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}var Cm=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function km(n,t,e,i,r){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,t<0){let V=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ne=na(n,V);if(ne&&!n.state.selection.eq(ne)){if(ve&&bt&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",cu=>cu(n,Zt(13,"Enter"))))return;let De=n.state.tr.setSelection(ne);V=="pointer"?De.setMeta("pointer",!0):V=="key"&&De.scrollIntoView(),o&&De.setMeta("composition",o),n.dispatch(De)}return}let a=n.state.doc.resolve(t),s=a.sharedDepth(e);t=a.before(s+1),e=n.state.doc.resolve(e).after(s+1);let l=n.state.selection,d=ym(n,t,e),c=n.state.doc,u=c.slice(d.from,d.to),p,h;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(p=n.state.selection.to,h="end"):(p=n.state.selection.from,h="start"),n.input.lastKeyCode=null;let m=Sm(u.content,d.doc.content,d.from,p,h);if(m&&n.input.domChangeCount++,(Ri&&n.input.lastIOSEnter>Date.now()-225||bt)&&r.some(V=>V.nodeType==1&&!Cm.test(V.nodeName))&&(!m||m.endA>=m.endB)&&n.someProp("handleKeyDown",V=>V(n,Zt(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!m)if(i&&l instanceof Y&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(d.sel){let V=nd(n,n.state.doc,d.sel);if(V&&!V.eq(n.state.selection)){let ne=n.state.tr.setSelection(V);o&&ne.setMeta("composition",o),n.dispatch(ne)}}return}n.state.selection.from<n.state.selection.to&&m.start==m.endB&&n.state.selection instanceof Y&&(m.start>n.state.selection.from&&m.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?m.start=n.state.selection.from:m.endA<n.state.selection.to&&m.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(m.endB+=n.state.selection.to-m.endA,m.endA=n.state.selection.to)),Oe&&Et<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)==" \xA0"&&(m.start--,m.endA--,m.endB--);let f=d.doc.resolveNoCache(m.start-d.from),x=d.doc.resolveNoCache(m.endB-d.from),D=c.resolve(m.start),K=f.sameParent(x)&&f.parent.inlineContent&&D.end()>=m.endA,ge;if((Ri&&n.input.lastIOSEnter>Date.now()-225&&(!K||r.some(V=>V.nodeName=="DIV"||V.nodeName=="P"))||!K&&f.pos<d.doc.content.size&&(!f.sameParent(x)||!f.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(f.pos,x.pos,"",""))&&(ge=N.findFrom(d.doc.resolve(f.pos+1),1,!0))&&ge.head>f.pos)&&n.someProp("handleKeyDown",V=>V(n,Zt(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>m.start&&Mm(c,m.start,m.endA,f,x)&&n.someProp("handleKeyDown",V=>V(n,Zt(8,"Backspace")))){bt&&ve&&n.domObserver.suppressSelectionUpdates();return}ve&&m.endB==m.start&&(n.input.lastChromeDelete=Date.now()),bt&&!K&&f.start()!=x.start()&&x.parentOffset==0&&f.depth==x.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,x=d.doc.resolveNoCache(m.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(V){return V(n,Zt(13,"Enter"))})},20));let Qe=m.start,ct=m.endA,Fn=V=>{let ne=V||n.state.tr.replace(Qe,ct,d.doc.slice(m.start-d.from,m.endB-d.from));if(d.sel){let De=nd(n,ne.doc,d.sel);De&&!(ve&&n.composing&&De.empty&&(m.start!=m.endB||n.input.lastChromeDelete<Date.now()-100)&&(De.head==Qe||De.head==ne.mapping.map(ct)-1)||Oe&&De.empty&&De.head==Qe)&&ne.setSelection(De)}return o&&ne.setMeta("composition",o),ne.scrollIntoView()},Pn;if(K){if(f.pos==x.pos){Oe&&Et<=11&&f.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>_t(n),20));let V=Fn(n.state.tr.delete(Qe,ct)),ne=c.resolve(m.start).marksAcross(c.resolve(m.endA));ne&&V.ensureMarks(ne),n.dispatch(V)}else if(m.endA==m.endB&&(Pn=Dm(f.parent.content.cut(f.parentOffset,x.parentOffset),D.parent.content.cut(D.parentOffset,m.endA-D.start())))){let V=Fn(n.state.tr);Pn.type=="add"?V.addMark(Qe,ct,Pn.mark):V.removeMark(Qe,ct,Pn.mark),n.dispatch(V)}else if(f.parent.child(f.index()).isText&&f.index()==x.index()-(x.textOffset?0:1)){let V=f.parent.textBetween(f.parentOffset,x.parentOffset),ne=()=>Fn(n.state.tr.insertText(V,Qe,ct));n.someProp("handleTextInput",De=>De(n,Qe,ct,V,ne))||n.dispatch(ne())}}else n.dispatch(Fn())}function nd(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:ra(n,t.resolve(e.anchor),t.resolve(e.head))}function Dm(n,t){let e=n.firstChild.marks,i=t.firstChild.marks,r=e,o=i,a,s,l;for(let c=0;c<i.length;c++)r=i[c].removeFromSet(r);for(let c=0;c<e.length;c++)o=e[c].removeFromSet(o);if(r.length==1&&o.length==0)s=r[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(r.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let d=[];for(let c=0;c<t.childCount;c++)d.push(l(t.child(c)));if(w.from(d).eq(n))return{mark:s,type:a}}function Mm(n,t,e,i,r){if(e-t<=r.pos-i.pos||Vo(i,!0,!1)<r.pos)return!1;let o=n.resolve(t);if(!i.parent.isTextblock){let s=o.nodeAfter;return s!=null&&e==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=n.resolve(Vo(o,!0,!0));return!a.parent.isTextblock||a.pos>e||Vo(a,!0,!1)<e?!1:i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function Vo(n,t,e){let i=n.depth,r=t?n.end():n.pos;for(;i>0&&(t||n.indexAfter(i)==n.node(i).childCount);)i--,r++,t=!1;if(e){let o=n.node(i).maybeChild(n.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function Sm(n,t,e,i,r){let o=n.findDiffStart(t,e);if(o==null)return null;let{a,b:s}=n.findDiffEnd(t,e+n.size,e+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(a,s));i-=a+l-o}if(a<o&&n.size<t.size){let l=i<=o&&i>=a?o-i:0;o-=l,o&&o<t.size&&rd(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=i<=o&&i>=s?o-i:0;o-=l,o&&o<n.size&&rd(n.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function rd(n){if(n.length!=2)return!1;let t=n.charCodeAt(0),e=n.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var vn=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Qo,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(dd),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=sd(this),ad(this),this.nodeViews=ld(this),this.docView=Ll(this.state.doc,od(this),Po(this),this.dom,this),this.domObserver=new ta(this,(i,r,o,a)=>km(this,i,r,o,a)),this.domObserver.start(),Qp(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Jo(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(dd),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let i in this._props)e[i]=this._props[i];e.state=this.state;for(let i in t)e[i]=t[i];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var i;let r=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(Rd(this),a=!0),this.state=t;let s=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(s||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let h=ld(this);Em(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(s||e.handleDOMEvents!=this._props.handleDOMEvents)&&Jo(this),this.editable=sd(this),ad(this);let l=Po(this),d=od(this),c=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(t.doc,d,l);(u||!t.selection.eq(r.selection))&&(a=!0);let p=c=="preserve"&&a&&this.dom.style.overflowAnchor==null&&hp(this);if(a){this.domObserver.stop();let h=u&&(Oe||ve)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&Im(r.selection,t.selection);if(u){let m=ve?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=lm(this)),(o||!this.docView.update(t.doc,d,l,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=Ll(t.doc,d,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Fp(this))?_t(this,h):(wd(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():p&&fp(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof S){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&Nl(this,e.getBoundingClientRect(),t)}else Nl(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let i=this.directPlugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let i=this.state.plugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let i=this.pluginViews[e];i.update&&i.update(this,t)}}updateDraggedNode(t,e){let i=t.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let o=i.from+(this.state.doc.content.size-e.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(r=o)}this.dragging=new Dr(t.slice,t.move,r<0?void 0:S.create(this.state.doc,r))}someProp(t,e){let i=this._props&&this._props[t],r;if(i!=null&&(r=e?e(i):i))return r;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(r=e?e(s):s))return r}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(r=e?e(s):s))return r}}hasFocus(){if(Oe){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&gp(this.dom),_t(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return yp(this,t)}coordsAtPos(t,e=1){return gd(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,i=-1){let r=this.docView.posFromDOM(t,e,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return Mp(this,e||this.state,t)}pasteHTML(t,e){return _n(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return _n(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return oa(this,t)}destroy(){this.docView&&(Jp(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Po(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,np())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Zp(this,t)}domSelectionRange(){let t=this.domSelection();return t?we&&this.root.nodeType===11&&lp(this.dom.ownerDocument)==this.dom&&xm(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};vn.prototype.dispatch=function(n){let t=this._props.dispatchTransaction;t?t.call(this,n):this.updateState(this.state.apply(n))};function od(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),n.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(n.state)),e)for(let i in e)i=="class"?t.class+=" "+e[i]:i=="style"?t.style=(t.style?t.style+";":"")+e[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(e[i]))}),t.translate||(t.translate="no"),[at.node(0,n.state.doc.content.size,t)]}function ad(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:at.widget(n.state.selection.from,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function sd(n){return!n.someProp("editable",t=>t(n.state)===!1)}function Im(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}function ld(n){let t=Object.create(null);function e(i){for(let r in i)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=i[r])}return n.someProp("nodeViews",e),n.someProp("markViews",e),t}function Em(n,t){let e=0,i=0;for(let r in n){if(n[r]!=t[r])return!0;e++}for(let r in t)i++;return e!=i}function dd(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Am=["ol",0],Om=["ul",0],Tm=["li",0],Bd={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(n){return{order:n.hasAttribute("start")?+n.getAttribute("start"):1}}}],toDOM(n){return n.attrs.order==1?Am:["ol",{start:n.attrs.order},0]}},Hd={parseDOM:[{tag:"ul"}],toDOM(){return Om}},jd={parseDOM:[{tag:"li"}],toDOM(){return Tm},defining:!0};function Yd(n,t=null){return function(e,i){let{$from:r,$to:o}=e.selection,a=r.blockRange(o);if(!a)return!1;let s=i?e.tr:null;return Nm(s,a,n,t)?(i&&i(s.scrollIntoView()),!0):!1}}function Nm(n,t,e,i=null){let r=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new Kt(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Kt(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let s=Mi(o,e,i,t);return s?(n&&Rm(n,t,s,r,e),!0):!1}function Rm(n,t,e,i,r){let o=w.empty;for(let c=e.length-1;c>=0;c--)o=w.from(e[c].type.create(e[c].attrs,o));n.step(new se(t.start-(i?2:0),t.end,t.start,t.end,new k(o,0,0),e.length,!0));let a=0;for(let c=0;c<e.length;c++)e[c].type==r&&(a=c+1);let s=e.length-a,l=t.start+e.length-(i?2:0),d=t.parent;for(let c=t.startIndex,u=t.endIndex,p=!0;c<u;c++,p=!1)!p&&Dt(n.doc,l,s)&&(n.split(l,s),l+=2*s),l+=d.child(c).nodeSize;return n}function qd(n,t){return function(e,i){let{$from:r,$to:o,node:a}=e.selection;if(a&&a.isBlock||r.depth<2||!r.sameParent(o))return!1;let s=r.node(-1);if(s.type!=n)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=n||r.index(-2)!=r.node(-2).childCount-1)return!1;if(i){let u=w.empty,p=r.index(-1)?1:r.index(-2)?2:3;for(let D=r.depth-p;D>=r.depth-3;D--)u=w.from(r.node(D).copy(u));let h=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;u=u.append(w.from(n.createAndFill()));let m=r.before(r.depth-(p-1)),f=e.tr.replace(m,r.after(-h),new k(u,4-p,0)),x=-1;f.doc.nodesBetween(m,f.doc.content.size,(D,K)=>{if(x>-1)return!1;D.isTextblock&&D.content.size==0&&(x=K+1)}),x>-1&&f.setSelection(N.near(f.doc.resolve(x))),i(f.scrollIntoView())}return!0}let l=o.pos==r.end()?s.contentMatchAt(0).defaultType:null,d=e.tr.delete(r.pos,o.pos),c=l?[t?{type:n,attrs:t}:null,{type:l}]:void 0;return Dt(d.doc,r.pos,2,c)?(i&&i(d.split(r.pos,2,c).scrollIntoView()),!0):!1}}function ca(n){return function(t,e){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,a=>a.childCount>0&&a.firstChild.type==n);return o?e?i.node(o.depth-1).type==n?Fm(t,e,n,o):Pm(t,e,o):!0:!1}}function Fm(n,t,e,i){let r=n.tr,o=i.end,a=i.$to.end(i.depth);o<a&&(r.step(new se(o-1,a,o,a,new k(w.from(e.create(null,i.parent.copy())),1,0),1,!0)),i=new Kt(r.doc.resolve(i.$from.pos),r.doc.resolve(a),i.depth));let s=Qt(i);if(s==null)return!1;r.lift(i,s);let l=r.doc.resolve(r.mapping.map(o,-1)-1);return Jt(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function Pm(n,t,e){let i=n.tr,r=e.parent;for(let h=e.end,m=e.endIndex-1,f=e.startIndex;m>f;m--)h-=r.child(m).nodeSize,i.delete(h-1,h+1);let o=i.doc.resolve(e.start),a=o.nodeAfter;if(i.mapping.map(e.end)!=e.start+o.nodeAfter.nodeSize)return!1;let s=e.startIndex==0,l=e.endIndex==r.childCount,d=o.node(-1),c=o.index(-1);if(!d.canReplace(c+(s?0:1),c+1,a.content.append(l?w.empty:w.from(r))))return!1;let u=o.pos,p=u+a.nodeSize;return i.step(new se(u-(s?1:0),p+(l?1:0),u+1,p-1,new k((s?w.empty:w.from(r.copy(w.empty))).append(l?w.empty:w.from(r.copy(w.empty))),s?0:1,l?0:1),s?0:1)),t(i.scrollIntoView()),!0}function ua(n){return function(t,e){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,d=>d.childCount>0&&d.firstChild.type==n);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=n)return!1;if(e){let d=l.lastChild&&l.lastChild.type==s.type,c=w.from(d?n.create():null),u=new k(w.from(n.create(null,w.from(s.type.create(null,c)))),d?3:1,0),p=o.start,h=o.end;e(t.tr.step(new se(p-(d?3:1),h,p,h,u,1,!0)).scrollIntoView())}return!0}}var zm={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(n){return{href:n.getAttribute("href"),title:n.getAttribute("title"),target:n.getAttribute("target")}}}],toDOM(n){let{href:t,title:e,target:i}=n.attrs;return["a",{href:t,title:e,target:i},0]}},Lm={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},Bm={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM(){return["strong",0]}},Hm={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},jm={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},Ym={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},qm={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:n=>({color:n})}],toDOM(n){let{color:t}=n.attrs;return["span",{style:`color:${t};`},0]}},$m={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:n=>({backgroundColor:n})}],toDOM(n){let{backgroundColor:t}=n.attrs;return["span",{style:`background-color:${t};`},0]}},Wm={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},Km={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},Um={link:zm,em:Lm,strong:Bm,code:Hm,u:jm,s:Ym,text_color:qm,text_background_color:$m,sup:Wm,sub:Km},Gm={content:"block+"},Qm={group:"inline"},Jm={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{align:e,indent:parseInt(i,10)||null}}}],toDOM(n){let{align:t,indent:e}=n.attrs,i={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:ir(i)||null,"data-indent":e??null},0]}},Xm={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(n){let t=n.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(n){let{indent:t}=n.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:ir(e)||null,"data-indent":t??null},0]}},Zm={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},eh={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(i,10)||null}}},{tag:"h2",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(i,10)||null}}},{tag:"h3",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(i,10)||null}}},{tag:"h4",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(i,10)||null}}},{tag:"h5",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(i,10)||null}}},{tag:"h6",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(i,10)||null}}}],toDOM(n){let{level:t,align:e,indent:i}=n.attrs,r={textAlign:e!=="left"?e:null,marginLeft:i!==null?`${i*40}px`:null},a={style:ir(r)||null,"data-indent":i??null};return[`h${t}`,a,0]}},th={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},ih={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},nh={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(n){return{src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),width:n.getAttribute("width")}}}],toDOM(n){let{src:t,alt:e,title:i,width:r}=n.attrs;return["img",{src:t,alt:e,title:i,width:r}]}},rh=ut(re({},jd),{content:"paragraph block*"}),oh=ut(re({},Bd),{content:"list_item+",group:"block"}),ah=ut(re({},Hd),{content:"list_item+",group:"block"}),sh={doc:Gm,text:Qm,paragraph:Jm,blockquote:Xm,horizontal_rule:Zm,heading:eh,hard_break:ih,code_block:th,image:nh,list_item:rh,ordered_list:oh,bullet_list:ah},Cn=new dr({marks:Um,nodes:sh});var Wd=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function lh(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("backward",n):e.parentOffset>0)?null:e}var dh=(n,t,e)=>{let i=lh(n,e);if(!i)return!1;let r=Kd(i);if(!r){let a=i.blockRange(),s=a&&Qt(a);return s==null?!1:(t&&t(n.tr.lift(a,s).scrollIntoView()),!0)}let o=r.nodeBefore;if(Qd(n,r,t,-1))return!0;if(i.parent.content.size==0&&(Pi(o,"end")||S.isSelectable(o)))for(let a=i.depth;;a--){let s=fr(n.doc,i.before(a),i.after(a),k.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=n.tr.step(s);l.setSelection(Pi(o,"end")?N.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):S.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||i.node(a-1).childCount>1)break}return o.isAtom&&r.depth==i.depth-1?(t&&t(n.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function Pi(n,t,e=!1){for(let i=n;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(e&&i.childCount!=1)return!1}return!1}var ch=(n,t,e)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):i.parentOffset>0)return!1;o=Kd(i)}let a=o&&o.nodeBefore;return!a||!S.isSelectable(a)?!1:(t&&t(n.tr.setSelection(S.create(n.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function Kd(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function uh(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("forward",n):e.parentOffset<e.parent.content.size)?null:e}var ph=(n,t,e)=>{let i=uh(n,e);if(!i)return!1;let r=Ud(i);if(!r)return!1;let o=r.nodeAfter;if(Qd(n,r,t,1))return!0;if(i.parent.content.size==0&&(Pi(o,"start")||S.isSelectable(o))){let a=fr(n.doc,i.before(),i.after(),k.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=n.tr.step(a);s.setSelection(Pi(o,"start")?N.findFrom(s.doc.resolve(s.mapping.map(r.pos)),1):S.create(s.doc,s.mapping.map(r.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(t&&t(n.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},mh=(n,t,e)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;o=Ud(i)}let a=o&&o.nodeAfter;return!a||!S.isSelectable(a)?!1:(t&&t(n.tr.setSelection(S.create(n.doc,o.pos)).scrollIntoView()),!0)};function Ud(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}var Gd=(n,t)=>{let{$from:e,$to:i}=n.selection,r=e.blockRange(i),o=r&&Qt(r);return o==null?!1:(t&&t(n.tr.lift(r,o).scrollIntoView()),!0)},ma=(n,t)=>{let{$head:e,$anchor:i}=n.selection;return!e.parent.type.spec.code||!e.sameParent(i)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function ha(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var fa=(n,t)=>{let{$head:e,$anchor:i}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(i))return!1;let r=e.node(-1),o=e.indexAfter(-1),a=ha(r.contentMatchAt(o));if(!a||!r.canReplaceWith(o,o,a))return!1;if(t){let s=e.after(),l=n.tr.replaceWith(s,s,a.createAndFill());l.setSelection(N.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},ga=(n,t)=>{let e=n.selection,{$from:i,$to:r}=e;if(e instanceof Pe||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=ha(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,s=n.tr.insert(a,o.createAndFill());s.setSelection(Y.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},ba=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let o=e.before();if(Dt(n.doc,o))return t&&t(n.tr.split(o).scrollIntoView()),!0}let i=e.blockRange(),r=i&&Qt(i);return r==null?!1:(t&&t(n.tr.lift(i,r).scrollIntoView()),!0)};function hh(n){return(t,e)=>{let{$from:i,$to:r}=t.selection;if(t.selection instanceof S&&t.selection.node.isBlock)return!i.parentOffset||!Dt(t.doc,i.pos)?!1:(e&&e(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],a,s,l=!1,d=!1;for(let h=i.depth;;h--)if(i.node(h).isBlock){l=i.end(h)==i.pos+(i.depth-h),d=i.start(h)==i.pos-(i.depth-h),s=ha(i.node(h-1).contentMatchAt(i.indexAfter(h-1)));let f=n&&n(r.parent,l,i);o.unshift(f||(l&&s?{type:s}:null)),a=h;break}else{if(h==1)return!1;o.unshift(null)}let c=t.tr;(t.selection instanceof Y||t.selection instanceof Pe)&&c.deleteSelection();let u=c.mapping.map(i.pos),p=Dt(c.doc,u,o.length,o);if(p||(o[0]=s?{type:s}:null,p=Dt(c.doc,u,o.length,o)),!p)return!1;if(c.split(u,o.length,o),!l&&d&&i.node(a).type!=s){let h=c.mapping.map(i.before(a)),m=c.doc.resolve(h);s&&i.node(a-1).canReplaceWith(m.index(),m.index()+1,s)&&c.setNodeMarkup(c.mapping.map(i.before(a)),s)}return e&&e(c.scrollIntoView()),!0}}var _a=hh();var fh=(n,t)=>(t&&t(n.tr.setSelection(new Pe(n.doc))),!0);function gh(n,t,e){let i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&t.parent.canReplace(o-1,o)?(e&&e(n.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||Jt(n.doc,t.pos))?!1:(e&&e(n.tr.join(t.pos).scrollIntoView()),!0)}function Qd(n,t,e,i){let r=t.nodeBefore,o=t.nodeAfter,a,s,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&gh(n,t,e))return!0;let d=!l&&t.parent.canReplace(t.index(),t.index()+1);if(d&&(a=(s=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(e){let h=t.pos+o.nodeSize,m=w.empty;for(let D=a.length-1;D>=0;D--)m=w.from(a[D].create(null,m));m=w.from(r.copy(m));let f=n.tr.step(new se(t.pos-1,h,t.pos,h,new k(m,1,0),a.length,!0)),x=f.doc.resolve(h+2*a.length);x.nodeAfter&&x.nodeAfter.type==r.type&&Jt(f.doc,x.pos)&&f.join(x.pos),e(f.scrollIntoView())}return!0}let c=o.type.spec.isolating||i>0&&l?null:N.findFrom(t,1),u=c&&c.$from.blockRange(c.$to),p=u&&Qt(u);if(p!=null&&p>=t.depth)return e&&e(n.tr.lift(u,p).scrollIntoView()),!0;if(d&&Pi(o,"start",!0)&&Pi(r,"end")){let h=r,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let f=o,x=1;for(;!f.isTextblock;f=f.firstChild)x++;if(h.canReplace(h.childCount,h.childCount,f.content)){if(e){let D=w.empty;for(let ge=m.length-1;ge>=0;ge--)D=w.from(m[ge].copy(D));let K=n.tr.step(new se(t.pos-m.length,t.pos+o.nodeSize,t.pos+x,t.pos+o.nodeSize-x,new k(D,m.length,0),0,!0));e(K.scrollIntoView())}return!0}}return!1}function Jd(n){return function(t,e){let i=t.selection,r=n<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(e&&e(t.tr.setSelection(Y.create(t.doc,n<0?r.start(o):r.end(o)))),!0):!1}}var bh=Jd(-1),_h=Jd(1);function Xd(n,t=null){return function(e,i){let{$from:r,$to:o}=e.selection,a=r.blockRange(o),s=a&&Mi(a,n,t);return s?(i&&i(e.tr.wrap(a,s).scrollIntoView()),!0):!1}}function Or(n,t=null){return function(e,i){let r=!1;for(let o=0;o<e.selection.ranges.length&&!r;o++){let{$from:{pos:a},$to:{pos:s}}=e.selection.ranges[o];e.doc.nodesBetween(a,s,(l,d)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(n,t)))if(l.type==n)r=!0;else{let c=e.doc.resolve(d),u=c.index();r=c.parent.canReplaceWith(u,u+1,n)}})}if(!r)return!1;if(i){let o=e.tr;for(let a=0;a<e.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=e.selection.ranges[a];o.setBlockType(s,l,n,t)}i(o.scrollIntoView())}return!0}}function xh(n,t,e,i){for(let r=0;r<t.length;r++){let{$from:o,$to:a}=t[r],s=o.depth==0?n.inlineContent&&n.type.allowsMarkType(e):!1;if(n.nodesBetween(o.pos,a.pos,(l,d)=>{if(s||!i&&l.isAtom&&l.isInline&&d>=o.pos&&d+l.nodeSize<=a.pos)return!1;s=l.inlineContent&&l.type.allowsMarkType(e)}),s)return!0}return!1}function vh(n){let t=[];for(let e=0;e<n.length;e++){let{$from:i,$to:r}=n[e];i.doc.nodesBetween(i.pos,r.pos,(o,a)=>{if(o.isAtom&&o.content.size&&o.isInline&&a>=i.pos&&a+o.nodeSize<=r.pos)return a+1>i.pos&&t.push(new Ii(i,i.doc.resolve(a+1))),i=i.doc.resolve(a+1+o.content.size),!1}),i.pos<r.pos&&t.push(new Ii(i,r))}return t}function si(n,t=null,e){let i=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1,o=!(e&&e.includeWhitespace);return function(a,s){let{empty:l,$cursor:d,ranges:c}=a.selection;if(l&&!d||!xh(a.doc,c,n,r))return!1;if(s)if(d)n.isInSet(a.storedMarks||d.marks())?s(a.tr.removeStoredMark(n)):s(a.tr.addStoredMark(n.create(t)));else{let u,p=a.tr;r||(c=vh(c)),i?u=!c.some(h=>a.doc.rangeHasMark(h.$from.pos,h.$to.pos,n)):u=!c.every(h=>{let m=!1;return p.doc.nodesBetween(h.$from.pos,h.$to.pos,(f,x,D)=>{if(m)return!1;m=!n.isInSet(f.marks)&&!!D&&D.type.allowsMarkType(n)&&!(f.isText&&/^\s*$/.test(f.textBetween(Math.max(0,h.$from.pos-x),Math.min(f.nodeSize,h.$to.pos-x))))}),!m});for(let h=0;h<c.length;h++){let{$from:m,$to:f}=c[h];if(!u)p.removeMark(m.pos,f.pos,n);else{let x=m.pos,D=f.pos,K=m.nodeAfter,ge=f.nodeBefore,Qe=o&&K&&K.isText?/^\s*/.exec(K.text)[0].length:0,ct=o&&ge&&ge.isText?/\s*$/.exec(ge.text)[0].length:0;x+Qe<D&&(x+=Qe,D-=ct),p.addMark(x,D,n.create(t))}}s(p.scrollIntoView())}return!0}}function Vi(...n){return function(t,e,i){for(let r=0;r<n.length;r++)if(n[r](t,e,i))return!0;return!1}}var pa=Vi(Wd,dh,ch),$d=Vi(Wd,ph,mh),xt={Enter:Vi(ma,ga,ba,_a),"Mod-Enter":fa,Backspace:pa,"Mod-Backspace":pa,"Shift-Backspace":pa,Delete:$d,"Mod-Delete":$d,"Mod-a":fh},Zd={"Ctrl-h":xt.Backspace,"Alt-Backspace":xt["Mod-Backspace"],"Ctrl-d":xt.Delete,"Ctrl-Alt-Backspace":xt["Mod-Delete"],"Alt-Delete":xt["Mod-Delete"],"Alt-d":xt["Mod-Delete"],"Ctrl-a":bh,"Ctrl-e":_h};for(let n in xt)Zd[n]=xt[n];var yh=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,ec=yh?Zd:xt;var Ue=class{constructor(t,e,i={}){this.match=t,this.match=t,this.handler=typeof e=="string"?wh(e):e,this.undoable=i.undoable!==!1,this.inCode=i.inCode||!1,this.inCodeMark=i.inCodeMark!==!1}};function wh(n){return function(t,e,i,r){let o=n;if(e[1]){let a=e[0].lastIndexOf(e[1]);o+=e[0].slice(a+e[1].length),i+=a;let s=i-r;s>0&&(o=e[0].slice(a-s,a)+o,i=r)}return t.tr.insertText(o,i,r)}}var Ch=500;function ic({rules:n}){let t=new _e({state:{init(){return null},apply(e,i){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:i)}},props:{handleTextInput(e,i,r,o){return tc(e,i,r,o,n,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:i}=e.state.selection;i&&tc(e,i.pos,i.pos,"",n,t)})}}},isInputRules:!0});return t}function tc(n,t,e,i,r,o){if(n.composing)return!1;let a=n.state,s=a.doc.resolve(t),l=s.parent.textBetween(Math.max(0,s.parentOffset-Ch),s.parentOffset,null,"\uFFFC")+i;for(let d=0;d<r.length;d++){let c=r[d];if(!c.inCodeMark&&s.marks().some(h=>h.type.spec.code))continue;if(s.parent.type.spec.code){if(!c.inCode)continue}else if(c.inCode==="only")continue;let u=c.match.exec(l),p=u&&u[0].length>=i.length&&c.handler(a,u,t-(u[0].length-i.length),e);if(p)return c.undoable&&p.setMeta(o,{transform:p,from:t,to:e,text:i}),n.dispatch(p),!0}return!1}var nc=new Ue(/--$/,"\u2014",{inCodeMark:!1}),rc=new Ue(/\.\.\.$/,"\u2026",{inCodeMark:!1}),kh=new Ue(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),Dh=new Ue(/"$/,"\u201D",{inCodeMark:!1}),Mh=new Ue(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),Sh=new Ue(/'$/,"\u2019",{inCodeMark:!1}),oc=[kh,Dh,Mh,Sh];function Tr(n,t,e=null,i){return new Ue(n,(r,o,a,s)=>{let l=e instanceof Function?e(o):e,d=r.tr.delete(a,s),c=d.doc.resolve(a),u=c.blockRange(),p=u&&Mi(u,t,l);if(!p)return null;d.wrap(u,p);let h=d.doc.resolve(a-1).nodeBefore;return h&&h.type==t&&Jt(d.doc,a-1)&&(!i||i(o,h))&&d.join(a-1),d})}function xa(n,t,e=null){return new Ue(n,(i,r,o,a)=>{let s=i.doc.resolve(o),l=e instanceof Function?e(r):e;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?i.tr.delete(o,a).setBlockType(o,o,t,l):null})}var Nr=(n,t)=>{let{from:e,$from:i,to:r,empty:o}=n.selection;return o?!!t.isInSet(n.storedMarks||i.marks()):n.doc.rangeHasMark(e,r,t)},Ih=(n,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===n)return t.node(e).type;return null},va=(n,t,e={})=>{let{selection:i}=n,{$from:r,to:o}=i,a=Ih(t,r);return!Object.entries(e).length||!a?!!a:o<=r.end()&&r.parent.hasMarkup(t,e)},ac=n=>{let t=[],{selection:e,storedMarks:i}=n,{from:r,to:o,empty:a,$from:s}=e;return a?t=i||s.marks():n.doc.nodesBetween(r,o,l=>{t=[...t,...l.marks]}),t},ya=n=>{let t=[],{selection:{from:e,to:i}}=n;return n.doc.nodesBetween(e,i,r=>{t.push(r)}),t},wa=(n,t,e)=>{for(let i of t){let{$from:r,$to:o}=i,a=r.depth===0?n.type.allowsMarkType(e):!1;if(n.nodesBetween(r.pos,o.pos,s=>a?!1:(a=s.inlineContent&&s.type.allowsMarkType(e),!0)),a)return!0}return!1},Ca=(n,t,e)=>new Ue(n,(i,r,o,a)=>{let{tr:s}=i,l=o,d=a,[c,,u]=r,p=c.search(/\S/);if(u){let h=o+c.indexOf(u),m=h+u.length;m<a&&s.delete(m,a),h>o&&s.delete(o+p,h),d=o+u.length+p}return s.addMark(l,d,t.create(e)),s.removeStoredMark(t),s}),sc=(n,t)=>{let{$from:e}=n.selection;for(let i=e.depth;i>=0;i-=1){let r=e.index(i);if(e.node(i).canReplaceWith(r,r,t))return!0}return!1};var lc=()=>(n,t)=>{let{doc:e,selection:i,tr:r,schema:o}=n,{$head:{pos:a},from:s,to:l}=i,d=o.marks.link;if(s===l){let c=e.resolve(a),u=a-c.textOffset,p=u+c.parent.child(c.index()).nodeSize;r.removeMark(u,p,d)}else r.removeMark(s,l,d);return r.docChanged?(t?.(r),!0):!1},ka=(n,t={})=>(e,i)=>{let{tr:r,selection:o}=e,{empty:a,ranges:s,$from:l,$to:d}=o;if(a&&o instanceof Y){let{$cursor:c}=o;if(!c||!wa(e.doc,s,n)||(r.addStoredMark(n.create(t)),!r.storedMarksSet))return!1;i?.(r)}else{if(r.addMark(l.pos,d.pos,n.create(t)),!r.docChanged)return!1;i?.(r.scrollIntoView())}return!0},dc=n=>(t,e)=>{let{tr:i,selection:r,storedMarks:o,doc:a}=t,{empty:s,ranges:l}=r;if(s&&r instanceof Y){let{$cursor:d}=r;if(!d||!wa(t.doc,l,n))return!1;if(n.isInSet(o||d.marks()))return i.removeStoredMark(n),e?.(i),!0}else{for(let d of l){let{$from:c,$to:u}=d;a.rangeHasMark(c.pos,u.pos,n)&&i.removeMark(c.pos,u.pos,n)}if(!i.docChanged)return!1;e?.(i.scrollIntoView())}return!1};var Rr=200,fe=function(){};fe.prototype.append=function(t){return t.length?(t=fe.from(t),!this.length&&t||t.length<Rr&&this.leafAppend(t)||this.length<Rr&&t.leafPrepend(this)||this.appendInner(t)):this};fe.prototype.prepend=function(t){return t.length?fe.from(t).append(this):this};fe.prototype.appendInner=function(t){return new Eh(this,t)};fe.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?fe.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};fe.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};fe.prototype.forEach=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length),e<=i?this.forEachInner(t,e,i,0):this.forEachInvertedInner(t,e,i,0)};fe.prototype.map=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(o,a){return r.push(t(o,a))},e,i),r};fe.from=function(t){return t instanceof fe?t:t&&t.length?new cc(t):fe.empty};var cc=function(n){function t(i){n.call(this),this.values=i}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,a,s){for(var l=o;l<a;l++)if(r(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,a,s){for(var l=o-1;l>=a;l--)if(r(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Rr)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Rr)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(fe);fe.empty=new cc([]);var Eh=function(n){function t(e,i){n.call(this),this.left=e,this.right=i,this.length=e.length+i.length,this.depth=Math.max(e.depth,i.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,r,o,a){var s=this.left.length;if(r<s&&this.left.forEachInner(i,r,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(i,Math.max(r-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(i,r,o,a){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(i,r-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(i,Math.min(r,s),o,a)===!1)return!1},t.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(i,r):i>=o?this.right.slice(i-o,r-o):this.left.slice(i,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new t(r,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t}(fe),Da=fe;var Ah=500,di=class n{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,o;e&&(r=this.remapping(i,this.items.length),o=r.maps.length);let a=t.tr,s,l,d=[],c=[];return this.items.forEach((u,p)=>{if(!u.step){r||(r=this.remapping(i,p+1),o=r.maps.length),o--,c.push(u);return}if(r){c.push(new st(u.map));let h=u.step.map(r.slice(o)),m;h&&a.maybeStep(h).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],d.push(new st(m,void 0,void 0,d.length+c.length))),o--,m&&r.appendMap(m,o)}else a.maybeStep(u.step);if(u.selection)return s=r?u.selection.map(r.slice(o)):u.selection,l=new n(this.items.slice(0,i).append(c.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,e,i,r){let o=[],a=this.eventCount,s=this.items,l=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<t.steps.length;c++){let u=t.steps[c].invert(t.docs[c]),p=new st(t.mapping.maps[c],u,e),h;(h=l&&l.merge(p))&&(p=h,c?o.pop():s=s.slice(0,s.length-1)),o.push(p),e&&(a++,e=void 0),r||(l=p)}let d=a-i.depth;return d>Th&&(s=Oh(s,d),a-=d),new n(s.append(o),a)}remapping(t,e){let i=new cn;return this.items.forEach((r,o)=>{let a=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,a)},t,e),i}addMaps(t){return this.eventCount==0?this:new n(this.items.append(t.map(e=>new st(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-e),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(p=>{p.selection&&s--},r);let l=e;this.items.forEach(p=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let m=o.maps[h];if(p.step){let f=t.steps[h].invert(t.docs[h]),x=p.selection&&p.selection.map(o.slice(l+1,h));x&&s++,i.push(new st(m,f,x))}else i.push(new st(m))},r);let d=[];for(let p=e;p<a;p++)d.push(new st(o.maps[p]));let c=this.items.slice(0,r).append(d).append(i),u=new n(c,s);return u.emptyItemCount()>Ah&&(u=u.compress(this.items.length-i.length)),u}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),i=e.maps.length,r=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)r.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(e.slice(i)),d=l&&l.getMap();if(i--,d&&e.appendMap(d,i),l){let c=a.selection&&a.selection.map(e.slice(i));c&&o++;let u=new st(d.invert(),l,c),p,h=r.length-1;(p=r.length&&r[h].merge(u))?r[h]=p:r.push(u)}}else a.map&&i--},this.items.length,0),new n(Da.from(r.reverse()),o)}};di.empty=new di(Da.empty,0);function Oh(n,t){let e;return n.forEach((i,r)=>{if(i.selection&&t--==0)return e=r,!1}),n.slice(e)}var st=class n{constructor(t,e,i,r){this.map=t,this.step=e,this.selection=i,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new n(e.getMap().invert(),e,this.selection)}}},lt=class{constructor(t,e,i,r,o){this.done=t,this.undone=e,this.prevRanges=i,this.prevTime=r,this.prevComposition=o}},Th=20;function Nh(n,t,e,i){let r=e.getMeta(li),o;if(r)return r.historyState;e.getMeta(Ph)&&(n=new lt(n.done,n.undone,null,0,-1));let a=e.getMeta("appendedTransaction");if(e.steps.length==0)return n;if(a&&a.getMeta(li))return a.getMeta(li).redo?new lt(n.done.addTransform(e,void 0,i,Fr(t)),n.undone,uc(e.mapping.maps),n.prevTime,n.prevComposition):new lt(n.done,n.undone.addTransform(e,void 0,i,Fr(t)),null,n.prevTime,n.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=e.getMeta("composition"),l=n.prevTime==0||!a&&n.prevComposition!=s&&(n.prevTime<(e.time||0)-i.newGroupDelay||!Rh(e,n.prevRanges)),d=a?Ma(n.prevRanges,e.mapping):uc(e.mapping.maps);return new lt(n.done.addTransform(e,l?t.selection.getBookmark():void 0,i,Fr(t)),di.empty,d,e.time,s??n.prevComposition)}else return(o=e.getMeta("rebased"))?new lt(n.done.rebased(e,o),n.undone.rebased(e,o),Ma(n.prevRanges,e.mapping),n.prevTime,n.prevComposition):new lt(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),Ma(n.prevRanges,e.mapping),n.prevTime,n.prevComposition)}function Rh(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((i,r)=>{for(let o=0;o<t.length;o+=2)i<=t[o+1]&&r>=t[o]&&(e=!0)}),e}function uc(n){let t=[];for(let e=n.length-1;e>=0&&t.length==0;e--)n[e].forEach((i,r,o,a)=>t.push(o,a));return t}function Ma(n,t){if(!n)return null;let e=[];for(let i=0;i<n.length;i+=2){let r=t.map(n[i],1),o=t.map(n[i+1],-1);r<=o&&e.push(r,o)}return e}function Fh(n,t,e){let i=Fr(t),r=li.get(t).spec.config,o=(e?n.undone:n.done).popEvent(t,i);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(e?n.done:n.undone).addTransform(o.transform,t.selection.getBookmark(),r,i),l=new lt(e?s:o.remaining,e?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(li,{redo:e,historyState:l})}var Sa=!1,pc=null;function Fr(n){let t=n.plugins;if(pc!=t){Sa=!1,pc=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Sa=!0;break}}return Sa}var li=new Ve("history"),Ph=new Ve("closeHistory");function mc(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new _e({key:li,state:{init(){return new lt(di.empty,di.empty,null,0,-1)},apply(t,e,i){return Nh(e,i,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,e){let i=e.inputType,r=i=="historyUndo"?Vr:i=="historyRedo"?kn:null;return r?(e.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function Pr(n,t){return(e,i)=>{let r=li.getState(e);if(!r||(n?r.undone:r.done).eventCount==0)return!1;if(i){let o=Fh(r,e,n);o&&i(t?o.scrollIntoView():o)}return!0}}var Vr=Pr(!1,!0),kn=Pr(!0,!0),H0=Pr(!1,!1),j0=Pr(!0,!1);var vt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Lr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Vh=typeof navigator<"u"&&/Mac/.test(navigator.platform),zh=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(ee=0;ee<10;ee++)vt[48+ee]=vt[96+ee]=String(ee);var ee;for(ee=1;ee<=24;ee++)vt[ee+111]="F"+ee;var ee;for(ee=65;ee<=90;ee++)vt[ee]=String.fromCharCode(ee+32),Lr[ee]=String.fromCharCode(ee);var ee;for(zr in vt)Lr.hasOwnProperty(zr)||(Lr[zr]=vt[zr]);var zr;function hc(n){var t=Vh&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||zh&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?Lr:vt)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var Lh=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Bh=typeof navigator<"u"&&/Win/.test(navigator.platform);function Hh(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let i,r,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Lh?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(e="Alt-"+e),r&&(e="Ctrl-"+e),a&&(e="Meta-"+e),o&&(e="Shift-"+e),e}function jh(n){let t=Object.create(null);for(let e in n)t[Hh(e)]=n[e];return t}function Ia(n,t,e=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e&&t.shiftKey&&(n="Shift-"+n),n}function Dn(n){return new _e({props:{handleKeyDown:Yh(n)}})}function Yh(n){let t=jh(n);return function(e,i){let r=hc(i),o,a=t[Ia(r,i)];if(a&&a(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let s=t[Ia(r,i,!1)];if(s&&s(e.state,e.dispatch,e))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(Bh&&i.ctrlKey&&i.altKey)&&(o=vt[i.keyCode])&&o!=r){let s=t[Ia(o,i)];if(s&&s(e.state,e.dispatch,e))return!0}}return!1}}var Wh=["imgEl"],Kh=n=>({"NgxEditor__Resizer--Active":n});function Uh(n,t){if(n&1){let e=X();v(0,"span",4)(1,"span",5),M("mousedown",function(r){I(e);let o=C();return E(o.startResizing(r,"left"))}),y(),v(2,"span",6),M("mousedown",function(r){I(e);let o=C();return E(o.startResizing(r,"right"))}),y(),v(3,"span",7),M("mousedown",function(r){I(e);let o=C();return E(o.startResizing(r,"left"))}),y(),v(4,"span",8),M("mousedown",function(r){I(e);let o=C();return E(o.startResizing(r,"right"))}),y()()}}var Gh=["ngxEditor"],Qh=["*"];function Jh(n,t){if(n&1&&(v(0,"div",12),j(1),L(2,"async"),y()),n&2){let e=C(2);g(),Ee(" ",B(2,1,(e.href.errors==null?null:e.href.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function Xh(n,t){if(n&1&&(v(0,"div",12),j(1),y()),n&2){let e=C(2);g(),Ee(" ",(e.text.errors==null?null:e.text.errors.required)&&"This is required"," ")}}function Zh(n,t){if(n&1&&(v(0,"div",4)(1,"div",5)(2,"label"),O(3,"input",13),j(4),L(5,"async"),y()()()),n&2){let e=C(2);g(4),Ee(" ",B(5,1,e.getLabel("openInNewTab"))," ")}}function ef(n,t){if(n&1){let e=X();v(0,"div",2)(1,"form",3),M("ngSubmit",function(r){I(e);let o=C();return E(o.insertLink(r))}),v(2,"div",4)(3,"div",5)(4,"label",6),j(5),L(6,"async"),y(),O(7,"input",7),A(8,Jh,3,3,"div",8),y()(),v(9,"div",4)(10,"div",5)(11,"label",6),j(12),L(13,"async"),y(),O(14,"input",9),A(15,Xh,2,1,"div",8),y()(),A(16,Zh,6,3,"div",10),v(17,"button",11),j(18),L(19,"async"),y()()()}if(n&2){let e=C();g(),b("formGroup",e.form),g(3),b("htmlFor",e.getId("link-popup-url")),g(),ie(B(6,12,e.getLabel("url"))),g(2),b("id",e.getId("link-popup-url")),g(),b("ngIf",e.href.touched&&e.href.invalid),g(3),b("htmlFor",e.getId("link-popup-label")),g(),ie(B(13,14,e.getLabel("text"))),g(2),b("id",e.getId("link-popup-label")),g(),b("ngIf",e.text.touched&&e.text.invalid),g(),b("ngIf",e.options.showOpenInNewTab),g(),b("disabled",!e.form.valid),g(),ie(B(19,16,e.getLabel("insert")))}}var tf=(n,t)=>({"NgxEditor__Dropdown--Active":n,"NgxEditor--Disabled":t});function nf(n,t){if(n&1){let e=X();v(0,"button",4),L(1,"async"),M("mousedown",function(r){let o=I(e).$implicit,a=C(2);return E(a.onDropdownItemMouseClick(r,o))})("keydown.enter",function(r){let o=I(e).$implicit,a=C(2);return E(a.onDropdownItemKeydown(r,o))})("keydown.space",function(r){let o=I(e).$implicit,a=C(2);return E(a.onDropdownItemKeydown(r,o))}),j(2),L(3,"async"),y()}if(n&2){let e=t.$implicit,i=C(2);b("ngClass",$n(8,tf,e===i.activeItem,i.disabledItems.includes(e)))("ariaLabel",B(1,4,i.getName(e))),R("aria-selected",e===i.activeItem),g(2),Ee(" ",B(3,6,i.getName(e))," ")}}function rf(n,t){if(n&1&&(v(0,"div",2),A(1,nf,4,11,"button",3),y()),n&2){let e=C();g(),b("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}function of(n,t){if(n&1&&(v(0,"div",12),j(1),L(2,"async"),y()),n&2){let e=C(2);g(),Ee(" ",B(2,1,(e.src.errors==null?null:e.src.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function af(n,t){if(n&1){let e=X();v(0,"div",2)(1,"form",3),M("ngSubmit",function(r){I(e);let o=C();return E(o.insertLink(r))}),v(2,"div",4)(3,"div",5)(4,"label",6),j(5),L(6,"async"),y(),O(7,"input",7),A(8,of,3,3,"div",8),y()(),v(9,"div",4)(10,"div",5)(11,"label",6),j(12),L(13,"async"),y(),O(14,"input",9),y()(),v(15,"div",4)(16,"div",5)(17,"label",6),j(18),L(19,"async"),y(),O(20,"input",10),y()(),v(21,"button",11),j(22),L(23,"async"),y()()()}if(n&2){let e=C();g(),b("formGroup",e.form),g(3),b("htmlFor",e.getId("image-popup-url")),g(),ie(B(6,13,e.getLabel("url"))),g(2),b("id",e.getId("image-popup-url")),g(),b("ngIf",e.src.touched&&e.src.invalid),g(3),b("htmlFor",e.getId("image-popup-label")),g(),ie(B(13,15,e.getLabel("altText"))),g(2),b("id",e.getId("image-popup-label")),g(3),b("htmlFor",e.getId("image-popup-title")),g(),ie(B(19,17,e.getLabel("title"))),g(2),b("id",e.getId("image-popup-title")),g(),b("disabled",!e.form.valid||!e.form.dirty),g(),ie(B(23,19,e.getLabel("insert")))}}var sf=(n,t)=>({backgroundColor:n,color:t}),lf=n=>({"NgxEditor__Color--Active":n});function df(n,t){if(n&1){let e=X();v(0,"button",7),M("mousedown",function(r){let o=I(e).$implicit,a=C(3);return E(a.onColorSelectMouseClick(r,o))})("keydown.enter",function(){let r=I(e).$implicit,o=C(3);return E(o.onColorSelectKeydown(r))})("keydown.space",function(){let r=I(e).$implicit,o=C(3);return E(o.onColorSelectKeydown(r))}),y()}if(n&2){let e=t.$implicit,i=C(3);b("ngStyle",$n(3,sf,e,i.getContrastYIQ(e)))("title",e)("ngClass",Qr(6,lf,i.activeColors.includes(e)))}}function cf(n,t){if(n&1&&(v(0,"div",5),A(1,df,1,8,"button",6),y()),n&2){let e=t.$implicit,i=C(2);g(),b("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function uf(n,t){if(n&1){let e=X();v(0,"div",2),A(1,cf,2,2,"div",3),v(2,"button",4),M("mousedown",function(r){I(e);let o=C();return E(o.onRemoveMouseClick(r))})("keydown.enter",function(){I(e);let r=C();return E(r.onRemoveKeydown())})("keydown.space",function(){I(e);let r=C();return E(r.onRemoveKeydown())}),j(3),L(4,"async"),y()()}if(n&2){let e=C();g(),b("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),g(),b("disabled",!e.isActive),g(),Ee(" ",B(4,4,e.getLabel("remove"))," ")}}var pf=(n,t)=>({"NgxEditor--Disabled":n,"NgxEditor__MenuBar--Reverse":t});function mf(n,t){if(n&1&&O(0,"ngx-toggle-command",7),n&2){let e=C().$implicit,i=C(2);Ie(i.iconContainerClass),b("toolbarItem",e)}}function hf(n,t){if(n&1&&O(0,"ngx-insert-command",7),n&2){let e=C().$implicit,i=C(2);Ie(i.iconContainerClass),b("toolbarItem",e)}}function ff(n,t){if(n&1&&(fi(0),O(1,"ngx-link",8),gi()),n&2){let e=C().$implicit,i=C(2);g(),Ie(i.iconContainerClass),b("options",i.getLinkOptions(e))}}function gf(n,t){if(n&1&&O(0,"ngx-image"),n&2){let e=C(3);Ie(e.iconContainerClass)}}function bf(n,t){if(n&1&&O(0,"ngx-dropdown",10),n&2){let e=t.$implicit,i=C(4);Ie(i.dropdownContainerClass),b("group",e.key)("items",e.value)}}function _f(n,t){if(n&1&&(fi(0),A(1,bf,1,4,"ngx-dropdown",9),L(2,"keyvalue"),gi()),n&2){let e=C().$implicit,i=C(2);g(),b("ngForOf",B(2,2,i.getDropdownItems(e)))("ngForTrackBy",i.trackByIndex)}}function xf(n,t){if(n&1&&O(0,"ngx-color-picker",11),n&2){let e=C(3);Ie(e.iconContainerClass),b("presets",e.presets)}}function vf(n,t){if(n&1&&O(0,"ngx-color-picker",12),n&2){let e=C(3);Ie(e.iconContainerClass),b("presets",e.presets)}}function yf(n,t){if(n&1&&O(0,"div"),n&2){let e=C(3);Ie(e.seperatorClass)}}function wf(n,t){if(n&1&&(fi(0),A(1,mf,1,3,"ngx-toggle-command",3)(2,hf,1,3,"ngx-insert-command",3)(3,ff,2,3,"ng-container",2)(4,gf,1,2,"ngx-image",4)(5,_f,3,4,"ng-container",2)(6,xf,1,3,"ngx-color-picker",5)(7,vf,1,3,"ngx-color-picker",6)(8,yf,1,2,"div",4),gi()),n&2){let e=t.$implicit,i=t.last,r=C().last,o=C();g(),b("ngIf",o.toggleCommands.includes(e)),g(),b("ngIf",o.insertCommands.includes(e)),g(),b("ngIf",o.isLinkItem(e)),g(),b("ngIf",e==="image"),g(),b("ngIf",o.isDropDown(e)),g(),b("ngIf",e==="text_color"),g(),b("ngIf",e==="background_color"),g(),b("ngIf",i&&!r)}}function Cf(n,t){if(n&1&&(fi(0),A(1,wf,9,8,"ng-container",1),gi()),n&2){let e=t.$implicit,i=C();g(),b("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function kf(n,t){if(n&1&&(fi(0),ms(1,13),gi()),n&2){let e=C();g(),b("ngTemplateOutlet",e.customMenuRef)}}var Df=(n=!0)=>new _e({key:new Ve("editable"),state:{init(){return n},apply(t,e){return t.getMeta("UPDATE_EDITABLE")??e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),Mf="NgxEditor__Placeholder",Sf=n=>new _e({key:new Ve("placeholder"),state:{init(){return n??""},apply(t,e){return t.getMeta("UPDATE_PLACEHOLDER")??e}},props:{decorations(t){let{doc:e}=t,{textContent:i,childCount:r}=e,o=this.getState(t);if(!o||r>1)return ye.empty;let a=[],s=(l,d)=>{if(l.type.isBlock&&l.childCount===0&&i.length===0){let c=d,u=d+l.nodeSize,p=at.node(c,u,{class:Mf,"data-placeholder":o,"data-align":l.attrs.align??null});a.push(p)}return!1};return e.descendants(s),ye.create(e,a)}}}),If=(n={})=>new _e({key:new Ve("attributes"),props:{attributes:n}}),Ef=n=>new _e({key:new Ve("focus"),props:{handleDOMEvents:{focus:()=>(n(),!1)}}}),Af=n=>new _e({key:new Ve("blur"),props:{handleDOMEvents:{blur:()=>(n(),!1)}}}),Of=(()=>{class n{src;alt="";title="";outerWidth="";selected=!1;view;imageResize=new T;imgEl;startResizing(e,i){e.preventDefault(),this.resizeImage(e,i)}resizeImage(e,i){let r=e.pageX,o=this.imgEl.nativeElement.clientWidth,a=i==="left",{width:s}=window.getComputedStyle(this.view.dom),l=parseInt(s,10),d=u=>{let h=u.pageX-r,m=a?o-h:o+h;m>l||m<20||(this.outerWidth=`${m}px`)},c=u=>{u.preventDefault(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",c),this.imageResize.emit()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",c)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["ngx-image-view"]],viewQuery:function(i,r){if(i&1&&$(Wh,7),i&2){let o;F(o=P())&&(r.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(i,r){i&1&&(v(0,"span",1),A(1,Uh,5,0,"span",2),O(2,"img",3,0),y()),i&2&&(hi("width",r.outerWidth),b("ngClass",Qr(7,Kh,r.selected)),g(),b("ngIf",r.selected),g(),b("src",r.src,ds)("alt",r.alt)("title",r.title))},dependencies:[qe,Ae],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return n})(),Ea=class{dom;view;getPos;applicationRef;imageComponentRef;resizeSubscription;node;updating=!1;constructor(t,e,i,r){this.applicationRef=r.get(bs),this.imageComponentRef=_s(Of,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=i,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}handleResize=()=>{if(this.updating)return;let{state:t,dispatch:e}=this.view,{tr:i}=t,r=i.setNodeMarkup(this.getPos(),void 0,ut(re({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),o=r.doc.resolve(this.getPos()),a=new S(o);r.setSelection(a),e(r)};update(t){return t.type!==this.node.type?!1:(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},Tf=n=>new _e({key:new Ve("image-resize"),props:{nodeViews:{image:(t,e,i)=>new Ea(t,e,i,n)}}}),Nf=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,Dc=n=>{let t=[];return n.forEach(e=>{if(e.isText){let i=e.text,r=0,o=Nf.exec(i);if(o){let a=o.index,s=a+o[0].length,{link:l}=e.type.schema.marks;a>0&&t.push(e.cut(r,a));let d=i.slice(a,s);t.push(e.cut(a,s).mark(l.create({href:d}).addToSet(e.marks))),r=s}r<i.length&&t.push(e.cut(r))}else t.push(e.copy(Dc(e.content)))}),w.fromArray(t)},Rf=()=>new _e({key:new Ve("linkify"),props:{transformPasted:n=>new k(Dc(n.content),n.openStart,n.openEnd)}}),Mc=n=>typeof n=="string",Ff=()=>window.trustedTypes,Sc=n=>Ff()?.isHTML(n)??!1,Ic=n=>Mc(n)||Sc(n),Ec={type:"doc",content:[{type:"paragraph"}]},Pf=(n,t)=>{let e=t??Cn,i=e.nodeFromJSON(n),r=mt.fromSchema(e).serializeFragment(i.content),o=document.createElement("div");return o.appendChild(r),o.innerHTML},Vf=(n,t,e)=>{let i=t??Cn,r=document.createElement("div");return r.innerHTML=n,kt.fromSchema(i).parse(r,e).toJSON()},fc=(n,t,e)=>{if(!n)return t.nodeFromJSON(Ec);if(!Ic(n))return t.nodeFromJSON(n);let i=Vf(n,t,e);return t.nodeFromJSON(i)},Sx=(()=>{class n{renderer;injector;elementRef;constructor(e,i,r){this.renderer=e,this.injector=i,this.elementRef=r}ngxEditor;editor;outputFormat;placeholder="Type Here...";focusOut=new T;focusIn=new T;unsubscribe=new J;onChange=()=>{};onTouched=()=>{};writeValue(e){!this.outputFormat&&Ic(e)&&(this.outputFormat="html"),this.editor.setContent(e??Ec)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if(this.outputFormat==="html"){let i=Pf(e,this.editor.schema);this.onChange(i);return}this.onChange(e)}setMeta(e,i){let{dispatch:r,state:{tr:o}}=this.editor.view;r(o.setMeta(e,i))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(Df()),this.editor.registerPlugin(Sf(this.placeholder)),this.editor.registerPlugin(If({class:"NgxEditor__Content"})),this.editor.registerPlugin(Ef(()=>{this.focusIn.emit()})),this.editor.registerPlugin(Af(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(Tf(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(Rf())}ngOnInit(){if(!this.editor)throw new wi("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(wt(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(i){return new(i||n)(_(cs),_(Ui),_(W))};static \u0275cmp=z({type:n,selectors:[["ngx-editor"]],viewQuery:function(i,r){if(i&1&&$(Gh,7),i&2){let o;F(o=P())&&(r.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[oe([{provide:Ct,useExisting:tt(()=>n),multi:!0}]),He],ngContentSelectors:Qh,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(i,r){i&1&&(Ne(),v(0,"div",1,0),Q(2),y())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}return n})(),Tt=(()=>{class n{editor;customMenuRefChange=new J;setCustomMenuRef(e){this.customMenuRefChange.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dt=class{name;constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?ka(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?si(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=e.marks[this.name];return i?Nr(t,i):!1}canExecute(t){return this.toggle()(t)}},Aa=class{toggle(){return(t,e)=>{let{schema:i}=t,r=i.nodes.blockquote;return r?this.isActive(t)?Gd(t,e):Xd(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=e.nodes.blockquote;return i?va(t,i):!1}canExecute(t){return this.toggle()(t)}},Oa=class{insert(){return(t,e)=>{let{schema:i,tr:r}=t,o=i.nodes.horizontal_rule;return o?(e(r.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(t){return sc(t,t.schema.nodes.horizontal_rule)}},Li=class{isBulletList=!1;constructor(t=!1){this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:i}=t,r=this.getType(i);return r?this.isActive(t)?ca(i.nodes.list_item)(t,e):Yd(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=this.getType(e);return i?va(t,i):!1}canExecute(t){return this.toggle()(t)}},yt=class{level;constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:i}=t,r=i.nodes.heading;return r?Or(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:i,selection:r,doc:o}=t,a=i.nodes.heading;if(!a)return!1;let s=r.$from.before(1),d=o.nodeAt(s)?.attrs??{};return this.isActive(t)?Or(i.nodes.paragraph,d)(t,e):Or(a,ut(re({},d),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,i=ya(t),r=e.nodes.heading;if(!r)return!1;let o=[r,e.nodes.text,e.nodes.blockquote];return!!i.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},ci=class{align;constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:i,selection:r,tr:o,schema:a}=t,{from:s,to:l}=r,d=!1;return i.nodesBetween(s,l,(c,u)=>{let p=c.type;if([a.nodes.paragraph,a.nodes.heading].includes(p)){d=!0;let h=c.attrs.align===this.align?null:this.align;o.setNodeMarkup(u,p,ut(re({},c.attrs),{align:h}))}return!0}),d?(o.docChanged&&e?.(o),!0):!1}}isActive(t){return!!ya(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},zf={strict:!0},Ta=class{update(t){return(e,i)=>{let{schema:r,selection:o}=e,a=r.marks.link;return!a||o.empty?!1:si(a,t)(e,i)}}insert(t,e){return(i,r)=>{let{schema:o,tr:a}=i;if(!o.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},d=o.text(t,[o.marks.link.create(l)]);return a.replaceSelectionWith(d,!1).scrollIntoView(),a.docChanged?(r?.(a),!0):!1}}isActive(t,e=zf){if(e.strict)return!0;let{schema:i}=t,r=i.marks.link;return r?Nr(t,r):!1}remove(t,e){return lc()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},Ac=class{insert(t,e){return(i,r)=>{let{schema:o,tr:a,selection:s}=i,l=o.nodes.image;if(!l)return!1;let d=re({width:null,src:t},e);!d.width&&s instanceof S&&s.node.type===l&&(d.width=s.node.attrs.width),a.replaceSelectionWith(l.createAndFill(d));let c=a.doc.resolve(a.selection.anchor-a.selection.$anchor.nodeBefore.nodeSize);return a.setSelection(new S(c)).scrollIntoView(),a.docChanged?(r?.(a),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof S?e.node.type.name==="image":!1}},zi=class{name;attrName;constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,i)=>{let{schema:r,selection:o,doc:a}=e,s=r.marks[this.name];if(!s)return!1;let{from:l,to:d,empty:c}=o;if(!c&&l+1===d){let u=a.nodeAt(l);if(u?.isAtom&&!u.isText&&u.isLeaf)return!1}return ka(s,t)(e,i)}}isActive(t){let{schema:e}=t,i=e.marks[this.name];return i?Nr(t,i):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return ac(t).filter(o=>o.type===e.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?dc(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},Lf=["link"],Na=class{insert(){return(t,e)=>{let{tr:i}=t,{ranges:r,empty:o}=i.selection;return o||(Object.entries(t.schema.marks).forEach(([a,s])=>{Lf.includes(a)||r.forEach(l=>{i.removeMark(l.$from.pos,l.$to.pos,s)})}),e(i)),!0}}canExecute(){return!0}},Bf=["paragraph","heading","blockquote"],gc=0,bc=10,Hf=(n,t,e)=>{let i=n.doc.nodeAt(t);if(!i)return!1;let r=i.attrs.indent??0,o=Vs(r+(e==="increase"?1:-1),gc,bc);if(o===r||o<gc||o>bc)return!1;let a=ut(re({},i.attrs),{indent:o});return n.setNodeMarkup(t,i.type,a),!0},Bi=class{method="increase";constructor(t){this.method=t}insert(){return(t,e)=>{let{tr:i,doc:r}=t,{from:o,to:a}=i.selection,s=!1;return r.nodesBetween(o,a,(l,d)=>{let c=l.type;return Bf.includes(c.name)?(s=Hf(i,d,this.method),!1):!l.type.name.includes("list")}),s?(i.docChanged&&e?.(i),!0):!1}}canExecute(t){return this.insert()(t)}},Hr=class{mode="undo";constructor(t){this.mode=t}insert(){return(t,e)=>this.mode==="undo"?Vr(t,e):kn(t,e)}canExecute(t){return this.insert()(t)}},jf=new dt("strong"),Yf=new dt("em"),qf=new dt("code"),$f=new dt("u"),Wf=new dt("s"),Kf=new Aa,Uf=new Oa,Gf=new Na,Qf=new Li(!0),Jf=new Li(!1),Xf=new yt(1),Zf=new yt(2),eg=new yt(3),tg=new yt(4),ig=new yt(5),ng=new yt(6),rg=new ci("left"),og=new ci("center"),ag=new ci("right"),sg=new ci("justify"),lg=new Ta,dg=new Ac,cg=new zi("text_color","color"),ug=new zi("text_background_color","backgroundColor"),pg=new Bi("increase"),mg=new Bi("decrease"),hg=new dt("sup"),fg=new dt("sub"),gg=new Hr("undo"),bg=new Hr("redo"),jr={bold:jf,italic:Yf,code:qf,underline:$f,strike:Wf,blockquote:Kf,bullet_list:Qf,ordered_list:Jf,h1:Xf,h2:Zf,h3:eg,h4:tg,h5:ig,h6:ng,align_left:rg,align_center:og,align_right:ag,align_justify:sg,superscript:hg,subscript:fg},_c={horizontal_rule:Uf,format_clear:Gf,indent:pg,outdent:mg,undo:gg,redo:bg},Mn=lg,xc=dg,_g=cg,xg=ug,Ra={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},Fa=class{locals=Ra;constructor(t={}){this.locals=re(re({},Ra),t)}get=t=>{let e=this.locals[t];return e?is(e)?e:Rt(e):Rt("")}},vg=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,yg=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,wg=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,Cg=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,kg=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,Dg=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,Mg=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,Sg=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,Ig=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,Eg=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,Ag=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,Og=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,Tg=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,Ng=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,Rg=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,Fg=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,Pg=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,Vg=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,zg=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,Lg='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',Bg='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',Hg='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',jg='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',Yg='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',qg='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',$g=20,Wg=20,Kg="currentColor",Oc={bold:vg,italic:yg,code:wg,underline:Cg,strike:kg,ordered_list:Dg,bullet_list:Mg,blockquote:Sg,link:Ig,unlink:Eg,image:Ag,align_left:Og,align_center:Tg,align_right:Ng,align_justify:Rg,text_color:Fg,color_fill:Pg,horizontal_rule:Vg,format_clear:zg,indent:Lg,outdent:Bg,superscript:Hg,subscript:jg,undo:Yg,redo:qg,path:"<path></path>"},Pa=class{static get(t,e=Kg){let i=Oc[t];return i&&(i.includes("<path")||i.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${$g}
          width=${Wg}
        >
          ${i}
        </svg>
      `:i}},Va=(()=>{class n{locals={};icons={};static \u0275fac=function(i){return new(i||n)};static \u0275prov=Me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ui=(()=>{class n{config;constructor(e){this.config=e}get locals(){return new Fa(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:Pa.get(e)}static \u0275fac=function(i){return new(i||n)(Ft(Va,8))};static \u0275prov=Me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vc=n=>({locals:n.locals??{},icons:n.icons??{}}),Hi=(()=>{class n{sanitizer;constructor(e){this.sanitizer=e}transform(e){return Sc(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(i){return new(i||n)(_(vs,16))};static \u0275pipe=ss({name:"sanitizeHtml",type:n,pure:!0})}return n})(),Ug=(()=>{class n{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;isActive=!1;disabled=!1;updateSubscription;constructor(e,i){this.ngxeService=e,this.menuService=i}toggle(){let{state:e,dispatch:i}=this.editorView;jr[this.name].toggle()(e,i)}onMouseClick(e){e.preventDefault(),e.button===0&&this.toggle()}onKeydown(){this.toggle()}update=e=>{let{state:i}=e,r=jr[this.name];this.isActive=r.isActive(i),this.disabled=!r.canExecute(i)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(_(ui),_(Tt))};static \u0275cmp=z({type:n,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,r){i&1&&(v(0,"button",0),L(1,"sanitizeHtml"),L(2,"async"),L(3,"async"),M("mousedown",function(a){return r.onMouseClick(a)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),y()),i&2&&(H("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),b("disabled",r.disabled)("innerHTML",B(1,8,r.html),mi)("title",B(2,10,r.getTitle(r.name)))("ariaLabel",B(3,12,r.getTitle(r.name))))},dependencies:[Vt,Hi]})}return n})(),Gg=(()=>{class n{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;disabled=!1;updateSubscription;constructor(e,i){this.ngxeService=e,this.menuService=i}onMouseClick(e){e.preventDefault(),e.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:e,dispatch:i}=this.editorView;_c[this.name].insert()(e,i)}update=e=>{let{state:i}=e,r=_c[this.name];this.disabled=!r.canExecute(i)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(_(ui),_(Tt))};static \u0275cmp=z({type:n,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,r){i&1&&(v(0,"button",0),L(1,"sanitizeHtml"),L(2,"async"),L(3,"async"),M("mousedown",function(a){return r.onMouseClick(a)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),y()),i&2&&(H("NgxEditor--Disabled",r.disabled),b("disabled",r.disabled)("innerHTML",B(1,6,r.html),mi)("title",B(2,8,r.getTitle(r.name)))("ariaLabel",B(3,10,r.getTitle(r.name))))},dependencies:[Vt,Hi]})}return n})(),yc={showOpenInNewTab:!0},Qg=(()=>{class n{el;ngxeService;menuService;options=yc;showPopup=!1;isActive=!1;canExecute=!0;componentId=po();form;editorView;updateSubscription;constructor(e,i,r){this.el=e,this.ngxeService=i,this.menuService=r}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:e,dispatch:i}=this.editorView;if(this.isActive){Mn.remove(e,i);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}setText=()=>{let{state:{selection:e,doc:i}}=this.editorView,{empty:r,from:o,to:a}=e,s=r?"":i.textBetween(o,a);s&&(this.text.patchValue(s),this.text.disable())};update=e=>{let{state:i}=e;this.isActive=Mn.isActive(i,{strict:!1}),this.canExecute=Mn.canExecute(i)};insertLink(e){e.preventDefault();let{text:i,href:r,openInNewTab:o}=this.form.getRawValue(),{dispatch:a,state:s}=this.editorView,{selection:l}=s,d;this.options.showOpenInNewTab&&(d=o?"_blank":"_self");let c={title:r,href:r,target:d};l.empty?(Mn.insert(i,c)(s,a),this.editorView.focus()):Mn.update(c)(s,a),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new to({href:new Bt("",[it.required,it.pattern(this.menuService.editor.linkValidationPattern)]),text:new Bt("",[it.required]),openInNewTab:new Bt(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(_(W),_(ui),_(Tt))};static \u0275cmp=z({type:n,selectors:[["ngx-link"]],hostBindings:function(i,r){i&1&&M("mousedown",function(a){return r.onDocumentClick(a)},!1,Qi)},inputs:{options:[Se.HasDecoratorInputTransform,"options","options",e=>re(re({},yc),e)]},features:[ps],decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(i,r){i&1&&(v(0,"button",0),L(1,"sanitizeHtml"),L(2,"async"),L(3,"async"),M("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),y(),A(4,ef,20,18,"div",1)),i&2&&(H("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),b("disabled",!r.canExecute)("innerHTML",B(1,10,r.icon),mi)("title",B(2,12,r.title))("ariaLabel",B(3,14,r.title))("ariaExpanded",r.showPopup),g(4),b("ngIf",r.showPopup))},dependencies:[Ae,io,Xr,ys,Zr,eo,tn,no,Vt,Hi]})}return n})(),Jg=(()=>{class n{ngxeService;menuService;el;editorView;updateSubscription;group;items;isDropdownOpen=!1;disabledItems=[];activeItem;constructor(e,i,r){this.ngxeService=e,this.menuService=i,this.el=r}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}getIsDropdownActive(e){return this.activeItem===e}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(e){e.preventDefault(),e.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(e){return e}selectItem(e){let i=jr[e],{state:r,dispatch:o}=this.editorView;i.toggle()(r,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(e,i){e.preventDefault(),e.button===0&&this.selectItem(i)}onDropdownItemKeydown(e,i){e.preventDefault(),this.selectItem(i)}update=e=>{let{state:i}=e;this.disabledItems=[];let r=[];this.items.forEach(o=>{let a=jr[o];a.isActive(i)&&r.push(o),a.canExecute(i)||this.disabledItems.push(o)}),r.length===1?[this.activeItem]=r:this.activeItem=null};ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(_(ui),_(Tt),_(W))};static \u0275cmp=z({type:n,selectors:[["ngx-dropdown"]],hostBindings:function(i,r){i&1&&M("mousedown",function(a){return r.onDocumentClick(a.target)},!1,Qi)},inputs:{group:"group",items:"items"},decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(i,r){i&1&&(v(0,"button",0),L(1,"async"),M("mousedown",function(a){return r.onToggleDropdownMouseClick(a)})("keydown.enter",function(){return r.onToggleDropdownKeydown()})("keydown.space",function(){return r.onToggleDropdownKeydown()}),j(2),L(3,"async"),y(),A(4,rf,2,2,"div",1)),i&2&&(H("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),b("disabled",r.isDropdownDisabled)("ariaLabel",B(1,9,r.getName(r.activeItem||r.group)))("ariaExpanded",r.isDropdownOpen),g(2),Ee(" ",B(3,11,r.getName(r.activeItem||r.group)),`
`),g(2),b("ngIf",r.isDropdownOpen))},dependencies:[qe,Pt,Ae,Vt]})}return n})(),Xg=(()=>{class n{el;ngxeService;menuService;showPopup=!1;isActive=!1;componentId=po();updateSubscription;form=new to({src:new Bt("",[it.required,it.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new Bt(""),title:new Bt("")});editorView;constructor(e,i,r){this.el=e,this.ngxeService=i,this.menuService=r}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:e}=this.editorView,{selection:i}=e;if(i instanceof S&&this.isActive){let{src:r,alt:o="",title:a=""}=i.node.attrs;this.form.setValue({src:r,alt:o,title:a})}}update=e=>{let{state:i}=e;this.isActive=xc.isActive(i)};insertLink(e){e.preventDefault();let{src:i,alt:r,title:o}=this.form.getRawValue(),{dispatch:a,state:s}=this.editorView,l={alt:r,title:o};xc.insert(i,l)(s,a),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(_(W),_(ui),_(Tt))};static \u0275cmp=z({type:n,selectors:[["ngx-image"]],hostBindings:function(i,r){i&1&&M("mousedown",function(a){return r.onDocumentClick(a)},!1,Qi)},decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(i,r){i&1&&(v(0,"button",0),L(1,"sanitizeHtml"),L(2,"async"),L(3,"async"),M("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),y(),A(4,af,24,21,"div",1)),i&2&&(H("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),b("innerHTML",B(1,7,r.icon),mi)("title",B(2,9,r.getLabel("insertImage")))("ariaLabel",B(3,11,r.getLabel("insertImage")))("ariaExpanded",r.showPopup),g(4),b("ngIf",r.showPopup))},dependencies:[Ae,io,Xr,Zr,eo,tn,no,Vt,Hi]})}return n})(),Zg=(()=>{class n{el;menuService;ngxeService;presets;type;constructor(e,i,r){this.el=e,this.menuService=i,this.ngxeService=r}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?_g:xg}updateSubscription;editorView;showPopup=!1;isActive=!1;activeColors=[];canExecute=!0;getContrastYIQ(e){let i=e.replace("#",""),r=parseInt(i.substring(0,2),16),o=parseInt(i.substring(2,4),16),a=parseInt(i.substring(4,6),16);return(r*299+o*587+a*114)/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(e){e.preventDefault(),e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:e,dispatch:i}=this.editorView;this.command.remove()(e,i),this.hidePopup()}onRemoveMouseClick(e){e.preventDefault(),e.button===0&&(e.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(e){return e}selectColor(e){let{state:i,dispatch:r}=this.editorView;if(this.type==="text_color"){let o={color:e};this.command.apply(o)(i,r)}else{let o={backgroundColor:e};this.command.apply(o)(i,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(e,i){e.preventDefault(),e.button===0&&this.selectColor(i)}onColorSelectKeydown(e){this.selectColor(e)}update=e=>{let{state:i}=e;this.canExecute=this.command.canExecute(i),this.isActive=this.command.isActive(i),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(i))};getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(_(W),_(Tt),_(ui))};static \u0275cmp=z({type:n,selectors:[["ngx-color-picker"]],hostBindings:function(i,r){i&1&&M("mousedown",function(a){return r.onDocumentClick(a)},!1,Qi)},inputs:{presets:"presets",type:"type"},decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(i,r){i&1&&(v(0,"button",0),L(1,"sanitizeHtml"),L(2,"async"),L(3,"async"),M("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),y(),A(4,uf,5,6,"div",1)),i&2&&(H("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),b("disabled",!r.canExecute)("innerHTML",B(1,9,r.icon),mi)("title",B(2,11,r.title))("ariaLabel",B(3,13,r.title)),g(4),b("ngIf",r.showPopup))},dependencies:[qe,Pt,Ae,xi,Vt,Hi],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return n})();var eb=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var tb=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],Ox=(()=>{class n{menuService;toolbar=eb;colorPresets=tb;disabled=!1;editor;customMenuRef=null;dropdownPlacement="bottom";toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"];insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"];iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"];dropdownContainerClass=["NgxEditor__Dropdown"];seperatorClass=["NgxEditor__Seperator"];constructor(e){this.menuService=e}get presets(){let i=[];return this.colorPresets.forEach((r,o)=>{let a=Math.floor(o/8);i[a]||i.push([]),i[a].push(r)}),i}trackByIndex(e){return e}isDropDown(e){return!!e?.heading}getDropdownItems(e){return e}isLinkItem(e){return e==="link"?!0:typeof e=="object"&&typeof e?.link=="object"}isLinkWithOptions(e){return typeof e=="object"&&typeof e?.link=="object"}getLinkOptions(e){return e?.link}ngOnInit(){if(!this.editor)throw new wi("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static \u0275fac=function(i){return new(i||n)(_(Tt))};static \u0275cmp=z({type:n,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[oe([Tt])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(i,r){i&1&&(v(0,"div",0),A(1,Cf,2,2,"ng-container",1)(2,kf,2,1,"ng-container",2),y()),i&2&&(b("ngClass",$n(4,pf,r.disabled,r.dropdownPlacement==="top")),g(),b("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),g(),b("ngIf",r.customMenuRef))},dependencies:[qe,Pt,Ae,Gn,Ug,Gg,Qg,Jg,Xg,Zg,xs]})}return n})();var ib=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=G({type:n});static \u0275inj=U({providers:[Hi],imports:[ce,ks]})}return n})(),Br=new le("NgxEditorConfig"),wc={locals:Ra,icons:Oc},Tx=(()=>{class n{static forRoot(e=wc){return{ngModule:n,providers:[{provide:Br,useValue:e},{provide:Va,useFactory:vc,deps:[Br]}]}}static forChild(e=wc){return{ngModule:n,providers:[{provide:Br,useValue:e},{provide:Va,useFactory:vc,deps:[Br]},ui]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=G({type:n});static \u0275inj=U({imports:[ce,ib]})}return n})();var Te=(n,t=!1)=>(e,i)=>{let r=new dt(n);return t?r.toggle()(e,i):r.apply()(e,i)},za=class{view;state;tr;constructor(t){if(!t)throw new wi("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}applyTrx=t=>{this.state=this.state.apply(t??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)};dispatch=t=>{this.applyTrx(t)};exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?N.atStart(this.state.doc):N.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return Vi(...[ma,ga,ba,_a])(this.state,this.dispatch),this}applyMark(t){return Te(t,!1)(this.state,this.dispatch),this}toggleMark(t){return Te(t,!0)(this.state,this.dispatch),this}bold(){return Te("strong")(this.state,this.dispatch),this}toggleBold(){return Te("strong",!0)(this.state,this.dispatch),this}italics(){return Te("em")(this.state,this.dispatch),this}toggleItalics(){return Te("em",!0)(this.state,this.dispatch),this}underline(){return Te("u")(this.state,this.dispatch),this}toggleUnderline(){return Te("u",!0)(this.state,this.dispatch),this}strike(){return Te("s")(this.state,this.dispatch),this}toggleStrike(){return Te("s",!0)(this.state,this.dispatch),this}code(){return Te("code")(this.state,this.dispatch),this}toggleCode(){return Te("code",!0)(this.state,this.dispatch),this}superscript(){return Te("sup")(this.state,this.dispatch),this}subscript(){return Te("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new Li(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Li(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new yt(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new Ta().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new Ta().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new Ac().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new zi("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new zi("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new zi("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new zi("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new ci(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:i,tr:r}=this.state,{from:o,to:a}=e,s=document.createElement("div");s.innerHTML=Mc(t)?t.trim():t;let l=kt.fromSchema(i).parseSlice(s),d=r.replaceRange(o,a,l);return this.applyTrx(d),this}indent(){return new Bi("increase").insert()(this.state,this.dispatch),this}outdent(){return new Bi("decrease").insert()(this.state,this.dispatch),this}},nb=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,rb=n=>Tr(/^\s*>\s$/,n),ob=n=>Tr(/^(?:\d+)\.\s$/,n,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),ab=n=>Tr(/^\s*(?:[-+*])\s$/,n),sb=n=>xa(/^```$/,n),lb=(n,t)=>xa(new RegExp(`^(#{1,${t}})\\s$`),n,e=>({level:e[1].length})),db=n=>Ca(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,n),cb=n=>Ca(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,n),ub=n=>{let t=oc.concat(rc,nc);return t.push(db(n.marks.strong)),t.push(cb(n.marks.em)),t.push(rb(n.nodes.blockquote)),t.push(ob(n.nodes.ordered_list)),t.push(ab(n.nodes.bullet_list)),t.push(sb(n.nodes.code_block)),t.push(lb(n.nodes.heading,6)),ic({rules:t})},pb=(n,t)=>{let e={};e["Mod-z"]=Vr,nb?e["Shift-Mod-z"]=kn:e["Mod-y"]=kn;let i=[Dn({"Mod-b":si(n.marks.strong),"Mod-i":si(n.marks.em),"Mod-u":si(n.marks.u),"Mod-`":si(n.marks.code)}),Dn({Enter:qd(n.nodes.list_item),"Shift-Enter":Vi(fa,(r,o)=>{let{tr:a}=r,s=n.nodes.hard_break;return o(a.replaceSelectionWith(s.create()).scrollIntoView()),!0}),"Mod-[":ca(n.nodes.list_item),"Mod-]":ua(n.nodes.list_item),Tab:ua(n.nodes.list_item)}),Dn(ec)];return t.history&&i.push(Dn(e)),i},mb=(n,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...pb(n,{history:t.history})),t.history&&e.push(mc()),t.inputRules&&e.push(ub(n)),e},Tc={linkOnPaste:!0,resizeImage:!0},Cc={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Cn,plugins:[],nodeViews:{},attributes:{},features:Tc,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},kc=class{options;view;constructor(t=Cc){this.options=re(re({},Cc),t),this.createEditor()}valueChangesSubject=new J;updateSubject=new J;get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Cn}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new za(this.view)}get features(){return re(re({},Tc),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let i=e.doc.toJSON();this.valueChangesSubject.next(i)}createEditor(){let{options:t,schema:e}=this,{content:i=null,nodeViews:r}=t,{history:o=!0,keyboardShortcuts:a=!0,inputRules:s=!0}=t,l=fc(i,e,t.parseOptions),d=t.plugins??[],c=t.attributes??{},u=mb(e,{history:o,keyboardShortcuts:a,inputRules:s});this.view=new vn(null,{state:_r.create({doc:l,schema:e,plugins:[...u,...d]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:c,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(Ps(t))return;let{state:e}=this.view,{tr:i,doc:r}=e,o=fc(t,this.schema,this.options.parseOptions);i.replaceWith(0,e.doc.content.size,o),!r.eq(i.doc)&&i.docChanged&&this.view.dispatch(i)}registerPlugin(t){let{state:e}=this.view,i=[...e.plugins,t],r=e.reconfigure({plugins:i});this.view.updateState(r)}destroy(){this.view.destroy()}};var La=class{constructor(t){this._box=t,this._destroyed=new J,this._resizeSubject=new J,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new es(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Vn(e=>e.some(i=>i.target===t)),ns({bufferSize:1,refCount:!0}),wt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Nc=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Be(te),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new La(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Me({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fb=["notch"],gb=["matFormFieldNotchedOutline",""],bb=["*"],_b=["textField"],xb=["iconPrefixContainer"],vb=["textPrefixContainer"],yb=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wb=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Cb(n,t){n&1&&O(0,"span",21)}function kb(n,t){if(n&1&&(v(0,"label",19),Q(1,1),A(2,Cb,1,0,"span",20),y()),n&2){let e=C(2);b("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),R("for",e._control.id),g(2),b("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Db(n,t){if(n&1&&A(0,kb,3,5,"label",18),n&2){let e=C();b("ngIf",e._hasFloatingLabel())}}function Mb(n,t){n&1&&O(0,"div",22)}function Sb(n,t){}function Ib(n,t){if(n&1&&A(0,Sb,0,0,"ng-template",24),n&2){C(2);let e=pt(1);b("ngTemplateOutlet",e)}}function Eb(n,t){if(n&1&&(v(0,"div",23),A(1,Ib,1,1,"ng-template",11),y()),n&2){let e=C();b("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),g(),b("ngIf",!e._forceDisplayInfixLabel())}}function Ab(n,t){n&1&&(v(0,"div",25,2),Q(2,2),y())}function Ob(n,t){n&1&&(v(0,"div",26,3),Q(2,3),y())}function Tb(n,t){}function Nb(n,t){if(n&1&&A(0,Tb,0,0,"ng-template",24),n&2){C();let e=pt(1);b("ngTemplateOutlet",e)}}function Rb(n,t){n&1&&(v(0,"div",27),Q(1,4),y())}function Fb(n,t){n&1&&(v(0,"div",28),Q(1,5),y())}function Pb(n,t){n&1&&O(0,"div",29)}function Vb(n,t){if(n&1&&(v(0,"div",30),Q(1,6),y()),n&2){let e=C();b("@transitionMessages",e._subscriptAnimationState)}}function zb(n,t){if(n&1&&(v(0,"mat-hint",34),j(1),y()),n&2){let e=C(2);b("id",e._hintLabelId),g(),ie(e.hintLabel)}}function Lb(n,t){if(n&1&&(v(0,"div",31),A(1,zb,2,2,"mat-hint",32),Q(2,7),O(3,"div",33),Q(4,8),y()),n&2){let e=C();b("@transitionMessages",e._subscriptAnimationState),g(),b("ngIf",e.hintLabel)}}var Rc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Z({type:n,selectors:[["mat-label"]]})}}return n})();var Bb=new le("MatError");var Hb=0,Fc=(()=>{class n{constructor(){this.align="start",this.id=`mat-mdc-hint-${Hb++}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Z({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(bi("id",r.id),R("align",null),H("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}}return n})(),jb=new le("MatPrefix");var Yc=new le("MatSuffix"),lv=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Z({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[Se.None,"matTextSuffix","_isTextSelector"]},features:[oe([{provide:Yc,useExisting:n}])]})}}return n})(),qc=new le("FloatingLabelParent"),Pc=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Be(Nc),this._ngZone=Be(te),this._parent=Be(qc),this._resizeSubscription=new Le}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Yb(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(_(W))}}static{this.\u0275dir=Z({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&H("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return n})();function Yb(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var Vc="mdc-line-ripple--active",qr="mdc-line-ripple--deactivating",zc=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{let o=this._elementRef.nativeElement.classList,a=o.contains(qr);r.propertyName==="opacity"&&a&&o.remove(Vc,qr)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(qr),e.add(Vc)}deactivate(){this._elementRef.nativeElement.classList.add(qr)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(te))}}static{this.\u0275dir=Z({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return n})(),Lc=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(te))}}static{this.\u0275cmp=z({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&$(fb,5),i&2){let o;F(o=P())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&H("mdc-notched-outline--notched",r.open)},inputs:{open:[Se.None,"matFormFieldNotchedOutlineOpen","open"]},attrs:gb,ngContentSelectors:bb,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Ne(),O(0,"div",1),v(1,"div",2,0),Q(3),y(),O(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})(),qb={transitionMessages:Xi("transitionMessages",[Zi("enter",Je({opacity:1,transform:"translateY(0%)"})),Lt("void => enter",[Je({opacity:0,transform:"translateY(-5px)"}),zt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Sn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Z({type:n})}}return n})();var ji=new le("MatFormField"),$b=new le("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bc=0,Hc="fill",Wb="auto",jc="fixed",Kb="translateY(-50%)",dv=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ue(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Wb}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let i=this._appearance,r=e||this._defaults?.appearance||Hc;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||jc}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||jc}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,a,s,l,d){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=a,this._defaults=s,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance=Hc,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${Bc++}`,this._hintLabelId=`mat-mdc-hint-${Bc++}`,this._subscriptAnimationState="",this._destroyed=new J,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,s&&(s.appearance&&(this.appearance=s.appearance),this._hideRequiredMarker=!!s?.hideRequiredMarker,s.color&&(this.color=s.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(wt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),pi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(wt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(wt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0,s=this._dir.value==="rtl"?"-1":"1",l=`${o+a}px`,c=`calc(${s} * (${l} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Kb} translateX(${c})
    )`}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(de),_(te),_(jt),_(Xe),_($b,8),_(Gi,8),_(Wn))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(Ye(o,Rc,5),Ye(o,Rc,7),Ye(o,Sn,5),Ye(o,jb,5),Ye(o,Yc,5),Ye(o,Bb,5),Ye(o,Fc,5)),i&2){let a;F(a=P())&&(r._labelChildNonStatic=a.first),F(a=P())&&(r._labelChildStatic=a.first),F(a=P())&&(r._formFieldControl=a.first),F(a=P())&&(r._prefixChildren=a),F(a=P())&&(r._suffixChildren=a),F(a=P())&&(r._errorChildren=a),F(a=P())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&($(_b,5),$(xb,5),$(vb,5),$(Pc,5),$(Lc,5),$(zc,5)),i&2){let o;F(o=P())&&(r._textField=o.first),F(o=P())&&(r._iconPrefixContainer=o.first),F(o=P())&&(r._textPrefixContainer=o.first),F(o=P())&&(r._floatingLabel=o.first),F(o=P())&&(r._notchedOutline=o.first),F(o=P())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){i&2&&H("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[oe([{provide:ji,useExisting:n},{provide:qc,useExisting:n}])],ngContentSelectors:wb,decls:18,vars:23,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){if(i&1){let o=X();Ne(yb),A(0,Db,1,1,"ng-template",null,0,gs),v(2,"div",4,1),M("click",function(s){return I(o),E(r._control.onContainerClick(s))}),A(4,Mb,1,0,"div",5),v(5,"div",6),A(6,Eb,2,2,"div",7)(7,Ab,3,0,"div",8)(8,Ob,3,0,"div",9),v(9,"div",10),A(10,Nb,1,1,"ng-template",11),Q(11),y(),A(12,Rb,2,0,"div",12)(13,Fb,2,0,"div",13),y(),A(14,Pb,1,0,"div",14),y(),v(15,"div",15),A(16,Vb,2,1,"div",16)(17,Lb,5,2,"div",17),y()}i&2&&(g(2),H("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),g(2),b("ngIf",!r._hasOutline()&&!r._control.disabled),g(2),b("ngIf",r._hasOutline()),g(),b("ngIf",r._hasIconPrefix),g(),b("ngIf",r._hasTextPrefix),g(2),b("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),g(2),b("ngIf",r._hasTextSuffix),g(),b("ngIf",r._hasIconSuffix),g(),b("ngIf",!r._hasOutline()),g(),H("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),b("ngSwitch",r._getDisplayedMessages()),g(),b("ngSwitchCase","error"),g(),b("ngSwitchCase","hint"))},dependencies:[Ae,Gn,Kn,Un,Fc,Pc,Lc,zc],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[qb.transitionMessages]},changeDetection:0})}}return n})(),In=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=G({type:n})}static{this.\u0275inj=U({imports:[pe,ce,Ss,pe]})}}return n})();var $c=vi({passive:!0}),Wc=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ts;let i=oo(e),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new J,a="cdk-text-field-autofilled",s=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(a)?(i.classList.add(a),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",s,$c),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",s,$c)}}),o}stopMonitoring(e){let i=oo(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(Ft(Xe),Ft(te))}}static{this.\u0275prov=Me({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Kc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=G({type:n})}static{this.\u0275inj=U({})}}return n})();var Ha=new le("MAT_INPUT_VALUE_ACCESSOR"),Qb=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Jb=0,Xb=Xn(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new J}}),Ev=(()=>{class n extends Xb{get disabled(){return this._disabled}set disabled(e){this._disabled=ue(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(it.required)??!1}set required(e){this._required=ue(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ro().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ue(e)}constructor(e,i,r,o,a,s,l,d,c,u){super(s,o,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=d,this._formField=u,this._uid=`mat-input-${Jb++}`,this.focused=!1,this.stateChanges=new J,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>ro().has(m)),this._iOSKeyupListener=m=>{let f=m.target;!f.value&&f.selectionStart===0&&f.selectionEnd===0&&(f.setSelectionRange(1,1),f.setSelectionRange(0,0))};let p=this._elementRef.nativeElement,h=p.nodeName.toLowerCase();this._inputValueAccessor=l||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&c.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect=h==="select",this._isTextarea=h==="textarea",this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Qb.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(Xe),_(en,10),_(Cs,8),_(tn,8),_(so),_(Ha,10),_(Wc),_(te),_(ji,8))}}static{this.\u0275dir=Z({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){i&1&&M("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(bi("id",r.id)("disabled",r.disabled)("required",r.required),R("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),H("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[Se.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[oe([{provide:Sn,useExisting:n}]),je,He]})}}return n})(),Av=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=G({type:n})}static{this.\u0275inj=U({imports:[pe,In,In,Kc,pe]})}}return n})();var Zb=["mat-button",""],e_=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],t_=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var i_=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var n_=["mat-icon-button",""],r_=["*"];var o_=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],a_=Qn(ao(Jn(class{constructor(n){this._elementRef=n}}))),Uc=(()=>{class n extends a_{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ue(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=ue(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Be(Es),this._rippleLoader=Be(Ts),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let a=e.nativeElement.classList;for(let s of o_)this._hasHostAttributes(s.selector)&&s.mdcClasses.forEach(l=>{a.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){Ji()}}static{this.\u0275dir=Z({type:n,features:[je]})}}return n})(),s_=["disabled","disableRipple","color","tabIndex"];var ja=(()=>{class n extends Uc{constructor(e,i,r,o){super(e,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(Xe),_(te),_(Gi,8))}}static{this.\u0275cmp=z({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){i&2&&(R("disabled",r.disabled||null),H("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[je],attrs:Zb,ngContentSelectors:t_,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Ne(e_),O(0,"span",0),Q(1),v(2,"span",1),Q(3,1),y(),Q(4,2),O(5,"span",2)(6,"span",3)),i&2&&H("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(
      100% + 4px
    );width:calc(
      100% + 4px
    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}`,".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var $v=[...s_,"extended"];var Ya=(()=>{class n extends Uc{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(Xe),_(te),_(Gi,8))}}static{this.\u0275cmp=z({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){i&2&&(R("disabled",r.disabled||null),H("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[je],attrs:n_,ngContentSelectors:r_,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Ne(),O(0,"span",0),Q(1),O(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',i_],encapsulation:2,changeDetection:0})}}return n})();var Gc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=G({type:n})}static{this.\u0275inj=U({imports:[pe,Zn,pe]})}}return n})();var d_=["mat-calendar-body",""];function c_(n,t){if(n&1&&(v(0,"tr",3)(1,"td",4),j(2),y()()),n&2){let e=C();g(),hi("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),R("colspan",e.numCols),g(),Ee(" ",e.label," ")}}function u_(n,t){if(n&1&&(v(0,"td",4),j(1),y()),n&2){let e=C(2);hi("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),R("colspan",e._firstRowOffset),g(),Ee(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function p_(n,t){if(n&1){let e=X();v(0,"td",8)(1,"button",9),M("click",function(r){let o=I(e).$implicit,a=C(2);return E(a._cellClicked(o,r))})("focus",function(r){let o=I(e).$implicit,a=C(2);return E(a._emitActiveDateChange(o,r))}),v(2,"span",10),j(3),y(),O(4,"span",11),y()()}if(n&2){let e=t.$implicit,i=t.index,r=C().index,o=C();hi("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),R("data-mat-row",r)("data-mat-col",i),g(),H("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),b("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),R("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),g(),H("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),g(),Ee(" ",e.displayValue," ")}}function m_(n,t){if(n&1&&(v(0,"tr",5),A(1,u_,2,6,"td",6)(2,p_,5,48,"td",7),y()),n&2){let e=t.$implicit,i=t.index,r=C();g(),b("ngIf",i===0&&r._firstRowOffset),g(),b("ngForOf",e)}}function h_(n,t){if(n&1&&(v(0,"th",5)(1,"span",6),j(2),y(),v(3,"span",7),j(4),y()()),n&2){let e=t.$implicit;g(2),ie(e.long),g(2),ie(e.narrow)}}var f_=["*"];function g_(n,t){}function b_(n,t){if(n&1){let e=X();v(0,"mat-month-view",5),qn("activeDateChange",function(r){I(e);let o=C();return Yn(o.activeDate,r)||(o.activeDate=r),E(r)}),M("_userSelection",function(r){I(e);let o=C();return E(o._dateSelected(r))})("dragStarted",function(r){I(e);let o=C();return E(o._dragStarted(r))})("dragEnded",function(r){I(e);let o=C();return E(o._dragEnded(r))}),y()}if(n&2){let e=C();jn("activeDate",e.activeDate),b("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function __(n,t){if(n&1){let e=X();v(0,"mat-year-view",6),qn("activeDateChange",function(r){I(e);let o=C();return Yn(o.activeDate,r)||(o.activeDate=r),E(r)}),M("monthSelected",function(r){I(e);let o=C();return E(o._monthSelectedInYearView(r))})("selectedChange",function(r){I(e);let o=C();return E(o._goToDateInView(r,"month"))}),y()}if(n&2){let e=C();jn("activeDate",e.activeDate),b("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function x_(n,t){if(n&1){let e=X();v(0,"mat-multi-year-view",7),qn("activeDateChange",function(r){I(e);let o=C();return Yn(o.activeDate,r)||(o.activeDate=r),E(r)}),M("yearSelected",function(r){I(e);let o=C();return E(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){I(e);let o=C();return E(o._goToDateInView(r,"year"))}),y()}if(n&2){let e=C();jn("activeDate",e.activeDate),b("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function v_(n,t){}var y_=["button"],w_=[[["","matDatepickerToggleIcon",""]]],C_=["[matDatepickerToggleIcon]"];function k_(n,t){n&1&&(Bn(),v(0,"svg",3),O(1,"path",4),y())}var Rn=(()=>{class n{constructor(){this.changes=new J,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Me({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),On=class{constructor(t,e,i,r,o={},a=t,s){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=a,this.rawValue=s}},D_=1,Qc=vi({passive:!1,capture:!0}),Nt=vi({passive:!0,capture:!0}),$r=vi({passive:!0}),Wi=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=Be(Xe),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new T,this.previewChange=new T,this.activeDateChange=new T,this.dragStarted=new T,this.dragEnded=new T,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&r.type==="focus"){this._skipNextFocus=!1;return}if(r.target&&this.isRange){let o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;let o=Jc(r),a=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),$a(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:r}))},this._leaveHandler=r=>{this.previewEnd!==null&&this.isRange&&(r.type!=="blur"&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&!(r.relatedTarget&&this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;let o=$a(r.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let a=this._getCellFromElement(o);this.dragEnded.emit({value:a?.rawValue??null,event:r})})},this._touchendHandler=r=>{let o=Jc(r);o&&this._mouseupHandler({target:o})},this._id=`mat-calendar-body-${D_++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{let r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,Qc),r.addEventListener("mouseenter",this._enterHandler,Nt),r.addEventListener("focus",this._enterHandler,Nt),r.addEventListener("mouseleave",this._leaveHandler,Nt),r.addEventListener("blur",this._leaveHandler,Nt),r.addEventListener("mousedown",this._mousedownHandler,$r),r.addEventListener("touchstart",this._mousedownHandler,$r),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,Qc),e.removeEventListener("mouseenter",this._enterHandler,Nt),e.removeEventListener("focus",this._enterHandler,Nt),e.removeEventListener("mouseleave",this._leaveHandler,Nt),e.removeEventListener("blur",this._leaveHandler,Nt),e.removeEventListener("mousedown",this._mousedownHandler,$r),e.removeEventListener("touchstart",this._mousedownHandler,$r),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zn(1)).subscribe(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Wa(e,this.startValue,this.endValue)}_isRangeEnd(e){return Ka(e,this.startValue,this.endValue)}_isInRange(e){return Ua(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Wa(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){let a=this.rows[i-1];o=a&&a[a.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){let a=this.rows[i+1];o=a&&a[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return Ka(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Ua(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Wa(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Ka(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Ua(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let i=$a(e);if(i){let r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(te))}}static{this.\u0275cmp=z({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[He],attrs:d_,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){i&1&&(A(0,c_,3,6,"tr",0)(1,m_,3,2,"tr",1),v(2,"label",2),j(3),y(),v(4,"label",2),j(5),y()),i&2&&(b("ngIf",r._firstRowOffset<r.labelMinRequiredCells),g(),b("ngForOf",r.rows),g(),b("id",r._startDateLabelId),g(),Ee(" ",r.startDateAccessibleName,`
`),g(),b("id",r._endDateLabelId),g(),Ee(" ",r.endDateAccessibleName,`
`))},dependencies:[qe,Pt,Ae],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}}return n})();function qa(n){return n?.nodeName==="TD"}function $a(n){let t;return qa(n)?t=n:qa(n.parentNode)?t=n.parentNode:qa(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function Wa(n,t,e){return e!==null&&t!==e&&n<e&&n===t}function Ka(n,t,e){return t!==null&&t!==e&&n>=t&&n===e}function Ua(n,t,e,i){return i&&t!==null&&e!==null&&t!==e&&n>=t&&n<=e}function Jc(n){let t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var Ge=class{constructor(t,e){this.start=t,this.end=e}},Tn=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new J,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static{this.\u0275fac=function(i){Ji()}}static{this.\u0275prov=Me({token:n,factory:n.\u0275fac})}}return n})(),M_=(()=>{class n extends Tn{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static{this.\u0275fac=function(i){return new(i||n)(Ft(Re))}}static{this.\u0275prov=Me({token:n,factory:n.\u0275fac})}}return n})();function S_(n,t){return n||new M_(t)}var ru={provide:Tn,deps:[[new rs,new as,Tn],Re],useFactory:S_};var ou=new le("MAT_DATE_RANGE_SELECTION_STRATEGY");var Ga=7,Xc=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ge?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=a,this._rerenderSubscription=Le.EMPTY,this.activeDrag=null,this.selectedChange=new T,this._userSelection=new T,this.dragStarted=new T,this.dragEnded=new T,this.activeDateChange=new T,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ln(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,r=this._getDateFromDayOfMonth(i),o,a;this._selected instanceof Ge?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==i||a!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!Ht(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Ga+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Ga,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){let r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((a,s)=>({long:a,narrow:i[s]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){o==Ga&&(this._weeks.push([]),o=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),s=this._shouldEnableDate(a),l=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new On(r+1,i[r],l,s,d,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Ge?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(i){return new(i||n)(_(de),_(Yt,8),_(Re,8),_(jt,8),_(ou,8))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(i&1&&$(Wi,5),i&2){let o;F(o=P())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[He],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){i&1&&(v(0,"table",0)(1,"thead",1)(2,"tr"),A(3,h_,5,2,"th",2),y(),v(4,"tr"),O(5,"th",3),y()(),v(6,"tbody",4),M("selectedValueChange",function(a){return r._dateSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("previewChange",function(a){return r._previewChanged(a)})("dragStarted",function(a){return r.dragStarted.emit(a)})("dragEnded",function(a){return r._dragEnded(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),y()()),i&2&&(g(3),b("ngForOf",r._weekdays),g(3),b("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Pt,Wi],encapsulation:2,changeDetection:0})}}return n})(),ze=24,Qa=4,Zc=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),au(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ge?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Le.EMPTY,this.selectedChange=new T,this.yearSelected=new T,this.activeDateChange=new T,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ln(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-En(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<ze;r++)o.push(i+r),o.length==Qa&&(this._years.push(o.map(a=>this._createCellForYear(a))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Qa);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Qa);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-En(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ze-En(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-ze*10:-ze);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?ze*10:ze);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return En(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new On(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let r=i;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ge){let i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static{this.\u0275fac=function(i){return new(i||n)(_(de),_(Re,8),_(jt,8))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(i&1&&$(Wi,5),i&2){let o;F(o=P())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(v(0,"table",0)(1,"thead",1)(2,"tr"),O(3,"th",2),y()(),v(4,"tbody",3),M("selectedValueChange",function(a){return r._yearSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),y()()),i&2&&(g(4),b("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Wi],encapsulation:2,changeDetection:0})}}return n})();function au(n,t,e,i,r){let o=n.getYear(t),a=n.getYear(e),s=su(n,i,r);return Math.floor((o-s)/ze)===Math.floor((a-s)/ze)}function En(n,t,e,i){let r=n.getYear(t);return I_(r-su(n,e,i),ze)}function su(n,t,e){let i=0;return e?i=n.getYear(e)-ze+1:t&&(i=n.getYear(t)),i}function I_(n,t){return(n%t+t)%t}var eu=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof Ge?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Le.EMPTY,this.selectedChange=new T,this.monthSelected=new T,this.activeDateChange=new T,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ln(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new On(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,e,1);for(let o=r;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Ge?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static{this.\u0275fac=function(i){return new(i||n)(_(de),_(Yt,8),_(Re,8),_(jt,8))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(i&1&&$(Wi,5),i&2){let o;F(o=P())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(v(0,"table",0)(1,"thead",1)(2,"tr"),O(3,"th",2),y()(),v(4,"tbody",3),M("selectedValueChange",function(a){return r._monthSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),y()()),i&2&&(g(4),b("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Wi],encapsulation:2,changeDetection:0})}}return n})(),E_=1,A_=(()=>{class n{constructor(e,i,r,o,a){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._id=`mat-calendar-header-${E_++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-ze)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:ze)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):au(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-En(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+ze-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,a]}static{this.\u0275fac=function(i){return new(i||n)(_(Rn),_(tt(()=>Ja)),_(Re,8),_(Yt,8),_(de))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:f_,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,r){i&1&&(Ne(),v(0,"div",0)(1,"div",1)(2,"button",2),M("click",function(){return r.currentPeriodClicked()}),v(3,"span",3),j(4),y(),Bn(),v(5,"svg",4),O(6,"polygon",5),y()(),ls(),O(7,"div",6),Q(8),v(9,"button",7),M("click",function(){return r.previousClicked()}),y(),v(10,"button",8),M("click",function(){return r.nextClicked()}),y()()(),v(11,"label",9),j(12),y()),i&2&&(g(2),R("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),g(2),ie(r.periodButtonText),g(),H("mat-calendar-invert",r.calendar.currentView!=="month"),g(4),b("disabled",!r.previousEnabled()),R("aria-label",r.prevButtonLabel),g(),b("disabled",!r.nextEnabled()),R("aria-label",r.nextButtonLabel),g(),b("id",r._periodButtonLabelId),g(),ie(r.periodButtonDescription))},dependencies:[ja,Ya],encapsulation:2,changeDetection:0})}}return n})(),Ja=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof Ge?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new T,this.yearSelected=new T,this.monthSelected=new T,this.viewChanged=new T(!0),this._userSelection=new T,this._userDragDrop=new T,this._activeDrag=null,this.stateChanges=new J,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new co(this.headerComponent||A_),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){let a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let i=e.value;(this.selected instanceof Ge||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(i){return new(i||n)(_(Rn),_(Re,8),_(Yt,8),_(de))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(i&1&&($(Xc,5),$(eu,5),$(Zc,5)),i&2){let o;F(o=P())&&(r.monthView=o.first),F(o=P())&&(r.yearView=o.first),F(o=P())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[oe([ru]),He],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,r){i&1&&(A(0,g_,0,0,"ng-template",0),v(1,"div",1),A(2,b_,1,11,"mat-month-view",2)(3,__,1,6,"mat-year-view",3)(4,x_,1,6,"mat-multi-year-view",4),y()),i&2&&(b("cdkPortalOutlet",r._calendarHeaderPortal),g(),b("ngSwitch",r.currentView),g(),b("ngSwitchCase","month"),g(),b("ngSwitchCase","year"),g(),b("ngSwitchCase","multi-year"))},dependencies:[Kn,Un,As,uo,Xc,eu,Zc],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}}return n})(),tu={transformPanel:Xi("transformPanel",[Lt("void => enter-dropdown",zt("120ms cubic-bezier(0, 0, 0.2, 1)",Jr([Je({opacity:0,transform:"scale(1, 0.8)"}),Je({opacity:1,transform:"scale(1, 1)"})]))),Lt("void => enter-dialog",zt("150ms cubic-bezier(0, 0, 0.2, 1)",Jr([Je({opacity:0,transform:"scale(0.7)"}),Je({transform:"none",opacity:1})]))),Lt("* => void",zt("100ms linear",Je({opacity:0})))]),fadeInCalendar:Xi("fadeInCalendar",[Zi("void",Je({opacity:0})),Zi("enter",Je({opacity:1})),Lt("void => *",zt("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},O_=0,lu=new le("mat-datepicker-scroll-strategy");function T_(n){return()=>n.scrollStrategies.reposition()}var N_={provide:lu,deps:[yi],useFactory:T_},R_=Qn(class{constructor(n){this._elementRef=n}}),F_=(()=>{class n extends R_{constructor(e,i,r,o,a,s){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=a,this._subscriptions=new Le,this._animationDone=new J,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=s.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,r=e.value,o=i instanceof Ge;if(o&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(de),_(Tn),_(Re),_(ou,8),_(Rn))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(i&1&&$(Ja,5),i&2){let o;F(o=P())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,r){i&1&&fs("@transformPanel.start",function(a){return r._handleAnimationEvent(a)})("@transformPanel.done",function(a){return r._handleAnimationEvent(a)}),i&2&&(hs("@transformPanel",r._animationState),H("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[je],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,r){if(i&1&&(v(0,"div",0)(1,"mat-calendar",1),M("yearSelected",function(a){return r.datepicker._selectYear(a)})("monthSelected",function(a){return r.datepicker._selectMonth(a)})("viewChanged",function(a){return r.datepicker._viewChanged(a)})("_userSelection",function(a){return r._handleUserSelection(a)})("_userDragDrop",function(a){return r._handleUserDragDrop(a)}),y(),A(2,v_,0,0,"ng-template",2),v(3,"button",3),M("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),j(4),y()()),i&2){let o;H("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),R("aria-modal",!0)("aria-labelledby",(o=r._dialogLabelId)!==null&&o!==void 0?o:void 0),g(),b("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),g(),b("cdkPortalOutlet",r._actionsPortal),g(),H("cdk-visually-hidden",!r._closeButtonFocused),b("color",r.color||"primary"),g(),ie(r._closeButtonText)}},dependencies:[qe,ja,Is,uo,Ja],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[tu.transformPanel,tu.fadeInCalendar]},changeDetection:0})}}return n})(),iu=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=ue(e)}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){let i=ue(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=ue(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Ms(e)}get opened(){return this._opened}set opened(e){ue(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,o,a,s,l){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=a,this._dir=s,this._model=l,this._inputStateChanges=Le.EMPTY,this._document=Be(Wn),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new T,this.monthSelected=new T,this.viewChanged=new T(!0),this.openedStream=new T,this.closedStream=new T,this._opened=!1,this.id=`mat-datepicker-${O_++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new J,this._dateAdapter,this._scrollStrategy=o}ngOnChanges(e){let i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof Fs&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Ds(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this._restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(zn(1)).subscribe(()=>{let a=this._document.activeElement;e&&(!a||a===this._document.activeElement||o.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,i=new co(F_,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Rs({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{let a=o.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(zn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let i=this.xPosition==="end"?"end":"start",r=i==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",a=o==="top"?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:a}])}_getCloseStream(e){let i=["ctrlKey","shiftKey","metaKey"];return pi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Vn(r=>r.keyCode===27&&!Ht(r)||this.datepickerInput&&Ht(r,"altKey")&&r.keyCode===38&&i.every(o=>!Ht(r,o)))))}static{this.\u0275fac=function(i){return new(i||n)(_(yi),_(te),_(us),_(lu),_(Re,8),_(jt,8),_(Tn))}}static{this.\u0275dir=Z({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[He]})}}return n})(),Ey=(()=>{class n extends iu{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Hn(n)))(r||n)}})()}static{this.\u0275cmp=z({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[oe([ru,{provide:iu,useExisting:n}]),je],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}}return n})(),Yi=class{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}},P_=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let i=ue(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){let r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Yi(this,this._elementRef.nativeElement)),this.dateChange.emit(new Yi(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new T,this.dateInput=new T,this.stateChanges=new J,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Le.EMPTY,this._localeSubscription=Le.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),s=this._getMinDate();return!s||!a||this._dateAdapter.compareDate(s,a)<=0?null:{matDatepickerMin:{min:s,actual:a}}},this._maxValidator=o=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),s=this._getMaxDate();return!s||!a||this._dateAdapter.compareDate(s,a)>=0?null:{matDatepickerMax:{max:s,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){V_(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let i=["ctrlKey","shiftKey","metaKey"];Ht(e,"altKey")&&e.keyCode===40&&i.every(o=>!Ht(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let i=this._lastValueValid,r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new Yi(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Yi(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let i=this._getDateFilter();return!i||i(e)}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(Re,8),_(Yt,8))}}static{this.\u0275dir=Z({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[He]})}}return n})();function V_(n,t){let e=Object.keys(n);for(let i of e){let{previousValue:r,currentValue:o}=n[i];if(t.isDateInstance(r)&&t.isDateInstance(o)){if(!t.sameDate(r,o))return!0}else return!0}return!1}var z_={provide:Ct,useExisting:tt(()=>du),multi:!0},L_={provide:ws,useExisting:tt(()=>du),multi:!0},du=(()=>{class n extends P_{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){let i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=Le.EMPTY,this._validator=it.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static{this.\u0275fac=function(i){return new(i||n)(_(W),_(Re,8),_(Yt,8),_(ji,8))}}static{this.\u0275dir=Z({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){i&1&&M("input",function(a){return r._onInput(a.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(a){return r._onKeydown(a)}),i&2&&(bi("disabled",r.disabled),R("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(r._datepicker==null?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[Se.None,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[oe([z_,L_,{provide:Ha,useExisting:n}]),je]})}}return n})(),B_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Z({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}}return n})(),Ay=(()=>{class n{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=ue(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Le.EMPTY;let o=Number(r);this.tabIndex=o||o===0?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:Rt(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Rt(),r=this.datepicker?pi(this.datepicker.openedStream,this.datepicker.closedStream):Rt();this._stateChanges.unsubscribe(),this._stateChanges=pi(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(_(Rn),_(de),Ki("tabindex"))}}static{this.\u0275cmp=z({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,o){if(i&1&&Ye(o,B_,5),i&2){let a;F(a=P())&&(r._customIcon=a.first)}},viewQuery:function(i,r){if(i&1&&$(y_,5),i&2){let o;F(o=P())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){i&1&&M("click",function(a){return r._open(a)}),i&2&&(R("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),H("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[Se.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[Se.None,"aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[He],ngContentSelectors:C_,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){i&1&&(Ne(w_),v(0,"button",1,0),A(2,k_,2,0,"svg",2),Q(3),y()),i&2&&(b("disabled",r.disabled)("disableRipple",r.disableRipple),R("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),g(2),b("ngIf",!r._customIcon))},dependencies:[Ae,Ya],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})();var Oy=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=G({type:n})}static{this.\u0275inj=U({providers:[Rn,N_],imports:[ce,Gc,tr,Os,Ns,pe,er]})}}return n})();var H_=["input"],j_=(n,t,e)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":n,"p-disabled":t,"p-focus":e}),Y_={provide:Ct,useExisting:tt(()=>q_),multi:!0},q_=(()=>{class n{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;onChange=new T;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}onClick(e){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue}),e.preventDefault(),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(i){return new(i||n)(_(de))};static \u0275cmp=z({type:n,selectors:[["p-inputSwitch"]],viewQuery:function(i,r){if(i&1&&$(H_,5),i&2){let o;F(o=P())&&(r.input=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[oe([Y_])],decls:5,vars:22,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"focus","blur","checked","disabled"],[1,"p-inputswitch-slider"]],template:function(i,r){if(i&1){let o=X();v(0,"div",1),M("click",function(s){return I(o),E(r.onClick(s))}),v(1,"div",2)(2,"input",3,0),M("focus",function(){return I(o),E(r.onFocus())})("blur",function(){return I(o),E(r.onBlur())}),y()(),O(4,"span",4),y()}i&2&&(Ie(r.styleClass),b("ngClass",_i(18,j_,r.checked(),r.disabled,r.focused))("ngStyle",r.style),R("data-pc-name","inputswitch")("data-pc-section","root"),g(),R("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),g(),b("checked",r.checked())("disabled",r.disabled),R("id",r.inputId)("aria-checked",r.checked())("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("name",r.name)("tabindex",r.tabindex)("data-pc-section","hiddenInput"),g(2),R("data-pc-section","slider"))},dependencies:[qe,xi],styles:[`@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}
`],encapsulation:2,changeDetection:0})}return n})(),qy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=G({type:n});static \u0275inj=U({imports:[ce]})}return n})();var W_=new le("mat-select-scroll-strategy");function K_(n){return()=>n.scrollStrategies.reposition()}var U_={provide:W_,deps:[yi],useFactory:K_};var v1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=G({type:n})}static{this.\u0275inj=U({providers:[U_],imports:[ce,tr,lo,pe,er,In,lo,pe]})}}return n})();var C1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=G({type:n});static \u0275inj=U({imports:[ce]})}return n})();var G_=["input"],Q_=(n,t,e)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":t,"p-radiobutton-focused":e}),J_=(n,t,e)=>({"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":t,"p-focus":e}),X_=(n,t,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":t,"p-radiobutton-label-focus":e});function Z_(n,t){if(n&1){let e=X();v(0,"label",7),M("click",function(r){I(e);let o=C();return E(o.select(r))}),j(1),y()}if(n&2){let e=C(),i=pt(3);Ie(e.labelStyleClass),b("ngClass",_i(6,X_,i.checked,e.disabled,e.focused)),R("for",e.inputId)("data-pc-section","label"),g(),ie(e.label)}}var e0={provide:Ct,useExisting:tt(()=>i0),multi:!0},t0=(()=>{class n{accessors=[];add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return e[0].control?e[0].control.root===i.control.control.root&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),i0=(()=>{class n{cd;injector;registry;value;formControlName;name;disabled;label;tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;onClick=new T;onFocus=new T;onBlur=new T;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,i,r){this.cd=e,this.injector=i,this.registry=r}ngOnInit(){this.control=this.injector.get(en),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,r){e.preventDefault(),!this.disabled&&(this.select(e),r&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error(`
          If you define both a name and a formControlName attribute on your radio button, their values
          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>
        `)}static \u0275fac=function(i){return new(i||n)(_(de),_(Ui),_(t0))};static \u0275cmp=z({type:n,selectors:[["p-radioButton"]],viewQuery:function(i,r){if(i&1&&$(G_,5),i&2){let o;F(o=P())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[oe([e0])],decls:7,vars:29,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"focus","blur","checked","disabled","value"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(i,r){if(i&1){let o=X();v(0,"div",1),M("click",function(s){I(o);let l=pt(3);return E(r.handleClick(s,l,!0))}),v(1,"div",2)(2,"input",3,0),M("focus",function(s){return I(o),E(r.onInputFocus(s))})("blur",function(s){return I(o),E(r.onInputBlur(s))}),y()(),v(4,"div",4),O(5,"span",5),y()(),A(6,Z_,2,10,"label",6)}i&2&&(Ie(r.styleClass),b("ngStyle",r.style)("ngClass",_i(21,Q_,r.checked,r.disabled,r.focused)),R("data-pc-name","radiobutton")("data-pc-section","root"),g(),R("data-pc-section","hiddenInputWrapper"),g(),b("checked",r.checked)("disabled",r.disabled)("value",r.value),R("id",r.inputId)("name",r.name)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("tabindex",r.tabindex)("aria-checked",r.checked)("data-pc-section","hiddenInput"),g(2),b("ngClass",_i(25,J_,r.checked,r.disabled,r.focused)),R("data-pc-section","input"),g(),R("data-pc-section","icon"),g(),b("ngIf",r.label))},dependencies:[qe,Ae,xi],encapsulation:2,changeDetection:0})}return n})(),F1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=G({type:n});static \u0275inj=U({imports:[ce]})}return n})();var L1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=G({type:n})}static{this.\u0275inj=U({imports:[pe,ce,Zn,pe]})}}return n})();export{Pf as a,Sx as b,Ox as c,Tx as d,kc as e,lv as f,dv as g,In as h,Ev as i,Av as j,Ey as k,du as l,Ay as m,Oy as n,qy as o,v1 as p,C1 as q,F1 as r,L1 as s};
